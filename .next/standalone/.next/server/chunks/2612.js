exports.id=2612,exports.ids=[2612],exports.modules={13974:e=>{function t(e,t,r,a){return Math.round(e/r)+" "+a+(t>=1.5*r?"s":"")}e.exports=function(e,r){r=r||{};var a,n,i=typeof e;if("string"===i&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"weeks":case"week":case"w":return 6048e5*r;case"days":case"day":case"d":return 864e5*r;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*r;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*r;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(e);if("number"===i&&isFinite(e))return r.long?(a=Math.abs(e))>=864e5?t(e,a,864e5,"day"):a>=36e5?t(e,a,36e5,"hour"):a>=6e4?t(e,a,6e4,"minute"):a>=1e3?t(e,a,1e3,"second"):e+" ms":(n=Math.abs(e))>=864e5?Math.round(e/864e5)+"d":n>=36e5?Math.round(e/36e5)+"h":n>=6e4?Math.round(e/6e4)+"m":n>=1e3?Math.round(e/1e3)+"s":e+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},71007:(e,t,r)=>{"use strict";r.d(t,{Bm:()=>i,XH:()=>o});var a=r(25559),n=r(73185);async function i(e,t=["en","pl","es","fr","de"]){try{let r=e;if(e.includes("youtube.com")||e.includes("youtu.be")){let t=(0,n.jx)(e);if(!t)return{transcript:"",error:"Invalid YouTube URL format"};r=t}if(!(0,n.cc)(r))return{transcript:"",error:"Invalid YouTube video ID"};console.log(`[YouTubeTranscript] Extracting transcript for video: ${r}`);let i=null;for(let e of t)try{console.log(`[YouTubeTranscript] Trying language: ${e}`);let t=await a.Z.getTranscript(r,{lang:e,country:"US"});if(t&&t.length>0){let r=t.map(e=>({text:e.text||"",start:e.offset||0,duration:e.duration||0})),a=r.map(e=>e.text.trim()).filter(e=>e.length>0).join(" ").replace(/\s+/g," ").trim();if(a.length>0)return console.log(`[YouTubeTranscript] Successfully extracted transcript in ${e} (${a.length} characters)`),{transcript:a,segments:r,language:e}}}catch(t){console.warn(`[YouTubeTranscript] Failed to get transcript in ${e}:`,t.message),i=t;continue}try{console.log("[YouTubeTranscript] Trying to get transcript without language specification...");let e=await a.Z.getTranscript(r);if(e&&e.length>0){let t=e.map(e=>({text:e.text||"",start:e.offset||0,duration:e.duration||0})),r=t.map(e=>e.text.trim()).filter(e=>e.length>0).join(" ").replace(/\s+/g," ").trim();if(r.length>0)return console.log(`[YouTubeTranscript] Successfully extracted transcript without language spec (${r.length} characters)`),{transcript:r,segments:t,language:"auto"}}}catch(e){console.warn("[YouTubeTranscript] Failed to get transcript without language spec:",e.message),i=e}return{transcript:"",error:function(e){if(!e)return"No transcript available for this video";let t=e.message?.toLowerCase()||"";return t.includes("transcript not available")?"No transcript available for this video":t.includes("video unavailable")?"Video is unavailable or private":t.includes("disabled")?"Subtitles have been disabled for this video":t.includes("not found")?"Video not found":t.includes("private")?"Video is private":t.includes("region")?"Video not available in this region":"No transcript available for this video"}(i)}}catch(e){return console.error("[YouTubeTranscript] Unexpected error:",e),{transcript:"",error:`Transcript extraction failed: ${e.message}`}}}async function o(e){try{console.log(`[YouTubeTranscript] Attempting fallback extraction for ${e}`);let t=await Promise.all([r.e(5074),r.e(1947)]).then(r.t.bind(r,71947,23)),a=await t.default.getInfo(`https://www.youtube.com/watch?v=${e}`),n=a.player_response?.captions?.playerCaptionsTracklistRenderer?.captionTracks;if(!n||0===n.length)return{transcript:"",error:"No captions available"};let i=n[0];if(i.baseUrl){let e=await fetch(i.baseUrl),t=await e.text(),r=function(e){try{let t=e.match(/<text[^>]*>(.*?)<\/text>/g);if(!t)return"";return t.map(e=>e.replace(/<text[^>]*>/,"").replace(/<\/text>/,"").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&nbsp;/g," ").trim()).filter(e=>e.length>0).join(" ").replace(/\s+/g," ").trim()}catch(e){return console.error("[YouTubeTranscript] Error parsing caption XML:",e),""}}(t);if(r&&r.length>0)return console.log(`[YouTubeTranscript] Fallback extraction successful (${r.length} characters)`),{transcript:r,language:String(i.languageCode||"unknown")}}return{transcript:"",error:"Could not extract captions from video"}}catch(e){return console.error("[YouTubeTranscript] Fallback extraction failed:",e),{transcript:"",error:`Fallback extraction failed: ${e.message}`}}}},73185:(e,t,r)=>{"use strict";r.d(t,{$p:()=>c,C$:()=>u,cc:()=>s,jx:()=>o});var a=r(61282),n=r(21764),i=r(71007);function o(e){if(!e)return null;let t=e.trim();t.includes("youtu.be/")&&(t=t.replace("youtu.be/","youtube.com/watch?v="));try{let e=new URL(t);if(e.hostname.includes("youtube.com")&&e.pathname.includes("/watch")){let t=e.searchParams.get("v");if(t)return t}if(e.hostname.includes("youtube")&&e.pathname.includes("/embed/")){let t=e.pathname.split("/");return t[t.indexOf("embed")+1]||null}if("youtu.be"===e.hostname)return e.pathname.substring(1)||null;if(e.hostname.includes("youtube")&&e.pathname.includes("/v/")){let t=e.pathname.split("/");return t[t.indexOf("v")+1]||null}}catch(e){console.error("URL parsing failed, trying regex fallback:",e)}for(let e of[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/v\/)([^&\n?#]+)/,/^([a-zA-Z0-9_-]{11})$/]){let r=t.match(e);if(r&&r[1])return r[1]}return null}function s(e){return!!e&&/^[a-zA-Z0-9_-]{11}$/.test(e)}async function c(e){if(!e)return{videoId:"",title:"",thumbnailUrl:"",error:"No video ID provided"};try{let t="AIzaSyCvUahUwoVQyozpRphtVWE0ev0ha46wo0I";if(!t)return console.error("[YouTube Service] No YouTube API key configured"),{videoId:e,title:`YouTube Video (${e})`,thumbnailUrl:`https://img.youtube.com/vi/${e}/hqdefault.jpg`,error:"YouTube API key not configured - using fallback data"};let r=await fetch(`https://www.googleapis.com/youtube/v3/videos?part=snippet&id=${e}&key=${t}`,{next:{revalidate:3600}});if(!r.ok){let t=await r.json();return console.error("[YouTube Service] YouTube API error:",t),{videoId:e,title:`YouTube Video (${e})`,thumbnailUrl:`https://img.youtube.com/vi/${e}/hqdefault.jpg`,error:`YouTube API error: ${t.error?.message||r.statusText}`}}let a=await r.json();if(!a.items||0===a.items.length)return console.error("[YouTube Service] Video not found:",e),{videoId:e,title:`Video Not Found (${e})`,thumbnailUrl:"",error:"Video not found"};let n=a.items[0].snippet;return{videoId:e,title:n.title,description:n.description,thumbnailUrl:n.thumbnails?.high?.url||n.thumbnails?.default?.url||"",channelTitle:n.channelTitle,publishedAt:n.publishedAt}}catch(t){return console.error("[YouTube Service] Error fetching video info:",t),{videoId:e,title:`YouTube Video (${e})`,thumbnailUrl:`https://img.youtube.com/vi/${e}/hqdefault.jpg`,error:`Error fetching video info: ${t.message}`}}}async function u(e){if(!e)return{transcript:"",error:"No video ID provided"};try{console.log(`[YouTube Service] Extracting transcript for video: ${e}`);let t=await (0,i.Bm)(e);if(t.error)return console.warn(`[YouTube Service] Transcript extraction failed: ${t.error}`),{transcript:"",error:t.error};if(!t.transcript||0===t.transcript.trim().length)return{transcript:"",error:"No transcript content available for this video"};return console.log(`[YouTube Service] Successfully extracted transcript (${t.transcript.length} characters)`),{transcript:t.transcript}}catch(e){return console.error("[YouTube Service] Error extracting transcript:",e),{transcript:"",error:`Error extracting transcript: ${e.message}`}}}(0,n.promisify)(a.exec)}};