exports.id=5288,exports.ids=[5288],exports.modules={13890:(e,t,r)=>{function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(78893).Buffer.isBuffer},56916:(e,t,r)=>{"use strict";let n=r(61282),i=r(66806),a=r(86213);function o(e,t,r){let o=i(e,t,r),s=n.spawn(o.command,o.args,o.options);return a.hookChildProcess(s,o),s}e.exports=o,e.exports.spawn=o,e.exports.sync=function(e,t,r){let o=i(e,t,r),s=n.spawnSync(o.command,o.args,o.options);return s.error=s.error||a.verifyENOENTSync(s.status,o),s},e.exports._parse=i,e.exports._enoent=a},86213:e=>{"use strict";let t="win32"===process.platform;function r(e,t){return Object.assign(Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function n(e,n){return t&&1===e&&!n.file?r(n.original,"spawn"):null}e.exports={hookChildProcess:function(e,r){if(!t)return;let i=e.emit;e.emit=function(t,a){if("exit"===t){let t=n(a,r);if(t)return i.call(e,"error",t)}return i.apply(e,arguments)}},verifyENOENT:n,verifyENOENTSync:function(e,n){return t&&1===e&&!n.file?r(n.original,"spawnSync"):null},notFoundError:r}},66806:(e,t,r)=>{"use strict";let n=r(55315),i=r(7677),a=r(54917),o=r(28426),s="win32"===process.platform,l=/\.(?:com|exe)$/i,u=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;e.exports=function(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null);let d={command:e,args:t=t?t.slice(0):[],options:r=Object.assign({},r),file:void 0,original:{command:e,args:t}};return r.shell?d:function(e){if(!s)return e;let t=function(e){e.file=i(e);let t=e.file&&o(e.file);return t?(e.args.unshift(e.file),e.command=t,i(e)):e.file}(e),r=!l.test(t);if(e.options.forceShell||r){let r=u.test(t);e.command=n.normalize(e.command),e.command=a.command(e.command),e.args=e.args.map(e=>a.argument(e,r));let i=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${i}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}(d)}},54917:e=>{"use strict";let t=/([()\][%!^"`<>&|;, *?])/g;e.exports.command=function(e){return e=e.replace(t,"^$1")},e.exports.argument=function(e,r){return e=(e=(e=`${e}`).replace(/(?=(\\+?)?)\1"/g,'$1$1\\"')).replace(/(?=(\\+?)?)\1$/,"$1$1"),e=(e=`"${e}"`).replace(t,"^$1"),r&&(e=e.replace(t,"^$1")),e}},28426:(e,t,r)=>{"use strict";let n=r(92048),i=r(66173);e.exports=function(e){let t;let r=Buffer.alloc(150);try{t=n.openSync(e,"r"),n.readSync(t,r,0,150,0),n.closeSync(t)}catch(e){}return i(r.toString())}},7677:(e,t,r)=>{"use strict";let n=r(55315),i=r(60224),a=r(74387);function o(e,t){let r;let o=e.options.env||process.env,s=process.cwd(),l=null!=e.options.cwd,u=l&&void 0!==process.chdir&&!process.chdir.disabled;if(u)try{process.chdir(e.options.cwd)}catch(e){}try{r=i.sync(e.command,{path:o[a({env:o})],pathExt:t?n.delimiter:void 0})}catch(e){}finally{u&&process.chdir(s)}return r&&(r=n.resolve(l?e.options.cwd:"",r)),r}e.exports=function(e){return o(e)||o(e,!0)}},91755:(e,t,r)=>{"use strict";var n=r(98354);function i(e,t,r){void 0===r&&(r=t,t=e,e=null),n.Duplex.call(this,e),"function"!=typeof r.read&&(r=new n.Readable(e).wrap(r)),this._writable=t,this._readable=r,this._waiting=!1;var i=this;t.once("finish",function(){i.end()}),this.once("finish",function(){t.end()}),r.on("readable",function(){i._waiting&&(i._waiting=!1,i._read())}),r.once("end",function(){i.push(null)}),(!e||void 0===e.bubbleErrors||e.bubbleErrors)&&(t.on("error",function(e){i.emit("error",e)}),r.on("error",function(e){i.emit("error",e)}))}i.prototype=Object.create(n.Duplex.prototype,{constructor:{value:i}}),i.prototype._write=function(e,t,r){this._writable.write(e,t,r)},i.prototype._read=function(){for(var e,t=0;null!==(e=this._readable.read());)this.push(e),t++;0===t&&(this._waiting=!0)},e.exports=function(e,t,r){return new i(e,t,r)},e.exports.DuplexWrapper=i},18963:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},70090:(e,t,r)=>{"use strict";var n=r(7684),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=c;var a=Object.create(r(13890));a.inherits=r(84874);var o=r(51272),s=r(58983);a.inherits(c,o);for(var l=i(s.prototype),u=0;u<l.length;u++){var d=l[u];c.prototype[d]||(c.prototype[d]=s.prototype[d])}function c(e){if(!(this instanceof c))return new c(e);o.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),c.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},49074:(e,t,r)=>{"use strict";e.exports=a;var n=r(74755),i=Object.create(r(13890));function a(e){if(!(this instanceof a))return new a(e);n.call(this,e)}i.inherits=r(84874),i.inherits(a,n),a.prototype._transform=function(e,t,r){r(null,e)}},51272:(e,t,r)=>{"use strict";var n,i,a=r(7684);e.exports=g;var o=r(18963);g.ReadableState=y,r(17702).EventEmitter;var s=function(e,t){return e.listeners(t).length},l=r(13048),u=r(30267).Buffer,d=("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},c=Object.create(r(13890));c.inherits=r(84874);var f=r(21764),h=void 0;h=f&&f.debuglog?f.debuglog("stream"):function(){};var p=r(93058),b=r(71580);c.inherits(g,l);var m=["error","close","destroy","pause","resume"];function y(e,t){n=n||r(70090),e=e||{};var a=t instanceof n;this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,s=e.readableHighWaterMark,l=this.objectMode?16:16384;o||0===o?this.highWaterMark=o:a&&(s||0===s)?this.highWaterMark=s:this.highWaterMark=l,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(i||(i=r(72802).s),this.decoder=new i(e.encoding),this.encoding=e.encoding)}function g(e){if(n=n||r(70090),!(this instanceof g))return new g(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function w(e,t,r,n,i){var a,o,s,l,c,f=e._readableState;return null===t?(f.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,S(e)}}(e,f)):(i||(a=f,o=t,u.isBuffer(o)||o instanceof d||"string"==typeof o||void 0===o||a.objectMode||(s=TypeError("Invalid non-string/buffer chunk")),c=s),c)?e.emit("error",c):f.objectMode||t&&t.length>0?("string"==typeof t||f.objectMode||Object.getPrototypeOf(t)===u.prototype||(l=t,t=u.from(l)),n?f.endEmitted?e.emit("error",Error("stream.unshift() after end event")):v(e,f,t,!0):f.ended?e.emit("error",Error("stream.push() after EOF")):(f.reading=!1,f.decoder&&!r?(t=f.decoder.write(t),f.objectMode||0!==t.length?v(e,f,t,!1):T(e,f)):v(e,f,t,!1))):n||(f.reading=!1),!f.ended&&(f.needReadable||f.length<f.highWaterMark||0===f.length)}function v(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&S(e)),T(e,t)}function _(e,t){if(e<=0||0===t.length&&t.ended)return 0;if(t.objectMode)return 1;if(e!=e)return t.flowing&&t.length?t.buffer.head.data.length:t.length;if(e>t.highWaterMark){var r;t.highWaterMark=((r=e)>=8388608?r=8388608:(r--,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r++),r)}return e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0)}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?a.nextTick(E,e):E(e))}function E(e){h("emit readable"),e.emit("readable"),M(e)}function T(e,t){t.readingMore||(t.readingMore=!0,a.nextTick(R,e,t))}function R(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function x(e){h("readable nexttick read 0"),e.read(0)}function k(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),M(e),t.flowing&&!t.reading&&e.read(0)}function M(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function L(e,t){var r,n,i,a;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):(n=t.buffer,i=t.decoder,e<n.head.data.length?(a=n.head.data.slice(0,e),n.head.data=n.head.data.slice(e)):a=e===n.head.data.length?n.shift():i?function(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var a=r.data,o=e>a.length?a.length:e;if(o===a.length?i+=a:i+=a.slice(0,e),0==(e-=o)){o===a.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(o));break}++n}return t.length-=n,i}(e,n):function(e,t){var r=u.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var a=n.data,o=e>a.length?a.length:e;if(a.copy(r,r.length-e,0,o),0==(e-=o)){o===a.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(o));break}++i}return t.length-=i,r}(e,n),r=a),r)}function D(e){var t=e._readableState;if(t.length>0)throw Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,a.nextTick(A,t,e))}function A(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function O(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return -1}Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),g.prototype.destroy=b.destroy,g.prototype._undestroy=b.undestroy,g.prototype._destroy=function(e,t){this.push(null),t(e)},g.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=u.from(e,t),t=""),r=!0),w(this,e,t,!1,r)},g.prototype.unshift=function(e){return w(this,e,null,!0,!1)},g.prototype.isPaused=function(){return!1===this._readableState.flowing},g.prototype.setEncoding=function(e){return i||(i=r(72802).s),this._readableState.decoder=new i(e),this._readableState.encoding=e,this},g.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t,r=this._readableState,n=e;if(0!==e&&(r.emittedReadable=!1),0===e&&r.needReadable&&(r.length>=r.highWaterMark||r.ended))return h("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?D(this):S(this),null;if(0===(e=_(e,r))&&r.ended)return 0===r.length&&D(this),null;var i=r.needReadable;return h("need readable",i),(0===r.length||r.length-e<r.highWaterMark)&&h("length less than watermark",i=!0),r.ended||r.reading?h("reading or ended",i=!1):i&&(h("do read"),r.reading=!0,r.sync=!0,0===r.length&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(e=_(n,r))),null===(t=e>0?L(e,r):null)?(r.needReadable=!0,e=0):r.length-=e,0===r.length&&(r.ended||(r.needReadable=!0),n!==e&&r.ended&&D(this)),null!==t&&this.emit("data",t),t},g.prototype._read=function(e){this.emit("error",Error("_read() is not implemented"))},g.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,h("pipe count=%d opts=%j",n.pipesCount,t);var i=t&&!1===t.end||e===process.stdout||e===process.stderr?y:l;function l(){h("onend"),e.end()}n.endEmitted?a.nextTick(i):r.once("end",i),e.on("unpipe",function t(i,a){h("onunpipe"),i===r&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,h("cleanup"),e.removeListener("close",b),e.removeListener("finish",m),e.removeListener("drain",u),e.removeListener("error",p),e.removeListener("unpipe",t),r.removeListener("end",l),r.removeListener("end",y),r.removeListener("data",f),d=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&u())});var u=function(){var e=r._readableState;h("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(r,"data")&&(e.flowing=!0,M(r))};e.on("drain",u);var d=!1,c=!1;function f(t){h("ondata"),c=!1,!1!==e.write(t)||c||((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==O(n.pipes,e))&&!d&&(h("false write response, pause",n.awaitDrain),n.awaitDrain++,c=!0),r.pause())}function p(t){h("onerror",t),y(),e.removeListener("error",p),0===s(e,"error")&&e.emit("error",t)}function b(){e.removeListener("finish",m),y()}function m(){h("onfinish"),e.removeListener("close",b),y()}function y(){h("unpipe"),r.unpipe(e)}return r.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",p),e.once("close",b),e.once("finish",m),e.emit("pipe",r),n.flowing||(h("pipe resume"),r.resume()),e},g.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)n[a].emit("unpipe",this,{hasUnpiped:!1});return this}var o=O(t.pipes,e);return -1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},g.prototype.on=function(e,t){var r=l.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&S(this):a.nextTick(x,this))}return r},g.prototype.addListener=g.prototype.on,g.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,e.resumeScheduled||(e.resumeScheduled=!0,a.nextTick(k,this,e))),this},g.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},g.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",function(){if(h("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){h("wrapped data"),r.decoder&&(i=r.decoder.write(i)),(!r.objectMode||null!=i)&&(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<m.length;a++)e.on(m[a],this.emit.bind(this,m[a]));return this._read=function(t){h("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(g.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),g._fromList=L},74755:(e,t,r)=>{"use strict";e.exports=o;var n=r(70090),i=Object.create(r(13890));function a(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);n.call(this,e),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush(function(t,r){l(e,t,r)}):l(this,null,null)}function l(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(84874),i.inherits(o,n),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,r){throw Error("_transform() is not implemented")},o.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,function(e){t(e),r.emit("close")})}},58983:(e,t,r)=>{"use strict";var n,i,a=r(7684);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){(function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(void 0),n=n.next}t.corkedRequestsFree.next=e})(t,e)}}e.exports=m;var s=["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:a.nextTick;m.WritableState=b;var l=Object.create(r(13890));l.inherits=r(84874);var u={deprecate:r(1152)},d=r(13048),c=r(30267).Buffer,f=("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},h=r(71580);function p(){}function b(e,t){n=n||r(70090),e=e||{};var i=t instanceof n;this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var l=e.highWaterMark,u=e.writableHighWaterMark,d=this.objectMode?16:16384;l||0===l?this.highWaterMark=l:i&&(u||0===u)?this.highWaterMark=u:this.highWaterMark=d,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===e.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){(function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t)--r.pendingcb,n?(a.nextTick(i,t),a.nextTick(S,e,r),e._writableState.errorEmitted=!0,e.emit("error",t)):(i(t),e._writableState.errorEmitted=!0,e.emit("error",t),S(e,r));else{var o=v(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||w(e,r),n?s(g,e,r,o,i):g(e,r,o,i)}})(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function m(e){if(n=n||r(70090),!i.call(m,this)&&!(this instanceof n))return new m(e);this._writableState=new b(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),d.call(this)}function y(e,t,r,n,i,a,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function g(e,t,r,n){r||0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain")),t.pendingcb--,n(),S(e,t)}function w(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=Array(t.bufferedRequestCount),i=t.corkedRequestsFree;i.entry=r;for(var a=0,s=!0;r;)n[a]=r,r.isBuf||(s=!1),r=r.next,a+=1;n.allBuffers=s,y(e,t,!0,t.length,n,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,u=r.encoding,d=r.callback,c=t.objectMode?1:l.length;if(y(e,t,!1,c,l,u,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function v(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function _(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),S(e,t)})}function S(e,t){var r=v(t);return r&&(t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,a.nextTick(_,e,t)):(t.prefinished=!0,e.emit("prefinish"))),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}l.inherits(m,d),b.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(b.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(i=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(e){return!!i.call(this,e)||this===m&&e&&e._writableState instanceof b}})):i=function(e){return e instanceof this},m.prototype.pipe=function(){this.emit("error",Error("Cannot pipe, not readable"))},m.prototype.write=function(e,t,r){var n,i,o,s,l,u,d,h,b=this._writableState,m=!1,g=!b.objectMode&&(n=e,c.isBuffer(n)||n instanceof f);return g&&!c.isBuffer(e)&&(i=e,e=c.from(i)),("function"==typeof t&&(r=t,t=null),g?t="buffer":t||(t=b.defaultEncoding),"function"!=typeof r&&(r=p),b.ended)?(o=r,s=Error("write after end"),this.emit("error",s),a.nextTick(o,s)):(g||(l=e,u=r,d=!0,h=!1,null===l?h=TypeError("May not write null values to stream"):"string"==typeof l||void 0===l||b.objectMode||(h=TypeError("Invalid non-string/buffer chunk")),h&&(this.emit("error",h),a.nextTick(u,h),d=!1),d))&&(b.pendingcb++,m=function(e,t,r,n,i,a){if(!r){var o,s,l=(o=n,s=i,t.objectMode||!1===t.decodeStrings||"string"!=typeof o||(o=c.from(o,s)),o);n!==l&&(r=!0,i="buffer",n=l)}var u=t.objectMode?1:n.length;t.length+=u;var d=t.length<t.highWaterMark;if(d||(t.needDrain=!0),t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,u,n,i,a);return d}(this,b,g,e,t,r)),m},m.prototype.cork=function(){var e=this._writableState;e.corked++},m.prototype.uncork=function(){var e=this._writableState;!e.corked||(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||w(this,e))},m.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),m.prototype._write=function(e,t,r){r(Error("_write() is not implemented"))},m.prototype._writev=null,m.prototype.end=function(e,t,r){var n,i=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||(n=r,i.ending=!0,S(this,i),n&&(i.finished?a.nextTick(n):this.once("finish",n)),i.ended=!0,this.writable=!1)},Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),m.prototype.destroy=h.destroy,m.prototype._undestroy=h.undestroy,m.prototype._destroy=function(e,t){this.end(),t(e)}},93058:(e,t,r)=>{"use strict";var n=r(30267).Buffer,i=r(21764);e.exports=function(){function e(){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);for(var t=n.allocUnsafe(e>>>0),r=this.head,i=0;r;)(function(e,t,r){e.copy(t,r)})(r.data,t,i),i+=r.data.length,r=r.next;return t},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},71580:(e,t,r)=>{"use strict";var n=r(7684);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,a=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return a||o?t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(i,this,e)):n.nextTick(i,this,e)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,n.nextTick(i,r,e)):n.nextTick(i,r,e):t&&t(e)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},13048:(e,t,r)=>{e.exports=r(76162)},98354:(e,t,r)=>{var n=r(76162);"disable"===process.env.READABLE_STREAM&&n?(e.exports=n,(t=e.exports=n.Readable).Readable=n.Readable,t.Writable=n.Writable,t.Duplex=n.Duplex,t.Transform=n.Transform,t.PassThrough=n.PassThrough,t.Stream=n):((t=e.exports=r(51272)).Stream=n||t,t.Readable=t,t.Writable=r(58983),t.Duplex=r(70090),t.Transform=r(74755),t.PassThrough=r(49074))},30267:(e,t,r)=>{var n=r(78893),i=n.Buffer;function a(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(a(n,t),t.Buffer=o),a(i,o),o.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return i(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n.SlowBuffer(e)}},72802:(e,t,r)=>{"use strict";var n=r(30267).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){var t;if(!e)return"utf8";for(;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=d,this.end=c,t=3;break;default:this.write=f,this.end=h;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if((192&t[0])!=128)return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if((192&t[1])!=128)return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&(192&t[2])!=128)return e.lastNeed=2,"�"}}(this,e,0);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length)}function l(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function d(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function c(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.s=a,a.prototype.write=function(e){var t,r;if(0===e.length)return"";if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},a.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=o(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=o(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=o(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},84874:(e,t,r)=>{try{var n=r(21764);if("function"!=typeof n.inherits)throw"";e.exports=n.inherits}catch(t){e.exports=r(17141)}},17141:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},97493:(e,t,r)=>{var n;function i(e,t,r){if("function"==typeof t&&(r=t,t={}),!r){if("function"!=typeof Promise)throw TypeError("callback not provided");return new Promise(function(r,n){i(e,t||{},function(e,t){e?n(e):r(t)})})}n(e,t||{},function(e,n){e&&("EACCES"===e.code||t&&t.ignoreErrors)&&(e=null,n=!1),r(e,n)})}r(92048),"win32"===process.platform||global.TESTING_WINDOWS?n=r(80492):n=r(34135),e.exports=i,i.sync=function(e,t){try{return n.sync(e,t||{})}catch(e){if(t&&t.ignoreErrors||"EACCES"===e.code)return!1;throw e}}},34135:(e,t,r)=>{e.exports=i,i.sync=function(e,t){return a(n.statSync(e),t)};var n=r(92048);function i(e,t,r){n.stat(e,function(e,n){r(e,!e&&a(n,t))})}function a(e,t){var r,n,i,a,o,s,l;return e.isFile()&&(r=e.mode,n=e.uid,i=e.gid,a=void 0!==t.uid?t.uid:process.getuid&&process.getuid(),o=void 0!==t.gid?t.gid:process.getgid&&process.getgid(),s=parseInt("100",8),l=parseInt("010",8),r&parseInt("001",8)||r&l&&i===o||r&s&&n===a||r&(s|l)&&0===a)}},80492:(e,t,r)=>{e.exports=a,a.sync=function(e,t){return i(n.statSync(e),e,t)};var n=r(92048);function i(e,t,r){return!!(e.isSymbolicLink()||e.isFile())&&function(e,t){var r=void 0!==t.pathExt?t.pathExt:process.env.PATHEXT;if(!r||-1!==(r=r.split(";")).indexOf(""))return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}(t,r)}function a(e,t,r){n.stat(e,function(n,a){r(n,!n&&i(a,e,t))})}},69359:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let i=r(76162),a=n(r(65074)),o=r(10499);class s extends i.Writable{constructor(e){let t,r,n,i,s,l,u,d,c;super(),this._parser=a.default.createStream(!1,{lowercase:!0}),this._parser.on("error",this.destroy.bind(this));let f=0,h=0,p=[],b=!1,m=!1,y=t=>{let r={RepresentationID:e,Number:h,Time:f};return t.replace(/\$(\w+)\$/g,(e,t)=>`${r[t]}`)};this._parser.on("opentag",a=>{switch(a.name){case"mpd":f=a.attributes.availabilitystarttime?new Date(a.attributes.availabilitystarttime).getTime():0,u="dynamic"!==a.attributes.type;break;case"period":h=0,n=1e3,s=0,i=0,l=[],d=0,c=o.durationStr(a.attributes.start)||0;break;case"segmentlist":h=parseInt(a.attributes.startnumber)||h,n=parseInt(a.attributes.timescale)||n,s=parseInt(a.attributes.duration)||s,i=parseInt(a.attributes.presentationtimeoffset)||i;break;case"segmenttemplate":r=a.attributes,h=parseInt(a.attributes.startnumber)||h,n=parseInt(a.attributes.timescale)||n;break;case"segmenttimeline":case"baseurl":t=a.name;break;case"s":p.push({duration:parseInt(a.attributes.d),repeat:parseInt(a.attributes.r),time:parseInt(a.attributes.t)});break;case"adaptationset":case"representation":d++,e||(e=a.attributes.id),(b=a.attributes.id===`${e}`)&&(c&&(f+=c),i&&(f-=i/n*1e3),this.emit("starttime",f));break;case"initialization":b&&this.emit("item",{url:l.filter(e=>!!e).join("")+a.attributes.sourceurl,seq:h,init:!0,duration:0});break;case"segmenturl":if(b){m=!0;let e=p.shift(),t=((null==e?void 0:e.duration)||s)/n*1e3;this.emit("item",{url:l.filter(e=>!!e).join("")+a.attributes.media,seq:h++,duration:t}),f+=t}}});let g=()=>{u&&this.emit("endlist"),b?this.emit("end"):this.destroy(Error(`Representation '${e}' not found`))};this._parser.on("closetag",e=>{switch(e){case"adaptationset":case"representation":if(d--,r&&p.length)for(let{duration:e,repeat:t,time:i}of(m=!0,r.initialization&&this.emit("item",{url:l.filter(e=>!!e).join("")+y(r.initialization),seq:h,init:!0,duration:0}),p)){e=e/n*1e3,t=t||1,f=i||f;for(let n=0;n<t;n++)this.emit("item",{url:l.filter(e=>!!e).join("")+y(r.media),seq:h++,duration:e}),f+=e}m&&(this.emit("endearly"),g(),this._parser.removeAllListeners(),this.removeAllListeners("finish"))}}),this._parser.on("text",e=>{"baseurl"===t&&(l[d]=e,t=null)}),this.on("finish",g)}_write(e,t,r){this._parser.write(e),r()}}t.default=s},52231:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};let i=r(76162),a=n(r(3507)),o=n(r(33306)),s=n(r(69359)),l=r(90417),u=r(10499),d={m3u8:o.default,"dash-mpd":s.default},c=(e,t={})=>{let r,n,o,s,c,f,h;let p=new i.PassThrough({highWaterMark:t.highWaterMark}),b=t.chunkReadahead||3,m=t.liveBuffer||2e4,y=t.requestOptions,g=d[t.parser||(/\.mpd$/.test(e)?"dash-mpd":"m3u8")];if(!g)throw TypeError(`parser '${t.parser}' not supported`);let w=0;void 0!==t.begin&&(w="string"==typeof t.begin?u.humanStr(t.begin):Math.max(t.begin-m,0));let v=e=>{for(let t of["abort","request","response","redirect","retry","reconnect"])e.on(t,p.emit.bind(p,t))},_=new l.Queue((e,t)=>{r=e;let n=0;e.on("data",e=>n+=e.length),e.pipe(p,{end:!1}),e.on("end",()=>t(null,n))},{concurrency:1}),S=0,E=0,T=new l.Queue((t,r)=>{let n=Object.assign({},y);t.range&&(n.headers=Object.assign({},n.headers,{Range:`bytes=${t.range.start}-${t.range.end}`}));let i=a.default(new URL(t.url,e).toString(),n);i.on("error",r),v(i),_.push(i,(e,n)=>{E+=+n,p.emit("progress",{num:++S,size:n,duration:t.duration,url:t.url},T.total,E),r(null)})},{concurrency:b}),R=e=>{p.emit("error",e),p.end()},x=!0,k=!1,M=!1,L=e=>{if(r=null,e)R(e);else if(x||k||M||!(T.tasks.length+T.active<=n))(k||M)&&!T.tasks.length&&!T.active&&p.end();else{let e=Math.max(0,o-(Date.now()-c));x=!0,s=setTimeout(A,e)}},D=0,A=()=>{c=Date.now(),(f=a.default(e,y)).on("error",R),v(f);let r=f.pipe(new g(t.id));r.on("starttime",e=>{!D&&(D=e,"string"==typeof t.begin&&w>=0&&(w+=D))}),r.on("endlist",()=>{M=!0}),r.on("endearly",f.unpipe.bind(f,r));let i=[],s=e=>{if(!e.init){if(e.seq<=h)return;h=e.seq}w=e.time,T.push(e,L),i.push(e)},l=[],u=0;r.on("item",e=>{let t=Object.assign({time:D},e);if(w<=t.time)s(t);else for(l.push(t),u+=t.duration;l.length>1&&u-l[0].duration>m;){let e=l.shift();u-=e.duration}D+=t.duration}),r.on("end",()=>{f=null,!i.length&&l.length&&l.forEach(e=>{s(e)}),n=Math.max(1,Math.ceil(.01*i.length)),o=i.reduce((e,t)=>t.duration+e,0),x=!1,L(null)})};return A(),p.end=()=>(k=!0,_.die(),T.die(),clearTimeout(s),null==f||f.destroy(),null==r||r.destroy(),i.PassThrough.prototype.end.call(p,null),p),p};c.parseTimestamp=u.humanStr,e.exports=c},33306:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(76162);class i extends n.Writable{constructor(){super(),this._lastLine="",this._seq=0,this._nextItemDuration=null,this._nextItemRange=null,this._lastItemRangeEnd=0,this.on("finish",()=>{this._parseLine(this._lastLine),this.emit("end")})}_parseAttrList(e){let t,r={},n=/([A-Z0-9-]+)=(?:"([^"]*?)"|([^,]*?))/g;for(;null!==(t=n.exec(e));)r[t[1]]=t[2]||t[3];return r}_parseRange(e){if(!e)return null;let t=e.split("@"),r=t[1]?parseInt(t[1]):this._lastItemRangeEnd+1,n=r+parseInt(t[0])-1,i={start:r,end:n};return this._lastItemRangeEnd=i.end,i}_parseLine(e){let t=e.match(/^#(EXT[A-Z0-9-]+)(?::(.*))?/);if(t){let e=t[1],r=t[2]||"";switch(e){case"EXT-X-PROGRAM-DATE-TIME":this.emit("starttime",new Date(r).getTime());break;case"EXT-X-MEDIA-SEQUENCE":this._seq=parseInt(r);break;case"EXT-X-MAP":{let e=this._parseAttrList(r);if(!e.URI){this.destroy(Error("`EXT-X-MAP` found without required attribute `URI`"));return}this.emit("item",{url:e.URI,seq:this._seq,init:!0,duration:0,range:this._parseRange(e.BYTERANGE)});break}case"EXT-X-BYTERANGE":this._nextItemRange=this._parseRange(r);break;case"EXTINF":this._nextItemDuration=Math.round(1e3*parseFloat(r.split(",")[0]));break;case"EXT-X-ENDLIST":this.emit("endlist")}}else!/^#/.test(e)&&e.trim()&&(this.emit("item",{url:e.trim(),seq:this._seq++,duration:this._nextItemDuration,range:this._nextItemRange}),this._nextItemRange=null)}_write(e,t,r){let n=e.toString("utf8").split("\n");this._lastLine&&(n[0]=this._lastLine+n[0]),n.forEach((e,t)=>{this.destroyed||(t<n.length-1?this._parseLine(e):this._lastLine=e)}),r()}}t.default=i},10499:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.durationStr=t.humanStr=void 0;let r=/^\d+$/,n=/^(?:(?:(\d+):)?(\d{1,2}):)?(\d{1,2})(?:\.(\d{3}))?$/,i={ms:1,s:1e3,m:6e4,h:36e5};t.humanStr=e=>{if("number"==typeof e)return e;if(r.test(e))return+e;let t=n.exec(e);if(t)return+(t[1]||0)*i.h+ +(t[2]||0)*i.m+ +t[3]*i.s+ +(t[4]||0);{let t,r=0,n=/(-?\d+)(ms|s|m|h)/g;for(;null!==(t=n.exec(e));)r+=+t[1]*i[t[2]];return r}},t.durationStr=e=>{let t,r=0,n=/(\d+(?:\.\d+)?)(S|M|H)/g;for(;null!==(t=n.exec(e));)r+=+t[1]*i[t[2].toLowerCase()];return r}},90417:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Queue=void 0;class r{constructor(e,t={}){this._worker=e,this._concurrency=t.concurrency||1,this.tasks=[],this.total=0,this.active=0}push(e,t){this.tasks.push({item:e,callback:t}),this.total++,this._next()}_next(){if(this.active>=this._concurrency||!this.tasks.length)return;let{item:e,callback:t}=this.tasks.shift(),r=!1;this.active++,this._worker(e,(e,n)=>{r||(this.active--,r=!0,null==t||t(e,n),this._next())})}die(){this.tasks=[]}}t.Queue=r},3507:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};let i=n(r(32615)),a=n(r(35240)),o=r(76162),s={"http:":i.default,"https:":a.default},l=new Set([301,302,303,307,308]),u=new Set([429,503]),d=["connect","continue","information","socket","timeout","upgrade"],c=["aborted"];function f(e,t={}){var r;let n,i,a,h,p;let b=Object.assign({},f.defaultOptions,t),m=new o.PassThrough({highWaterMark:b.highWaterMark});m.destroyed=m.aborted=!1;let y=0,g=0,w=0,v=!1,_=0,S,E=0;if(null===(r=b.headers)||void 0===r?void 0:r.Range){let e=/bytes=(\d+)-(\d+)?/.exec(`${b.headers.Range}`);e&&(_=parseInt(e[1],10),S=parseInt(e[2],10))}b.acceptEncoding&&(b.headers=Object.assign({"Accept-Encoding":Object.keys(b.acceptEncoding).join(", ")},b.headers));let T=()=>a&&E>0,R=()=>!v||E===p,x=e=>{a=null,g=0,h=setTimeout(D,Math.min(b.backoff.inc,b.backoff.max)),m.emit("reconnect",w,e)},k=e=>!!("HEAD"!==t.method&&!R()&&w++<b.maxReconnects)&&(x(e),!0),M=e=>!m.destroyed&&(T()?k(e.err):!!((!e.err||"ENOTFOUND"===e.err.message)&&g++<b.maxRetries)&&(h=setTimeout(D,e.retryAfter||Math.min(g*b.backoff.inc,b.backoff.max)),m.emit("retry",g,e.err),!0)),L=(e,t)=>{for(let r of t)e.on(r,m.emit.bind(m,r))},D=()=>{let t={},r;try{let n="string"==typeof e?new URL(e):e;t=Object.assign({},{host:n.host,hostname:n.hostname,path:n.pathname+n.search+n.hash,port:n.port,protocol:n.protocol}),n.username&&(t.auth=`${n.username}:${n.password}`),r=s[String(t.protocol)]}catch(e){}if(!r){m.emit("error",new f.MinigetError(`Invalid URL: ${e}`));return}if(Object.assign(t,b),v&&E>0){let e=E+_,r=S||"";t.headers=Object.assign({},t.headers,{Range:`bytes=${e}-${r}`})}if(b.transform){try{t=b.transform(t)}catch(e){m.emit("error",e);return}if((!t||t.protocol)&&!(r=s[String(null==t?void 0:t.protocol)])){m.emit("error",new f.MinigetError("Invalid URL object from `transform` function"));return}}let o=e=>{m.destroyed||m.readableEnded||(g(),M({err:e})?n.removeListener("close",h):m.emit("error",e))},h=()=>{g(),M({})},g=()=>{n.removeListener("close",h),null==i||i.removeListener("data",w),null==a||a.removeListener("end",T)},w=e=>{E+=e.length},T=()=>{g(),k()||m.end()};(n=r.request(t,t=>{if(!m.destroyed){if(l.has(t.statusCode)){if(y++>=b.maxRedirects)m.emit("error",new f.MinigetError("Too many redirects"));else{if(t.headers.location)e=t.headers.location;else{let e=new f.MinigetError("Redirect status code given with no location",t.statusCode);m.emit("error",e),g();return}setTimeout(D,1e3*parseInt(t.headers["retry-after"]||"0",10)),m.emit("redirect",e)}g();return}if(u.has(t.statusCode)){if(!M({retryAfter:parseInt(t.headers["retry-after"]||"0",10)})){let e=new f.MinigetError(`Status code: ${t.statusCode}`,t.statusCode);m.emit("error",e)}g();return}if(t.statusCode&&(t.statusCode<200||t.statusCode>=400)){let e=new f.MinigetError(`Status code: ${t.statusCode}`,t.statusCode);t.statusCode>=500?o(e):m.emit("error",e),g();return}if(a=t,b.acceptEncoding&&t.headers["content-encoding"])for(let e of t.headers["content-encoding"].split(", ").reverse()){let t=b.acceptEncoding[e];t&&(a=a.pipe(t())).on("error",o)}p||(p=parseInt(`${t.headers["content-length"]}`,10),v="bytes"===t.headers["accept-ranges"]&&p>0&&b.maxReconnects>0),t.on("data",w),a.on("end",T),a.pipe(m,{end:!v}),i=t,m.emit("response",t),t.on("error",o),L(t,c)}})).on("error",o),n.on("close",h),L(n,d),m.destroyed&&O(...A),m.emit("request",n),n.end()};m.abort=e=>{console.warn("`MinigetStream#abort()` has been deprecated in favor of `MinigetStream#destroy()`"),m.aborted=!0,m.emit("abort"),m.destroy(e)};let A=[],O=e=>{n.destroy(e),null==a||a.unpipe(m),null==a||a.destroy(),clearTimeout(h)};return m._destroy=(...e)=>{m.destroyed=!0,n?O(...e):A=e},m.text=()=>new Promise((e,t)=>{let r="";m.setEncoding("utf8"),m.on("data",e=>r+=e),m.on("end",()=>e(r)),m.on("error",t)}),process.nextTick(D),m}f.MinigetError=class extends Error{constructor(e,t){super(e),this.statusCode=t}},f.defaultOptions={maxRedirects:10,maxRetries:2,maxReconnects:0,backoff:{inc:100,max:1e4}},e.exports=f},52037:(e,t,r)=>{let n=r(91755),{PassThrough:i,Readable:a}=r(76162),o=r(45584),s={bubbleErrors:!0,objectMode:!0};e.exports=(...e)=>{let t,r,l;"function"==typeof e[e.length-1]&&(r=e.pop()),"object"!=typeof e[e.length-1]||Array.isArray(e[e.length-1])||"function"==typeof e[e.length-1].pipe||(t=e.pop()),Array.isArray(e[0])&&(e=e[0]);let u=e[0],d=e[e.length-1];for(let[r,o]of(t=Object.assign({},s,t),u?l=u.writable&&d.readable?n(t,u,d):1===e.length?new a(t).wrap(e[0]):u.writable?u:d.readable?d:new i(t):(l=u=d=new i(t),process.nextTick(()=>l.end())),e.entries())){let t=e[r+1];t&&o.pipe(t),o!==l&&o.on("error",e=>l.emit("error",e))}if(r){let e=!1,t=t=>{e||(e=!0,r(t))};l.on("error",t),d.on("finish",()=>t()),d.on("close",()=>t())}return o(l,()=>new Promise((e,t)=>{l.on("error",t),d.on("finish",e),d.on("close",e)}))}},45584:e=>{"use strict";let t=["then","catch","finally"].map(e=>[e,Reflect.getOwnPropertyDescriptor(Promise.prototype,e)]);e.exports=(e,r)=>{for(let[n,i]of t){let t=(...e)=>Reflect.apply(i.value,r(),e);Reflect.defineProperty(e,n,{...i,value:t})}return e}},74387:e=>{"use strict";let t=(e={})=>{let t=e.env||process.env;return"win32"!==(e.platform||process.platform)?"PATH":Object.keys(t).reverse().find(e=>"PATH"===e.toUpperCase())||"Path"};e.exports=t,e.exports.default=t},7684:e=>{"use strict";"undefined"!=typeof process&&process.version&&0!==process.version.indexOf("v0.")&&(0!==process.version.indexOf("v1.")||0===process.version.indexOf("v1.8."))?e.exports=process:e.exports={nextTick:function(e,t,r,n){if("function"!=typeof e)throw TypeError('"callback" argument must be a function');var i,a,o=arguments.length;switch(o){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(function(){e.call(null,t)});case 3:return process.nextTick(function(){e.call(null,t,r)});case 4:return process.nextTick(function(){e.call(null,t,r,n)});default:for(i=Array(o-1),a=0;a<i.length;)i[a++]=arguments[a];return process.nextTick(function(){e.apply(null,i)})}}}},83806:e=>{e.exports=global.process},18243:(e,t,r)=>{var n=r(78893),i=n.Buffer;function a(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(a(n,t),t.Buffer=o),o.prototype=Object.create(i.prototype),a(i,o),o.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return i(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n.SlowBuffer(e)}},66173:(e,t,r)=>{"use strict";let n=r(69877);e.exports=(e="")=>{let t=e.match(n);if(!t)return null;let[r,i]=t[0].replace(/#! ?/,"").split(" "),a=r.split("/").pop();return"env"===a?i:i?`${a} ${i}`:a}},69877:e=>{"use strict";e.exports=/^#!(.*)/},80985:(e,t,r)=>{"use strict";var n=r(18243).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){var t;if(!e)return"utf8";for(;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=d,this.end=c,t=3;break;default:this.write=f,this.end=h;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if((192&t[0])!=128)return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if((192&t[1])!=128)return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&(192&t[2])!=128)return e.lastNeed=2,"�"}}(this,e,0);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length)}function l(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function d(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function c(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=a,a.prototype.write=function(e){var t,r;if(0===e.length)return"";if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},a.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=o(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=o(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=o(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},87767:e=>{"use strict";e.exports=e=>{if("string"!=typeof e)throw TypeError(`Expected a string, got ${typeof e}`);return 65279===e.charCodeAt(0)?e.slice(1):e}},2365:(e,t,r)=>{"use strict";r.d(t,{qg:()=>s}),r(16440),r(52037),r(89599);var n=r(87767),i=r.n(n);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var o=function(){function e(e){var t=e.push;this.push=t,this.state={expect:"header",row:0,hasContentStarted:!1,isWebVTT:!1,node:{},buffer:[]}}var t=e.prototype;return t.isIndex=function(e){return/^\d+$/.test(e.trim())},t.isTimestamp=function(e){return u.test(e)},t.isVttComment=function(e){return/^NOTE/.test(e)},t.getError=function(e,t,r){return Error("expected "+e+" at row "+(t+1)+', but received: "'+r+'"')},t.parseLine=function(e){var t=0===this.state.row?i()(e):e;if(!this.state.hasContentStarted){if(!t.trim())return;this.state.hasContentStarted=!0}({header:this.parseHeader,id:this.parseId,timestamp:this.parseTimestamp,text:this.parseText,vtt_comment:this.parseVttComment})[this.state.expect].call(this,t),this.state.row++},t.flush=function(){this.state.buffer.length>0&&this.pushNode()},t.parseHeader=function(e){if(!this.state.isWebVTT){if(this.state.isWebVTT=/^WEBVTT/.test(e),this.state.isWebVTT)this.state.node.type="header";else{this.parseId(e);return}}if(this.state.buffer.push(e),!e){this.state.expect="id";return}},t.parseId=function(e){if(this.state.expect="timestamp","header"===this.state.node.type&&this.pushNode(),!this.isIndex(e)){if(this.state.isWebVTT&&this.isVttComment(e)){this.state.expect="vtt_comment";return}this.parseTimestamp(e)}},t.parseVttComment=function(e){this.state.expect="vtt_comment",""===e.trim()&&(this.state.expect="id")},t.parseTimestamp=function(e){if(!this.isTimestamp(e))throw this.getError("timestamp",this.state.row,e);this.state.node={type:"cue",data:a({},function(e){var t=u.exec(e);if(!t)throw Error("Invalid timestamp format");var r={start:l(t[1]),end:l(t[2])};return t[3]&&(r.settings=t[3]),r}(e),{text:""})},this.state.expect="text"},t.parseText=function(e){if(0===this.state.buffer.length){this.state.buffer.push(e);return}if(this.isTimestamp(e)){var t=this.state.buffer.length-1;this.isIndex(this.state.buffer[t])&&this.state.buffer.pop(),this.pushNode(),this.parseTimestamp(e);return}if(this.isVttComment(e)){this.pushNode(),this.parseVttComment(e);return}this.state.buffer.push(e)},t.pushNode=function(){if("cue"===this.state.node.type){for(;;)if(["","\n"].includes(this.state.buffer[this.state.buffer.length-1]))this.state.buffer.pop();else break;for(;;)if(["","\n"].includes(this.state.buffer[0]))this.state.buffer.shift();else break;this.state.node.data.text=this.state.buffer.join("\n")}"header"===this.state.node.type&&(this.state.node.data=this.state.buffer.join("\n").trim()),this.push(this.state.node),this.state.node={},this.state.buffer=[]},e}(),s=function(e){var t=[],r=new o({push:function(e){return t.push(e)}});return e.replace(/\r\n/g,"\n").split("\n").forEach(function(e){return r.parseLine(e)}),r.flush(),t};function l(e){var t=e.match(/^(?:(\d{1,}):)?(\d{1,2}):(\d{1,2})[,.](\d{1,3})$/);if(!t)throw Error('Invalid SRT or VTT time format: "'+e+'"');return(t[1]?36e5*parseInt(t[1],10):0)+6e4*parseInt(t[2],10)+1e3*parseInt(t[3],10)+parseInt(t[4],10)}var u=/^((?:\d{1,}:)?\d{1,2}:\d{1,2}[,.]\d{1,3}) --> ((?:\d{1,}:)?\d{1,2}:\d{1,2}[,.]\d{1,3})(?: (.*))?$/},3998:(e,t,r)=>{"use strict";let n;let{SymbolDispose:i}=r(50266),{AbortError:a,codes:o}=r(93018),{isNodeStream:s,isWebStream:l,kControllerErrorFunction:u}=r(13583),d=r(82033),{ERR_INVALID_ARG_TYPE:c}=o,f=(e,t)=>{if("object"!=typeof e||!("aborted"in e))throw new c(t,"AbortSignal",e)};e.exports.addAbortSignal=function(t,r){if(f(t,"signal"),!s(r)&&!l(r))throw new c("stream",["ReadableStream","WritableStream","Stream"],r);return e.exports.addAbortSignalNoValidate(t,r)},e.exports.addAbortSignalNoValidate=function(e,t){if("object"!=typeof e||!("aborted"in e))return t;let o=s(t)?()=>{t.destroy(new a(void 0,{cause:e.reason}))}:()=>{t[u](new a(void 0,{cause:e.reason}))};return e.aborted?o():d(t,(n=n||r(59382).addAbortListener)(e,o)[i]),t}},43549:(e,t,r)=>{"use strict";let{StringPrototypeSlice:n,SymbolIterator:i,TypedArrayPrototypeSet:a,Uint8Array:o}=r(50266),{Buffer:s}=r(78893),{inspect:l}=r(59382);e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){let t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;let e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,r=""+t.data;for(;null!==(t=t.next);)r+=e+t.data;return r}concat(e){if(0===this.length)return s.alloc(0);let t=s.allocUnsafe(e>>>0),r=this.head,n=0;for(;r;)a(t,r.data,n),n+=r.data.length,r=r.next;return t}consume(e,t){let r=this.head.data;if(e<r.length){let t=r.slice(0,e);return this.head.data=r.slice(e),t}return e===r.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[i](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",r=this.head,i=0;do{let a=r.data;if(e>a.length)t+=a,e-=a.length;else{e===a.length?(t+=a,++i,r.next?this.head=r.next:this.head=this.tail=null):(t+=n(a,0,e),this.head=r,r.data=n(a,e));break}++i}while(null!==(r=r.next));return this.length-=i,t}_getBuffer(e){let t=s.allocUnsafe(e),r=e,n=this.head,i=0;do{let s=n.data;if(e>s.length)a(t,s,r-e),e-=s.length;else{e===s.length?(a(t,s,r-e),++i,n.next?this.head=n.next:this.head=this.tail=null):(a(t,new o(s.buffer,s.byteOffset,e),r-e),this.head=n,n.data=s.slice(e));break}++i}while(null!==(n=n.next));return this.length-=i,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return l(this,{...t,depth:0,customInspect:!1})}}},22279:(e,t,r)=>{"use strict";let{pipeline:n}=r(17032),i=r(91085),{destroyer:a}=r(83994),{isNodeStream:o,isReadable:s,isWritable:l,isWebStream:u,isTransformStream:d,isWritableStream:c,isReadableStream:f}=r(13583),{AbortError:h,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:b}}=r(93018),m=r(82033);e.exports=function(...e){let t,r,y,g,w;if(0===e.length)throw new b("streams");if(1===e.length)return i.from(e[0]);let v=[...e];if("function"==typeof e[0]&&(e[0]=i.from(e[0])),"function"==typeof e[e.length-1]){let t=e.length-1;e[t]=i.from(e[t])}for(let t=0;t<e.length;++t)if(o(e[t])||u(e[t])){if(t<e.length-1&&!(s(e[t])||f(e[t])||d(e[t])))throw new p(`streams[${t}]`,v[t],"must be readable");if(t>0&&!(l(e[t])||c(e[t])||d(e[t])))throw new p(`streams[${t}]`,v[t],"must be writable")}let _=e[0],S=n(e,function(e){let t=g;g=null,t?t(e):e?w.destroy(e):T||E||w.destroy()}),E=!!(l(_)||c(_)||d(_)),T=!!(s(S)||f(S)||d(S));if(w=new i({writableObjectMode:!!(null!=_&&_.writableObjectMode),readableObjectMode:!!(null!=S&&S.readableObjectMode),writable:E,readable:T}),E){if(o(_))w._write=function(e,r,n){_.write(e,r)?n():t=n},w._final=function(e){_.end(),r=e},_.on("drain",function(){if(t){let e=t;t=null,e()}});else if(u(_)){let e=(d(_)?_.writable:_).getWriter();w._write=async function(t,r,n){try{await e.ready,e.write(t).catch(()=>{}),n()}catch(e){n(e)}},w._final=async function(t){try{await e.ready,e.close().catch(()=>{}),r=t}catch(e){t(e)}}}m(d(S)?S.readable:S,()=>{if(r){let e=r;r=null,e()}})}if(T){if(o(S))S.on("readable",function(){if(y){let e=y;y=null,e()}}),S.on("end",function(){w.push(null)}),w._read=function(){for(;;){let e=S.read();if(null===e){y=w._read;return}if(!w.push(e))return}};else if(u(S)){let e=(d(S)?S.readable:S).getReader();w._read=async function(){for(;;)try{let{value:t,done:r}=await e.read();if(!w.push(t))return;if(r){w.push(null);return}}catch{return}}}}return w._destroy=function(e,n){e||null===g||(e=new h),y=null,t=null,r=null,null===g?n(e):(g=n,o(S)&&a(S,e))},w}},83994:(e,t,r)=>{"use strict";let n=r(83806),{aggregateTwoErrors:i,codes:{ERR_MULTIPLE_CALLBACK:a},AbortError:o}=r(93018),{Symbol:s}=r(50266),{kIsDestroyed:l,isDestroyed:u,isFinished:d,isServerRequest:c}=r(13583),f=s("kDestroy"),h=s("kConstruct");function p(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function b(e,t,r){let i=!1;function a(t){if(i)return;i=!0;let a=e._readableState,o=e._writableState;p(t,o,a),o&&(o.closed=!0),a&&(a.closed=!0),"function"==typeof r&&r(t),t?n.nextTick(m,e,t):n.nextTick(y,e)}try{e._destroy(t||null,a)}catch(e){a(e)}}function m(e,t){g(e,t),y(e)}function y(e){let t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!=r&&r.emitClose||null!=t&&t.emitClose)&&e.emit("close")}function g(e,t){let r=e._readableState,n=e._writableState;null!=n&&n.errorEmitted||null!=r&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function w(e,t,r){let i=e._readableState,a=e._writableState;if(null!=a&&a.destroyed||null!=i&&i.destroyed)return this;null!=i&&i.autoDestroy||null!=a&&a.autoDestroy?e.destroy(t):t&&(t.stack,a&&!a.errored&&(a.errored=t),i&&!i.errored&&(i.errored=t),r?n.nextTick(g,e,t):g(e,t))}function v(e){let t=!1;function r(r){if(t){w(e,null!=r?r:new a);return}t=!0;let i=e._readableState,o=e._writableState,s=o||i;i&&(i.constructed=!0),o&&(o.constructed=!0),s.destroyed?e.emit(f,r):r?w(e,r,!0):n.nextTick(_,e)}try{e._construct(e=>{n.nextTick(r,e)})}catch(e){n.nextTick(r,e)}}function _(e){e.emit(h)}function S(e){return(null==e?void 0:e.setHeader)&&"function"==typeof e.abort}function E(e){e.emit("close")}function T(e,t){e.emit("error",t),n.nextTick(E,e)}e.exports={construct:function(e,t){if("function"!=typeof e._construct)return;let r=e._readableState,i=e._writableState;r&&(r.constructed=!1),i&&(i.constructed=!1),e.once(h,t),e.listenerCount(h)>1||n.nextTick(v,e)},destroyer:function(e,t){!(!e||u(e))&&(t||d(e)||(t=new o),c(e)?(e.socket=null,e.destroy(t)):S(e)?e.abort():S(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(t):"function"==typeof e.close?e.close():t?n.nextTick(T,e,t):n.nextTick(E,e),e.destroyed||(e[l]=!0))},destroy:function(e,t){let r=this._readableState,n=this._writableState,a=n||r;return null!=n&&n.destroyed||null!=r&&r.destroyed?"function"==typeof t&&t():(p(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),a.constructed?b(this,e,t):this.once(f,function(r){b(this,i(r,e),t)})),this},undestroy:function(){let e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:w}},91085:(e,t,r)=>{"use strict";let n,i;let{ObjectDefineProperties:a,ObjectGetOwnPropertyDescriptor:o,ObjectKeys:s,ObjectSetPrototypeOf:l}=r(50266);e.exports=c;let u=r(31536),d=r(7038);l(c.prototype,u.prototype),l(c,u);{let e=s(d.prototype);for(let t=0;t<e.length;t++){let r=e[t];c.prototype[r]||(c.prototype[r]=d.prototype[r])}}function c(e){if(!(this instanceof c))return new c(e);u.call(this,e),d.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}function f(){return void 0===n&&(n={}),n}a(c.prototype,{writable:{__proto__:null,...o(d.prototype,"writable")},writableHighWaterMark:{__proto__:null,...o(d.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...o(d.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...o(d.prototype,"writableBuffer")},writableLength:{__proto__:null,...o(d.prototype,"writableLength")},writableFinished:{__proto__:null,...o(d.prototype,"writableFinished")},writableCorked:{__proto__:null,...o(d.prototype,"writableCorked")},writableEnded:{__proto__:null,...o(d.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...o(d.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),c.fromWeb=function(e,t){return f().newStreamDuplexFromReadableWritablePair(e,t)},c.toWeb=function(e){return f().newReadableWritablePairFromDuplex(e)},c.from=function(e){return i||(i=r(92234)),i(e,"body")}},92234:(e,t,r)=>{"use strict";let n=r(83806),i=r(78893),{isReadable:a,isWritable:o,isIterable:s,isNodeStream:l,isReadableNodeStream:u,isWritableNodeStream:d,isDuplexNodeStream:c,isReadableStream:f,isWritableStream:h}=r(13583),p=r(82033),{AbortError:b,codes:{ERR_INVALID_ARG_TYPE:m,ERR_INVALID_RETURN_VALUE:y}}=r(93018),{destroyer:g}=r(83994),w=r(91085),v=r(31536),_=r(7038),{createDeferredPromise:S}=r(59382),E=r(68196),T=globalThis.Blob||i.Blob,R=void 0!==T?function(e){return e instanceof T}:function(e){return!1},x=globalThis.AbortController||r(54769).AbortController,{FunctionPrototypeCall:k}=r(50266);class M extends w{constructor(e){super(e),(null==e?void 0:e.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(null==e?void 0:e.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function L(e){let t,r,n,i,s;let l=e.readable&&"function"!=typeof e.readable.read?v.wrap(e.readable):e.readable,u=e.writable,d=!!a(l),c=!!o(u);function f(e){let t=i;i=null,t?t(e):e&&s.destroy(e)}return s=new M({readableObjectMode:!!(null!=l&&l.readableObjectMode),writableObjectMode:!!(null!=u&&u.writableObjectMode),readable:d,writable:c}),c&&(p(u,e=>{c=!1,e&&g(l,e),f(e)}),s._write=function(e,r,n){u.write(e,r)?n():t=n},s._final=function(e){u.end(),r=e},u.on("drain",function(){if(t){let e=t;t=null,e()}}),u.on("finish",function(){if(r){let e=r;r=null,e()}})),d&&(p(l,e=>{d=!1,e&&g(l,e),f(e)}),l.on("readable",function(){if(n){let e=n;n=null,e()}}),l.on("end",function(){s.push(null)}),s._read=function(){for(;;){let e=l.read();if(null===e){n=s._read;return}if(!s.push(e))return}}),s._destroy=function(e,a){e||null===i||(e=new b),n=null,t=null,r=null,null===i?a(e):(i=a,g(u,e),g(l,e))},s}e.exports=function e(t,r){if(c(t))return t;if(u(t))return L({readable:t});if(d(t))return L({writable:t});if(l(t))return L({writable:!1,readable:!1});if(f(t))return L({readable:v.fromWeb(t)});if(h(t))return L({writable:_.fromWeb(t)});if("function"==typeof t){let{value:e,write:i,final:a,destroy:o}=function(e){let{promise:t,resolve:r}=S(),i=new x,a=i.signal;return{value:e(async function*(){for(;;){let e=t;t=null;let{chunk:i,done:o,cb:s}=await e;if(n.nextTick(s),o)return;if(a.aborted)throw new b(void 0,{cause:a.reason});({promise:t,resolve:r}=S()),yield i}}(),{signal:a}),write(e,t,n){let i=r;r=null,i({chunk:e,done:!1,cb:n})},final(e){let t=r;r=null,t({done:!0,cb:e})},destroy(e,t){i.abort(),t(e)}}}(t);if(s(e))return E(M,e,{objectMode:!0,write:i,final:a,destroy:o});let l=null==e?void 0:e.then;if("function"==typeof l){let t;let r=k(l,e,e=>{if(null!=e)throw new y("nully","body",e)},e=>{g(t,e)});return t=new M({objectMode:!0,readable:!1,write:i,final(e){a(async()=>{try{await r,n.nextTick(e,null)}catch(t){n.nextTick(e,t)}})},destroy:o})}throw new y("Iterable, AsyncIterable or AsyncFunction",r,e)}if(R(t))return e(t.arrayBuffer());if(s(t))return E(M,t,{objectMode:!0,writable:!1});if(f(null==t?void 0:t.readable)&&h(null==t?void 0:t.writable))return M.fromWeb(t);if("object"==typeof(null==t?void 0:t.writable)||"object"==typeof(null==t?void 0:t.readable))return L({readable:null!=t&&t.readable?u(null==t?void 0:t.readable)?null==t?void 0:t.readable:e(t.readable):void 0,writable:null!=t&&t.writable?d(null==t?void 0:t.writable)?null==t?void 0:t.writable:e(t.writable):void 0});let i=null==t?void 0:t.then;if("function"==typeof i){let e;return k(i,t,t=>{null!=t&&e.push(t),e.push(null)},t=>{g(e,t)}),e=new M({objectMode:!0,writable:!1,read(){}})}throw new m(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}},82033:(e,t,r)=>{"use strict";let n;let i=r(83806),{AbortError:a,codes:o}=r(93018),{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_PREMATURE_CLOSE:l}=o,{kEmptyObject:u,once:d}=r(59382),{validateAbortSignal:c,validateFunction:f,validateObject:h,validateBoolean:p}=r(88113),{Promise:b,PromisePrototypeThen:m,SymbolDispose:y}=r(50266),{isClosed:g,isReadable:w,isReadableNodeStream:v,isReadableStream:_,isReadableFinished:S,isReadableErrored:E,isWritable:T,isWritableNodeStream:R,isWritableStream:x,isWritableFinished:k,isWritableErrored:M,isNodeStream:L,willEmitClose:D,kIsClosedPromise:A}=r(13583),O=()=>{};function I(e,t,o){var p,b;if(2==arguments.length?(o=t,t=u):null==t?t=u:h(t,"options"),f(o,"callback"),c(t.signal,"options.signal"),o=d(o),_(e)||x(e))return function(e,t,o){let s=!1,l=O;if(t.signal){if(l=()=>{s=!0,o.call(e,new a(void 0,{cause:t.signal.reason}))},t.signal.aborted)i.nextTick(l);else{let i=(n=n||r(59382).addAbortListener)(t.signal,l),a=o;o=d((...t)=>{i[y](),a.apply(e,t)})}}let u=(...t)=>{s||i.nextTick(()=>o.apply(e,t))};return m(e[A].promise,u,u),O}(e,t,o);if(!L(e))throw new s("stream",["ReadableStream","WritableStream","Stream"],e);let I=null!==(p=t.readable)&&void 0!==p?p:v(e),j=null!==(b=t.writable)&&void 0!==b?b:R(e),P=e._writableState,$=e._readableState,B=()=>{e.writable||U()},C=D(e)&&v(e)===I&&R(e)===j,N=k(e,!1),U=()=>{N=!0,e.destroyed&&(C=!1),C&&(!e.readable||I)||I&&!W||o.call(e)},W=S(e,!1),q=()=>{W=!0,e.destroyed&&(C=!1),C&&(!e.writable||j)||j&&!N||o.call(e)},F=t=>{o.call(e,t)},H=g(e),V=()=>{H=!0;let t=M(e)||E(e);return t&&"boolean"!=typeof t?o.call(e,t):I&&!W&&v(e,!0)&&!S(e,!1)||j&&!N&&!k(e,!1)?o.call(e,new l):void o.call(e)},G=()=>{H=!0;let t=M(e)||E(e);if(t&&"boolean"!=typeof t)return o.call(e,t);o.call(e)},z=()=>{e.req.on("finish",U)};e.setHeader&&"function"==typeof e.abort?(e.on("complete",U),C||e.on("abort",V),e.req?z():e.on("request",z)):j&&!P&&(e.on("end",B),e.on("close",B)),C||"boolean"!=typeof e.aborted||e.on("aborted",V),e.on("end",q),e.on("finish",U),!1!==t.error&&e.on("error",F),e.on("close",V),H?i.nextTick(V):null!=P&&P.errorEmitted||null!=$&&$.errorEmitted?C||i.nextTick(G):!I&&(!C||w(e))&&(N||!1===T(e))?i.nextTick(G):!j&&(!C||T(e))&&(W||!1===w(e))?i.nextTick(G):$&&e.req&&e.aborted&&i.nextTick(G);let Y=()=>{o=O,e.removeListener("aborted",V),e.removeListener("complete",U),e.removeListener("abort",V),e.removeListener("request",z),e.req&&e.req.removeListener("finish",U),e.removeListener("end",B),e.removeListener("close",B),e.removeListener("finish",U),e.removeListener("end",q),e.removeListener("error",F),e.removeListener("close",V)};if(t.signal&&!H){let s=()=>{let r=o;Y(),r.call(e,new a(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)i.nextTick(s);else{let i=(n=n||r(59382).addAbortListener)(t.signal,s),a=o;o=d((...t)=>{i[y](),a.apply(e,t)})}}return Y}e.exports=I,e.exports.finished=function(e,t){var r;let n=!1;return null===t&&(t=u),null!==(r=t)&&void 0!==r&&r.cleanup&&(p(t.cleanup,"cleanup"),n=t.cleanup),new b((r,i)=>{let a=I(e,t,e=>{n&&a(),e?i(e):r()})})}},68196:(e,t,r)=>{"use strict";let n=r(83806),{PromisePrototypeThen:i,SymbolAsyncIterator:a,SymbolIterator:o}=r(50266),{Buffer:s}=r(78893),{ERR_INVALID_ARG_TYPE:l,ERR_STREAM_NULL_VALUES:u}=r(93018).codes;e.exports=function(e,t,r){let d,c;if("string"==typeof t||t instanceof s)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});if(t&&t[a])c=!0,d=t[a]();else if(t&&t[o])c=!1,d=t[o]();else throw new l("iterable",["Iterable"],t);let f=new e({objectMode:!0,highWaterMark:1,...r}),h=!1;async function p(e){let t=null!=e,r="function"==typeof d.throw;if(t&&r){let{value:t,done:r}=await d.throw(e);if(await t,r)return}if("function"==typeof d.return){let{value:e}=await d.return();await e}}async function b(){for(;;){try{let{value:e,done:t}=c?await d.next():d.next();if(t)f.push(null);else{let t=e&&"function"==typeof e.then?await e:e;if(null===t)throw h=!1,new u;if(f.push(t))continue;h=!1}}catch(e){f.destroy(e)}break}}return f._read=function(){h||(h=!0,b())},f._destroy=function(e,t){i(p(e),()=>n.nextTick(t,e),r=>n.nextTick(t,r||e))},f}},21813:(e,t,r)=>{"use strict";let{ArrayIsArray:n,ObjectSetPrototypeOf:i}=r(50266),{EventEmitter:a}=r(17702);function o(e){a.call(this,e)}function s(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?n(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}i(o.prototype,a.prototype),i(o,a),o.prototype.pipe=function(e,t){let r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",l),r.on("close",u));let o=!1;function l(){o||(o=!0,e.end())}function u(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function d(e){c(),0===a.listenerCount(this,"error")&&this.emit("error",e)}function c(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",l),r.removeListener("close",u),r.removeListener("error",d),e.removeListener("error",d),r.removeListener("end",c),r.removeListener("close",c),e.removeListener("close",c)}return s(r,"error",d),s(e,"error",d),r.on("end",c),r.on("close",c),e.on("close",c),e.emit("pipe",r),e},e.exports={Stream:o,prependListener:s}},48519:(e,t,r)=>{"use strict";let n=globalThis.AbortController||r(54769).AbortController,{codes:{ERR_INVALID_ARG_VALUE:i,ERR_INVALID_ARG_TYPE:a,ERR_MISSING_ARGS:o,ERR_OUT_OF_RANGE:s},AbortError:l}=r(93018),{validateAbortSignal:u,validateInteger:d,validateObject:c}=r(88113),f=r(50266).Symbol("kWeak"),h=r(50266).Symbol("kResistStopPropagation"),{finished:p}=r(82033),b=r(22279),{addAbortSignalNoValidate:m}=r(3998),{isWritable:y,isNodeStream:g}=r(13583),{deprecate:w}=r(59382),{ArrayPrototypePush:v,Boolean:_,MathFloor:S,Number:E,NumberIsNaN:T,Promise:R,PromiseReject:x,PromiseResolve:k,PromisePrototypeThen:M,Symbol:L}=r(50266),D=L("kEmpty"),A=L("kEof");function O(e,t){if("function"!=typeof e)throw new a("fn",["Function","AsyncFunction"],e);null!=t&&c(t,"options"),(null==t?void 0:t.signal)!=null&&u(t.signal,"options.signal");let n=1;(null==t?void 0:t.concurrency)!=null&&(n=S(t.concurrency));let i=n-1;return(null==t?void 0:t.highWaterMark)!=null&&(i=S(t.highWaterMark)),d(n,"options.concurrency",1),d(i,"options.highWaterMark",0),i+=n,(async function*(){let a,o;let s=r(59382).AbortSignalAny([null==t?void 0:t.signal].filter(_)),u=this,d=[],c={signal:s},f=!1,h=0;function p(){f=!0,b()}function b(){h-=1,m()}function m(){o&&!f&&h<n&&d.length<i&&(o(),o=null)}(async function(){try{for await(let t of u){if(f)return;if(s.aborted)throw new l;try{if((t=e(t,c))===D)continue;t=k(t)}catch(e){t=x(e)}h+=1,M(t,b,p),d.push(t),a&&(a(),a=null),!f&&(d.length>=i||h>=n)&&await new R(e=>{o=e})}d.push(A)}catch(t){let e=x(t);M(e,b,p),d.push(e)}finally{f=!0,a&&(a(),a=null)}})();try{for(;;){for(;d.length>0;){let e=await d[0];if(e===A)return;if(s.aborted)throw new l;e!==D&&(yield e),d.shift(),m()}await new R(e=>{a=e})}}finally{f=!0,o&&(o(),o=null)}}).call(this)}async function I(e,t){for await(let r of B.call(this,e,t))return!0;return!1}async function j(e,t){if("function"!=typeof e)throw new a("fn",["Function","AsyncFunction"],e);return!await I.call(this,async(...t)=>!await e(...t),t)}async function P(e,t){for await(let r of B.call(this,e,t))return r}async function $(e,t){if("function"!=typeof e)throw new a("fn",["Function","AsyncFunction"],e);async function r(t,r){return await e(t,r),D}for await(let e of O.call(this,r,t));}function B(e,t){if("function"!=typeof e)throw new a("fn",["Function","AsyncFunction"],e);async function r(t,r){return await e(t,r)?t:D}return O.call(this,r,t)}class C extends o{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function N(e,t,r){var i,o;if("function"!=typeof e)throw new a("reducer",["Function","AsyncFunction"],e);null!=r&&c(r,"options"),(null==r?void 0:r.signal)!=null&&u(r.signal,"options.signal");let s=arguments.length>1;if(null!=r&&null!==(i=r.signal)&&void 0!==i&&i.aborted){let e=new l(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await p(this.destroy(e)),e}let d=new n,b=d.signal;null!=r&&r.signal&&r.signal.addEventListener("abort",()=>d.abort(),{once:!0,[f]:this,[h]:!0});let m=!1;try{for await(let n of this){if(m=!0,null!=r&&null!==(o=r.signal)&&void 0!==o&&o.aborted)throw new l;s?t=await e(t,n,{signal:b}):(t=n,s=!0)}if(!m&&!s)throw new C}finally{d.abort()}return t}async function U(e){null!=e&&c(e,"options"),(null==e?void 0:e.signal)!=null&&u(e.signal,"options.signal");let t=[];for await(let n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new l(void 0,{cause:e.signal.reason});v(t,n)}return t}function W(e){if(T(e=E(e)))return 0;if(e<0)throw new s("number",">= 0",e);return e}e.exports.streamReturningOperators={asIndexedPairs:w(function(e){return null!=e&&c(e,"options"),(null==e?void 0:e.signal)!=null&&u(e.signal,"options.signal"),(async function*(){let t=0;for await(let n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new l({cause:e.signal.reason});yield[t++,n]}}).call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function(e,t){return null!=t&&c(t,"options"),(null==t?void 0:t.signal)!=null&&u(t.signal,"options.signal"),e=W(e),(async function*(){var r,n;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new l;for await(let r of this){if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new l;e--<=0&&(yield r)}}).call(this)},filter:B,flatMap:function(e,t){let r=O.call(this,e,t);return(async function*(){for await(let e of r)yield*e}).call(this)},map:O,take:function(e,t){return null!=t&&c(t,"options"),(null==t?void 0:t.signal)!=null&&u(t.signal,"options.signal"),e=W(e),(async function*(){var r,n;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new l;for await(let r of this){if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new l;if(e-- >0&&(yield r),e<=0)return}}).call(this)},compose:function(e,t){if(null!=t&&c(t,"options"),(null==t?void 0:t.signal)!=null&&u(t.signal,"options.signal"),g(e)&&!y(e))throw new i("stream",e,"must be writable");let r=b(this,e);return null!=t&&t.signal&&m(t.signal,r),r}},e.exports.promiseReturningOperators={every:j,forEach:$,reduce:N,toArray:U,some:I,find:P}},7437:(e,t,r)=>{"use strict";let{ObjectSetPrototypeOf:n}=r(50266);e.exports=a;let i=r(90401);function a(e){if(!(this instanceof a))return new a(e);i.call(this,e)}n(a.prototype,i.prototype),n(a,i),a.prototype._transform=function(e,t,r){r(null,e)}},17032:(e,t,r)=>{let n,i,a;"use strict";let o=r(83806),{ArrayIsArray:s,Promise:l,SymbolAsyncIterator:u,SymbolDispose:d}=r(50266),c=r(82033),{once:f}=r(59382),h=r(83994),p=r(91085),{aggregateTwoErrors:b,codes:{ERR_INVALID_ARG_TYPE:m,ERR_INVALID_RETURN_VALUE:y,ERR_MISSING_ARGS:g,ERR_STREAM_DESTROYED:w,ERR_STREAM_PREMATURE_CLOSE:v},AbortError:_}=r(93018),{validateFunction:S,validateAbortSignal:E}=r(88113),{isIterable:T,isReadable:R,isReadableNodeStream:x,isNodeStream:k,isTransformStream:M,isWebStream:L,isReadableStream:D,isReadableFinished:A}=r(13583),O=globalThis.AbortController||r(54769).AbortController;function I(e,t,r){let n=!1;return e.on("close",()=>{n=!0}),{destroy:t=>{n||(n=!0,h.destroyer(e,t||new w("pipe")))},cleanup:c(e,{readable:t,writable:r},e=>{n=!e})}}function j(e){if(T(e))return e;if(x(e))return P(e);throw new m("val",["Readable","Iterable","AsyncIterable"],e)}async function*P(e){i||(i=r(31536)),yield*i.prototype[u].call(e)}async function $(e,t,r,{end:n}){let i;let a=null,o=e=>{if(e&&(i=e),a){let e=a;a=null,e()}},s=()=>new l((e,t)=>{i?t(i):a=()=>{i?t(i):e()}});t.on("drain",o);let u=c(t,{readable:!1},o);try{for await(let r of(t.writableNeedDrain&&await s(),e))t.write(r)||await s();n&&(t.end(),await s()),r()}catch(e){r(i!==e?b(i,e):e)}finally{u(),t.off("drain",o)}}async function B(e,t,r,{end:n}){M(t)&&(t=t.writable);let i=t.getWriter();try{for await(let t of e)await i.ready,i.write(t).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(e){try{await i.abort(e),r(e)}catch(e){r(e)}}}function C(e,t,i){let l,u,f,h;if(1===e.length&&s(e[0])&&(e=e[0]),e.length<2)throw new g("streams");let b=new O,w=b.signal,S=null==i?void 0:i.signal,P=[];function C(){q(new _)}E(S,"options.signal"),a=a||r(59382).addAbortListener,S&&(l=a(S,C));let N=[],U=0;function W(e){q(e,0==--U)}function q(e,r){var n;if(e&&(!u||"ERR_STREAM_PREMATURE_CLOSE"===u.code)&&(u=e),u||r){for(;N.length;)N.shift()(u);null===(n=l)||void 0===n||n[d](),b.abort(),r&&(u||P.forEach(e=>e()),o.nextTick(t,u,f))}}for(let t=0;t<e.length;t++){let a=e[t],s=t<e.length-1,l=t>0,u=s||(null==i?void 0:i.end)!==!1,d=t===e.length-1;if(k(a)){if(u){let{destroy:e,cleanup:t}=I(a,s,l);N.push(e),R(a)&&d&&P.push(t)}function F(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&W(e)}a.on("error",F),R(a)&&d&&P.push(()=>{a.removeListener("error",F)})}if(0===t){if("function"==typeof a){if(!T(h=a({signal:w})))throw new y("Iterable, AsyncIterable or Stream","source",h)}else h=T(a)||x(a)||M(a)?a:p.from(a)}else if("function"==typeof a){var H,V;if(h=a(h=M(h)?j(null===(H=h)||void 0===H?void 0:H.readable):j(h),{signal:w}),s){if(!T(h,!0))throw new y("AsyncIterable",`transform[${t-1}]`,h)}else{n||(n=r(7437));let e=new n({objectMode:!0}),t=null===(V=h)||void 0===V?void 0:V.then;if("function"==typeof t)U++,t.call(h,t=>{f=t,null!=t&&e.write(t),u&&e.end(),o.nextTick(W)},t=>{e.destroy(t),o.nextTick(W,t)});else if(T(h,!0))U++,$(h,e,W,{end:u});else if(D(h)||M(h)){let t=h.readable||h;U++,$(t,e,W,{end:u})}else throw new y("AsyncIterable or Promise","destination",h);let{destroy:i,cleanup:a}=I(h=e,!1,!0);N.push(i),d&&P.push(a)}}else if(k(a)){if(x(h)){U+=2;let e=function(e,t,r,{end:n}){let i=!1;if(t.on("close",()=>{i||r(new v)}),e.pipe(t,{end:!1}),n){function a(){i=!0,t.end()}A(e)?o.nextTick(a):e.once("end",a)}else r();return c(e,{readable:!0,writable:!1},t=>{let n=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&n&&n.ended&&!n.errored&&!n.errorEmitted?e.once("end",r).once("error",r):r(t)}),c(t,{readable:!1,writable:!0},r)}(h,a,W,{end:u});R(a)&&d&&P.push(e)}else if(M(h)||D(h)){let e=h.readable||h;U++,$(e,a,W,{end:u})}else if(T(h))U++,$(h,a,W,{end:u});else throw new m("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=a}else if(L(a)){if(x(h))U++,B(j(h),a,W,{end:u});else if(D(h)||T(h))U++,B(h,a,W,{end:u});else if(M(h))U++,B(h.readable,a,W,{end:u});else throw new m("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],h);h=a}else h=p.from(a)}return(null!=w&&w.aborted||null!=S&&S.aborted)&&o.nextTick(C),h}e.exports={pipelineImpl:C,pipeline:function(...e){return C(e,f((S(e[e.length-1],"streams[stream.length - 1]"),e.pop())))}}},31536:(e,t,r)=>{"use strict";let n;let i=r(83806),{ArrayPrototypeIndexOf:a,NumberIsInteger:o,NumberIsNaN:s,NumberParseInt:l,ObjectDefineProperties:u,ObjectKeys:d,ObjectSetPrototypeOf:c,Promise:f,SafeSet:h,SymbolAsyncDispose:p,SymbolAsyncIterator:b,Symbol:m}=r(50266);e.exports=F,F.ReadableState=q;let{EventEmitter:y}=r(17702),{Stream:g,prependListener:w}=r(21813),{Buffer:v}=r(78893),{addAbortSignal:_}=r(3998),S=r(82033),E=r(59382).debuglog("stream",e=>{E=e}),T=r(43549),R=r(83994),{getHighWaterMark:x,getDefaultHighWaterMark:k}=r(74846),{aggregateTwoErrors:M,codes:{ERR_INVALID_ARG_TYPE:L,ERR_METHOD_NOT_IMPLEMENTED:D,ERR_OUT_OF_RANGE:A,ERR_STREAM_PUSH_AFTER_EOF:O,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:I},AbortError:j}=r(93018),{validateObject:P}=r(88113),$=m("kPaused"),{StringDecoder:B}=r(80985),C=r(68196);c(F.prototype,g.prototype),c(F,g);let N=()=>{},{errorOrDestroy:U}=R;function W(e){return{enumerable:!1,get(){return(this.state&e)!=0},set(t){t?this.state|=e:this.state&=~e}}}function q(e,t,n){"boolean"!=typeof n&&(n=t instanceof r(91085)),this.state=6192,e&&e.objectMode&&(this.state|=1),n&&e&&e.readableObjectMode&&(this.state|=1),this.highWaterMark=e?x(this,e,"readableHighWaterMark",n):k(!1),this.buffer=new T,this.length=0,this.pipes=[],this.flowing=null,this[$]=null,e&&!1===e.emitClose&&(this.state&=-2049),e&&!1===e.autoDestroy&&(this.state&=-4097),this.errored=null,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new B(e.encoding),this.encoding=e.encoding)}function F(e){if(!(this instanceof F))return new F(e);let t=this instanceof r(91085);this._readableState=new q(e,this,t),e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&_(e.signal,this)),g.call(this,e),R.construct(this,()=>{this._readableState.needReadable&&K(this,this._readableState)})}function H(e,t,r,n){let i;E("readableAddChunk",t);let a=e._readableState;if((1&a.state)==0&&("string"==typeof t?(r=r||a.defaultEncoding,a.encoding!==r&&(n&&a.encoding?t=v.from(t,r).toString(a.encoding):(t=v.from(t,r),r=""))):t instanceof v?r="":g._isUint8Array(t)?(t=g._uint8ArrayToBuffer(t),r=""):null!=t&&(i=new L("chunk",["string","Buffer","Uint8Array"],t))),i)U(e,i);else if(null===t)a.state&=-9,function(e,t){if(E("onEofChunk"),!t.ended){if(t.decoder){let e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?z(e):(t.needReadable=!1,t.emittedReadable=!0,Y(e))}}(e,a);else if((1&a.state)!=0||t&&t.length>0){if(n){if((4&a.state)!=0)U(e,new I);else{if(a.destroyed||a.errored)return!1;V(e,a,t,!0)}}else if(a.ended)U(e,new O);else{if(a.destroyed||a.errored)return!1;a.state&=-9,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?V(e,a,t,!1):K(e,a)):V(e,a,t,!1)}}else n||(a.state&=-9,K(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function V(e,t,r,n){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?((65536&t.state)!=0?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),(64&t.state)!=0&&z(e)),K(e,t)}function G(e,t){return e<=0||0===t.length&&t.ended?0:(1&t.state)!=0?1:s(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function z(e){let t=e._readableState;E("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(E("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(Y,e))}function Y(e){let t=e._readableState;E("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&!t.errored&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,ee(e)}function K(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,i.nextTick(X,e,t))}function X(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){let r=t.length;if(E("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function J(e){let t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[$]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function Q(e){E("readable nexttick read 0"),e.read(0)}function Z(e,t){E("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),ee(e),t.flowing&&!t.reading&&e.read(0)}function ee(e){let t=e._readableState;for(E("flow",t.flowing);t.flowing&&null!==e.read(););}function et(e,t){"function"!=typeof e.read&&(e=F.wrap(e,{objectMode:!0}));let r=er(e,t);return r.stream=e,r}async function*er(e,t){let r,n=N;function i(t){this===e?(n(),n=N):n=t}e.on("readable",i);let a=S(e,{writable:!1},e=>{r=e?M(r,e):null,n(),n=N});try{for(;;){let t=e.destroyed?null:e.read();if(null!==t)yield t;else if(r)throw r;else{if(null===r)return;await new f(i)}}}catch(e){throw r=M(r,e)}finally{(r||(null==t?void 0:t.destroyOnReturn)!==!1)&&(void 0===r||e._readableState.autoDestroy)?R.destroyer(e,null):(e.off("readable",i),a())}}function en(e,t){let r;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r)}function ei(e){let t=e._readableState;E("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(ea,t,e))}function ea(e,t){if(E("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length){if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)i.nextTick(eo,t);else if(e.autoDestroy){let e=t._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy()}}}function eo(e){!e.writable||e.writableEnded||e.destroyed||e.end()}function es(){return void 0===n&&(n={}),n}u(q.prototype,{objectMode:W(1),ended:W(2),endEmitted:W(4),reading:W(8),constructed:W(16),sync:W(32),needReadable:W(64),emittedReadable:W(128),readableListening:W(256),resumeScheduled:W(512),errorEmitted:W(1024),emitClose:W(2048),autoDestroy:W(4096),destroyed:W(8192),closed:W(16384),closeEmitted:W(32768),multiAwaitDrain:W(65536),readingMore:W(131072),dataEmitted:W(262144)}),F.prototype.destroy=R.destroy,F.prototype._undestroy=R.undestroy,F.prototype._destroy=function(e,t){t(e)},F.prototype[y.captureRejectionSymbol]=function(e){this.destroy(e)},F.prototype[p]=function(){let e;return this.destroyed||(e=this.readableEnded?null:new j,this.destroy(e)),new f((t,r)=>S(this,n=>n&&n!==e?r(n):t(null)))},F.prototype.push=function(e,t){return H(this,e,t,!1)},F.prototype.unshift=function(e,t){return H(this,e,t,!0)},F.prototype.isPaused=function(){let e=this._readableState;return!0===e[$]||!1===e.flowing},F.prototype.setEncoding=function(e){let t=new B(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let e of r)n+=t.write(e);return r.clear(),""!==n&&r.push(n),this._readableState.length=n.length,this},F.prototype.read=function(e){let t;E("read",e),void 0===e?e=NaN:o(e)||(e=l(e,10));let r=this._readableState,n=e;if(e>r.highWaterMark&&(r.highWaterMark=function(e){if(e>1073741824)throw new A("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(r.state&=-129),0===e&&r.needReadable&&((0!==r.highWaterMark?r.length>=r.highWaterMark:r.length>0)||r.ended))return E("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?ei(this):z(this),null;if(0===(e=G(e,r))&&r.ended)return 0===r.length&&ei(this),null;let i=(64&r.state)!=0;if(E("need readable",i),(0===r.length||r.length-e<r.highWaterMark)&&E("length less than watermark",i=!0),r.ended||r.reading||r.destroyed||r.errored||!r.constructed)E("reading, ended or constructing",i=!1);else if(i){E("do read"),r.state|=40,0===r.length&&(r.state|=64);try{this._read(r.highWaterMark)}catch(e){U(this,e)}r.state&=-33,r.reading||(e=G(n,r))}return null===(t=e>0?en(e,r):null)?(r.needReadable=r.length<=r.highWaterMark,e=0):(r.length-=e,r.multiAwaitDrain?r.awaitDrainWriters.clear():r.awaitDrainWriters=null),0===r.length&&(r.ended||(r.needReadable=!0),n!==e&&r.ended&&ei(this)),null===t||r.errorEmitted||r.closeEmitted||(r.dataEmitted=!0,this.emit("data",t)),t},F.prototype._read=function(e){throw new D("_read()")},F.prototype.pipe=function(e,t){let r;let n=this,a=this._readableState;1!==a.pipes.length||a.multiAwaitDrain||(a.multiAwaitDrain=!0,a.awaitDrainWriters=new h(a.awaitDrainWriters?[a.awaitDrainWriters]:[])),a.pipes.push(e),E("pipe count=%d opts=%j",a.pipes.length,t);let o=t&&!1===t.end||e===i.stdout||e===i.stderr?b:s;function s(){E("onend"),e.end()}a.endEmitted?i.nextTick(o):n.once("end",o),e.on("unpipe",function t(i,o){E("onunpipe"),i===n&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,E("cleanup"),e.removeListener("close",f),e.removeListener("finish",p),r&&e.removeListener("drain",r),e.removeListener("error",c),e.removeListener("unpipe",t),n.removeListener("end",s),n.removeListener("end",b),n.removeListener("data",d),l=!0,r&&a.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&r())});let l=!1;function u(){l||(1===a.pipes.length&&a.pipes[0]===e?(E("false write response, pause",0),a.awaitDrainWriters=e,a.multiAwaitDrain=!1):a.pipes.length>1&&a.pipes.includes(e)&&(E("false write response, pause",a.awaitDrainWriters.size),a.awaitDrainWriters.add(e)),n.pause()),r||(r=function(){let t=n._readableState;t.awaitDrainWriters===e?(E("pipeOnDrain",1),t.awaitDrainWriters=null):t.multiAwaitDrain&&(E("pipeOnDrain",t.awaitDrainWriters.size),t.awaitDrainWriters.delete(e)),(!t.awaitDrainWriters||0===t.awaitDrainWriters.size)&&n.listenerCount("data")&&n.resume()},e.on("drain",r))}function d(t){E("ondata");let r=e.write(t);E("dest.write",r),!1===r&&u()}function c(t){if(E("onerror",t),b(),e.removeListener("error",c),0===e.listenerCount("error")){let r=e._writableState||e._readableState;r&&!r.errorEmitted?U(e,t):e.emit("error",t)}}function f(){e.removeListener("finish",p),b()}function p(){E("onfinish"),e.removeListener("close",f),b()}function b(){E("unpipe"),n.unpipe(e)}return n.on("data",d),w(e,"error",c),e.once("close",f),e.once("finish",p),e.emit("pipe",n),!0===e.writableNeedDrain?u():a.flowing||(E("pipe resume"),n.resume()),e},F.prototype.unpipe=function(e){let t=this._readableState;if(0===t.pipes.length)return this;if(!e){let e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}let r=a(t.pipes,e);return -1===r||(t.pipes.splice(r,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},F.prototype.on=function(e,t){let r=g.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"!==e||n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,E("on readable",n.length,n.reading),n.length?z(this):n.reading||i.nextTick(Q,this)),r},F.prototype.addListener=F.prototype.on,F.prototype.removeListener=function(e,t){let r=g.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(J,this),r},F.prototype.off=F.prototype.removeListener,F.prototype.removeAllListeners=function(e){let t=g.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&i.nextTick(J,this),t},F.prototype.resume=function(){let e=this._readableState;return e.flowing||(E("resume"),e.flowing=!e.readableListening,e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(Z,this,e))),e[$]=!1,this},F.prototype.pause=function(){return E("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(E("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[$]=!0,this},F.prototype.wrap=function(e){let t=!1;e.on("data",r=>{!this.push(r)&&e.pause&&(t=!0,e.pause())}),e.on("end",()=>{this.push(null)}),e.on("error",e=>{U(this,e)}),e.on("close",()=>{this.destroy()}),e.on("destroy",()=>{this.destroy()}),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};let r=d(e);for(let t=1;t<r.length;t++){let n=r[t];void 0===this[n]&&"function"==typeof e[n]&&(this[n]=e[n].bind(e))}return this},F.prototype[b]=function(){return et(this)},F.prototype.iterator=function(e){return void 0!==e&&P(e,"options"),et(this,e)},u(F.prototype,{readable:{__proto__:null,get(){let e=this._readableState;return!!e&&!1!==e.readable&&!e.destroyed&&!e.errorEmitted&&!e.endEmitted},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(!1!==this._readableState.readable&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),u(q.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[$]},set(e){this[$]=!!e}}}),F._fromList=en,F.from=function(e,t){return C(F,e,t)},F.fromWeb=function(e,t){return es().newStreamReadableFromReadableStream(e,t)},F.toWeb=function(e,t){return es().newReadableStreamFromStreamReadable(e,t)},F.wrap=function(e,t){var r,n;return new F({objectMode:null===(r=null!==(n=e.readableObjectMode)&&void 0!==n?n:e.objectMode)||void 0===r||r,...t,destroy(t,r){R.destroyer(e,t),r(t)}}).wrap(e)}},74846:(e,t,r)=>{"use strict";let{MathFloor:n,NumberIsInteger:i}=r(50266),{validateInteger:a}=r(88113),{ERR_INVALID_ARG_VALUE:o}=r(93018).codes,s=16384,l=16;function u(e){return e?l:s}e.exports={getHighWaterMark:function(e,t,r,a){let s=null!=t.highWaterMark?t.highWaterMark:a?t[r]:null;if(null!=s){if(!i(s)||s<0)throw new o(a?`options.${r}`:"options.highWaterMark",s);return n(s)}return u(e.objectMode)},getDefaultHighWaterMark:u,setDefaultHighWaterMark:function(e,t){a(t,"value",0),e?l=t:s=t}}},90401:(e,t,r)=>{"use strict";let{ObjectSetPrototypeOf:n,Symbol:i}=r(50266);e.exports=u;let{ERR_METHOD_NOT_IMPLEMENTED:a}=r(93018).codes,o=r(91085),{getHighWaterMark:s}=r(74846);n(u.prototype,o.prototype),n(u,o);let l=i("kCallback");function u(e){if(!(this instanceof u))return new u(e);let t=e?s(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),o.call(this,e),this._readableState.sync=!1,this[l]=null,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",c)}function d(e){"function"!=typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush((t,r)=>{if(t){e?e(t):this.destroy(t);return}null!=r&&this.push(r),this.push(null),e&&e()})}function c(){this._final!==d&&d.call(this)}u.prototype._final=d,u.prototype._transform=function(e,t,r){throw new a("_transform()")},u.prototype._write=function(e,t,r){let n=this._readableState,i=this._writableState,a=n.length;this._transform(e,t,(e,t)=>{if(e){r(e);return}null!=t&&this.push(t),i.ended||a===n.length||n.length<n.highWaterMark?r():this[l]=r})},u.prototype._read=function(){if(this[l]){let e=this[l];this[l]=null,e()}}},13583:(e,t,r)=>{"use strict";let{SymbolAsyncIterator:n,SymbolIterator:i,SymbolFor:a}=r(50266),o=a("nodejs.stream.destroyed"),s=a("nodejs.stream.errored"),l=a("nodejs.stream.readable"),u=a("nodejs.stream.writable"),d=a("nodejs.stream.disturbed"),c=a("nodejs.webstream.isClosedPromise"),f=a("nodejs.webstream.controllerErrorFunction");function h(e,t=!1){var r;return!!(e&&"function"==typeof e.pipe&&"function"==typeof e.on&&(!t||"function"==typeof e.pause&&"function"==typeof e.resume)&&(!e._writableState||(null===(r=e._readableState)||void 0===r?void 0:r.readable)!==!1)&&(!e._writableState||e._readableState))}function p(e){var t;return!!(e&&"function"==typeof e.write&&"function"==typeof e.on&&(!e._readableState||(null===(t=e._writableState)||void 0===t?void 0:t.writable)!==!1))}function b(e){return e&&(e._readableState||e._writableState||"function"==typeof e.write&&"function"==typeof e.on||"function"==typeof e.pipe&&"function"==typeof e.on)}function m(e){return!!(e&&!b(e)&&"function"==typeof e.pipeThrough&&"function"==typeof e.getReader&&"function"==typeof e.cancel)}function y(e){return!!(e&&!b(e)&&"function"==typeof e.getWriter&&"function"==typeof e.abort)}function g(e){return!!(e&&!b(e)&&"object"==typeof e.readable&&"object"==typeof e.writable)}function w(e){if(!b(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[o]||null!=n&&n.destroyed)}function v(e){if(!p(e))return null;if(!0===e.writableEnded)return!0;let t=e._writableState;return(null==t||!t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)}function _(e,t){if(!h(e))return null;let r=e._readableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.endEmitted)?null:!!(r.endEmitted||!1===t&&!0===r.ended&&0===r.length))}function S(e){return e&&null!=e[l]?e[l]:"boolean"!=typeof(null==e?void 0:e.readable)?null:!w(e)&&h(e)&&e.readable&&!_(e)}function E(e){return e&&null!=e[u]?e[u]:"boolean"!=typeof(null==e?void 0:e.writable)?null:!w(e)&&p(e)&&e.writable&&!v(e)}function T(e){return"boolean"==typeof e._closed&&"boolean"==typeof e._defaultKeepAlive&&"boolean"==typeof e._removedConnection&&"boolean"==typeof e._removedContLen}function R(e){return"boolean"==typeof e._sent100&&T(e)}e.exports={isDestroyed:w,kIsDestroyed:o,isDisturbed:function(e){var t;return!!(e&&(null!==(t=e[d])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:d,isErrored:function(e){var t,r,n,i,a,o,l,u,d,c;return!!(e&&(null!==(t=null!==(r=null!==(n=null!==(i=null!==(a=null!==(o=e[s])&&void 0!==o?o:e.readableErrored)&&void 0!==a?a:e.writableErrored)&&void 0!==i?i:null===(l=e._readableState)||void 0===l?void 0:l.errorEmitted)&&void 0!==n?n:null===(u=e._writableState)||void 0===u?void 0:u.errorEmitted)&&void 0!==r?r:null===(d=e._readableState)||void 0===d?void 0:d.errored)&&void 0!==t?t:null===(c=e._writableState)||void 0===c?void 0:c.errored))},kIsErrored:s,isReadable:S,kIsReadable:l,kIsClosedPromise:c,kControllerErrorFunction:f,kIsWritable:u,isClosed:function(e){if(!b(e))return null;if("boolean"==typeof e.closed)return e.closed;let t=e._writableState,r=e._readableState;return"boolean"==typeof(null==t?void 0:t.closed)||"boolean"==typeof(null==r?void 0:r.closed)?(null==t?void 0:t.closed)||(null==r?void 0:r.closed):"boolean"==typeof e._closed&&T(e)?e._closed:null},isDuplexNodeStream:function(e){return!!(e&&"function"==typeof e.pipe&&e._readableState&&"function"==typeof e.on&&"function"==typeof e.write)},isFinished:function(e,t){return b(e)?!!w(e)||!((null==t?void 0:t.readable)!==!1&&S(e)||(null==t?void 0:t.writable)!==!1&&E(e)):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"==typeof e[n]:!1===t?"function"==typeof e[i]:"function"==typeof e[n]||"function"==typeof e[i])},isReadableNodeStream:h,isReadableStream:m,isReadableEnded:function(e){if(!h(e))return null;if(!0===e.readableEnded)return!0;let t=e._readableState;return!!t&&!t.errored&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)},isReadableFinished:_,isReadableErrored:function(e){var t,r;return b(e)?e.readableErrored?e.readableErrored:null!==(t=null===(r=e._readableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isNodeStream:b,isWebStream:function(e){return m(e)||y(e)||g(e)},isWritable:E,isWritableNodeStream:p,isWritableStream:y,isWritableEnded:v,isWritableFinished:function(e,t){if(!p(e))return null;if(!0===e.writableFinished)return!0;let r=e._writableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.finished)?null:!!(r.finished||!1===t&&!0===r.ended&&0===r.length))},isWritableErrored:function(e){var t,r;return b(e)?e.writableErrored?e.writableErrored:null!==(t=null===(r=e._writableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"==typeof e._consuming&&"boolean"==typeof e._dumped&&(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)===void 0},isServerResponse:R,willEmitClose:function(e){if(!b(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!n&&R(e)||!!(n&&n.autoDestroy&&n.emitClose&&!1===n.closed)},isTransformStream:g}},7038:(e,t,r)=>{"use strict";let n;let i=r(83806),{ArrayPrototypeSlice:a,Error:o,FunctionPrototypeSymbolHasInstance:s,ObjectDefineProperty:l,ObjectDefineProperties:u,ObjectSetPrototypeOf:d,StringPrototypeToLowerCase:c,Symbol:f,SymbolHasInstance:h}=r(50266);e.exports=P,P.WritableState=I;let{EventEmitter:p}=r(17702),b=r(21813).Stream,{Buffer:m}=r(78893),y=r(83994),{addAbortSignal:g}=r(3998),{getHighWaterMark:w,getDefaultHighWaterMark:v}=r(74846),{ERR_INVALID_ARG_TYPE:_,ERR_METHOD_NOT_IMPLEMENTED:S,ERR_MULTIPLE_CALLBACK:E,ERR_STREAM_CANNOT_PIPE:T,ERR_STREAM_DESTROYED:R,ERR_STREAM_ALREADY_FINISHED:x,ERR_STREAM_NULL_VALUES:k,ERR_STREAM_WRITE_AFTER_END:M,ERR_UNKNOWN_ENCODING:L}=r(93018).codes,{errorOrDestroy:D}=y;function A(){}d(P.prototype,b.prototype),d(P,b);let O=f("kOnFinished");function I(e,t,n){"boolean"!=typeof n&&(n=t instanceof r(91085)),this.objectMode=!!(e&&e.objectMode),n&&(this.objectMode=this.objectMode||!!(e&&e.writableObjectMode)),this.highWaterMark=e?w(this,e,"writableHighWaterMark",n):v(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let i=!!(e&&!1===e.decodeStrings);this.decodeStrings=!i,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=N.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,j(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[O]=[]}function j(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function P(e){let t=this instanceof r(91085);if(!t&&!s(P,this))return new P(e);this._writableState=new I(e,this,t),e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&g(e.signal,this)),b.call(this,e),y.construct(this,()=>{let e=this._writableState;e.writing||F(this,e),V(this,e)})}function $(e,t,r,n){let a;let o=e._writableState;if("function"==typeof r)n=r,r=o.defaultEncoding;else{if(r){if("buffer"!==r&&!m.isEncoding(r))throw new L(r)}else r=o.defaultEncoding;"function"!=typeof n&&(n=A)}if(null===t)throw new k;if(!o.objectMode){if("string"==typeof t)!1!==o.decodeStrings&&(t=m.from(t,r),r="buffer");else if(t instanceof m)r="buffer";else if(b._isUint8Array(t))t=b._uint8ArrayToBuffer(t),r="buffer";else throw new _("chunk",["string","Buffer","Uint8Array"],t)}return(o.ending?a=new M:o.destroyed&&(a=new R("write")),a)?(i.nextTick(n,a),D(e,a,!0),a):(o.pendingcb++,function(e,t,r,n,i){let a=t.objectMode?1:r.length;t.length+=a;let o=t.length<t.highWaterMark;return o||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:n,callback:i}),t.allBuffers&&"buffer"!==n&&(t.allBuffers=!1),t.allNoop&&i!==A&&(t.allNoop=!1)):(t.writelen=a,t.writecb=i,t.writing=!0,t.sync=!0,e._write(r,n,t.onwrite),t.sync=!1),o&&!t.errored&&!t.destroyed}(e,o,t,r,n))}function B(e,t,r,n,i,a,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new R("write")):r?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function C(e,t,r,n){--t.pendingcb,n(r),q(t),D(e,r)}function N(e,t){let r=e._writableState,n=r.sync,a=r.writecb;if("function"!=typeof a){D(e,new E);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(t.stack,r.errored||(r.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),n?i.nextTick(C,e,r,t,a):C(e,r,t,a)):(r.buffered.length>r.bufferedIndex&&F(e,r),n?null!==r.afterWriteTickInfo&&r.afterWriteTickInfo.cb===a?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:a,stream:e,state:r},i.nextTick(U,r.afterWriteTickInfo)):W(e,r,1,a))}function U({stream:e,state:t,count:r,cb:n}){return t.afterWriteTickInfo=null,W(e,t,r,n)}function W(e,t,r,n){for(t.ending||e.destroyed||0!==t.length||!t.needDrain||(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,n();t.destroyed&&q(t),V(e,t)}function q(e){var t,r;if(e.writing)return;for(let r=e.bufferedIndex;r<e.buffered.length;++r){let{chunk:n,callback:i}=e.buffered[r],a=e.objectMode?1:n.length;e.length-=a,i(null!==(t=e.errored)&&void 0!==t?t:new R("write"))}let n=e[O].splice(0);for(let t=0;t<n.length;t++)n[t](null!==(r=e.errored)&&void 0!==r?r:new R("end"));j(e)}function F(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=t,o=r.length-n;if(!o)return;let s=n;if(t.bufferProcessing=!0,o>1&&e._writev){t.pendingcb-=o-1;let n=t.allNoop?A:e=>{for(let t=s;t<r.length;++t)r[t].callback(e)},i=t.allNoop&&0===s?r:a(r,s);i.allBuffers=t.allBuffers,B(e,t,!0,t.length,i,"",n),j(t)}else{do{let{chunk:n,encoding:a,callback:o}=r[s];r[s++]=null,B(e,t,!1,i?1:n.length,n,a,o)}while(s<r.length&&!t.writing);s===r.length?j(t):s>256?(r.splice(0,s),t.bufferedIndex=0):t.bufferedIndex=s}t.bufferProcessing=!1}function H(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function V(e,t,r){H(t)&&(t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function(e,t){let r=!1;function n(n){if(r){D(e,null!=n?n:E());return}if(r=!0,t.pendingcb--,n){let r=t[O].splice(0);for(let e=0;e<r.length;e++)r[e](n);D(e,n,t.sync)}else H(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,i.nextTick(G,e,t))}t.sync=!0,t.pendingcb++;try{e._final(n)}catch(e){n(e)}t.sync=!1}(e,t))),0===t.pendingcb&&(r?(t.pendingcb++,i.nextTick((e,t)=>{H(t)?G(e,t):t.pendingcb--},e,t)):H(t)&&(t.pendingcb++,G(e,t))))}function G(e,t){t.pendingcb--,t.finished=!0;let r=t[O].splice(0);for(let e=0;e<r.length;e++)r[e]();if(e.emit("finish"),t.autoDestroy){let t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}I.prototype.getBuffer=function(){return a(this.buffered,this.bufferedIndex)},l(I.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),l(P,h,{__proto__:null,value:function(e){return!!s(this,e)||this===P&&e&&e._writableState instanceof I}}),P.prototype.pipe=function(){D(this,new T)},P.prototype.write=function(e,t,r){return!0===$(this,e,t,r)},P.prototype.cork=function(){this._writableState.corked++},P.prototype.uncork=function(){let e=this._writableState;e.corked&&(e.corked--,e.writing||F(this,e))},P.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=c(e)),!m.isEncoding(e))throw new L(e);return this._writableState.defaultEncoding=e,this},P.prototype._write=function(e,t,r){if(this._writev)this._writev([{chunk:e,encoding:t}],r);else throw new S("_write()")},P.prototype._writev=null,P.prototype.end=function(e,t,r){let n;let a=this._writableState;if("function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e){let r=$(this,e,t);r instanceof o&&(n=r)}return a.corked&&(a.corked=1,this.uncork()),n||(a.errored||a.ending?a.finished?n=new x("end"):a.destroyed&&(n=new R("end")):(a.ending=!0,V(this,a,!0),a.ended=!0)),"function"==typeof r&&(n||a.finished?i.nextTick(r,n):a[O].push(r)),this},u(P.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){let e=this._writableState;return!!e&&!1!==e.writable&&!e.destroyed&&!e.errored&&!e.ending&&!e.ended},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){let e=this._writableState;return!!e&&!e.destroyed&&!e.ending&&e.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(!1!==this._writableState.writable&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});let z=y.destroy;function Y(){return void 0===n&&(n={}),n}P.prototype.destroy=function(e,t){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[O].length)&&i.nextTick(q,r),z.call(this,e,t),this},P.prototype._undestroy=y.undestroy,P.prototype._destroy=function(e,t){t(e)},P.prototype[p.captureRejectionSymbol]=function(e){this.destroy(e)},P.fromWeb=function(e,t){return Y().newStreamWritableFromWritableStream(e,t)},P.toWeb=function(e){return Y().newWritableStreamFromStreamWritable(e)}},88113:(e,t,r)=>{"use strict";let{ArrayIsArray:n,ArrayPrototypeIncludes:i,ArrayPrototypeJoin:a,ArrayPrototypeMap:o,NumberIsInteger:s,NumberIsNaN:l,NumberMAX_SAFE_INTEGER:u,NumberMIN_SAFE_INTEGER:d,NumberParseInt:c,ObjectPrototypeHasOwnProperty:f,RegExpPrototypeExec:h,String:p,StringPrototypeToUpperCase:b,StringPrototypeTrim:m}=r(50266),{hideStackFrames:y,codes:{ERR_SOCKET_BAD_PORT:g,ERR_INVALID_ARG_TYPE:w,ERR_INVALID_ARG_VALUE:v,ERR_OUT_OF_RANGE:_,ERR_UNKNOWN_SIGNAL:S}}=r(93018),{normalizeEncoding:E}=r(59382),{isAsyncFunction:T,isArrayBufferView:R}=r(59382).types,x={},k=/^[0-7]+$/,M=y((e,t,r=d,n=u)=>{if("number"!=typeof e)throw new w(t,"number",e);if(!s(e))throw new _(t,"an integer",e);if(e<r||e>n)throw new _(t,`>= ${r} && <= ${n}`,e)}),L=y((e,t,r=-2147483648,n=2147483647)=>{if("number"!=typeof e)throw new w(t,"number",e);if(!s(e))throw new _(t,"an integer",e);if(e<r||e>n)throw new _(t,`>= ${r} && <= ${n}`,e)}),D=y((e,t,r=!1)=>{if("number"!=typeof e)throw new w(t,"number",e);if(!s(e))throw new _(t,"an integer",e);let n=r?1:0;if(e<n||e>4294967295)throw new _(t,`>= ${n} && <= 4294967295`,e)});function A(e,t){if("string"!=typeof e)throw new w(t,"string",e)}let O=y((e,t,r)=>{if(!i(r,e))throw new v(t,e,"must be one of: "+a(o(r,e=>"string"==typeof e?`'${e}'`:p(e)),", "))});function I(e,t){if("boolean"!=typeof e)throw new w(t,"boolean",e)}function j(e,t,r){return null!=e&&f(e,t)?e[t]:r}let P=y((e,t,r=null)=>{let i=j(r,"allowArray",!1),a=j(r,"allowFunction",!1);if(!j(r,"nullable",!1)&&null===e||!i&&n(e)||"object"!=typeof e&&(!a||"function"!=typeof e))throw new w(t,"Object",e)}),$=y((e,t)=>{if(null!=e&&"object"!=typeof e&&"function"!=typeof e)throw new w(t,"a dictionary",e)}),B=y((e,t,r=0)=>{if(!n(e))throw new w(t,"Array",e);if(e.length<r)throw new v(t,e,`must be longer than ${r}`)}),C=y((e,t="buffer")=>{if(!R(e))throw new w(t,["Buffer","TypedArray","DataView"],e)}),N=y((e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new w(t,"AbortSignal",e)}),U=y((e,t)=>{if("function"!=typeof e)throw new w(t,"Function",e)}),W=y((e,t)=>{if("function"!=typeof e||T(e))throw new w(t,"Function",e)}),q=y((e,t)=>{if(void 0!==e)throw new w(t,"undefined",e)}),F=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function H(e,t){if(void 0===e||!h(F,e))throw new v(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,r){if(void 0===e&&(e=r),"string"==typeof e){if(null===h(k,e))throw new v(t,e,"must be a 32-bit unsigned integer or an octal string");e=c(e,8)}return D(e,t),e},validateArray:B,validateStringArray:function(e,t){B(e,t);for(let r=0;r<e.length;r++)A(e[r],`${t}[${r}]`)},validateBooleanArray:function(e,t){B(e,t);for(let r=0;r<e.length;r++)I(e[r],`${t}[${r}]`)},validateAbortSignalArray:function(e,t){B(e,t);for(let r=0;r<e.length;r++){let n=e[r],i=`${t}[${r}]`;if(null==n)throw new w(i,"AbortSignal",n);N(n,i)}},validateBoolean:I,validateBuffer:C,validateDictionary:$,validateEncoding:function(e,t){let r=E(t),n=e.length;if("hex"===r&&n%2!=0)throw new v("encoding",t,`is invalid for data of length ${n}`)},validateFunction:U,validateInt32:L,validateInteger:M,validateNumber:function(e,t,r,n){if("number"!=typeof e)throw new w(t,"number",e);if(null!=r&&e<r||null!=n&&e>n||(null!=r||null!=n)&&l(e))throw new _(t,`${null!=r?`>= ${r}`:""}${null!=r&&null!=n?" && ":""}${null!=n?`<= ${n}`:""}`,e)},validateObject:P,validateOneOf:O,validatePlainFunction:W,validatePort:function(e,t="Port",r=!0){if("number"!=typeof e&&"string"!=typeof e||"string"==typeof e&&0===m(e).length||+e!=+e>>>0||e>65535||0===e&&!r)throw new g(t,e,r);return 0|e},validateSignalName:function(e,t="signal"){if(A(e,t),void 0===x[e]){if(void 0!==x[b(e)])throw new S(e+" (signals must use all capital letters)");throw new S(e)}},validateString:A,validateUint32:D,validateUndefined:q,validateUnion:function(e,t,r){if(!i(r,e))throw new w(t,`('${a(r,"|")}')`,e)},validateAbortSignal:N,validateLinkHeaderValue:function(e){if("string"==typeof e)return H(e,"hints"),e;if(n(e)){let t=e.length,r="";if(0===t)return r;for(let n=0;n<t;n++){let i=e[n];H(i,"hints"),r+=i,n!==t-1&&(r+=", ")}return r}throw new v("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},93018:(e,t,r)=>{"use strict";let{format:n,inspect:i}=r(32681),{AggregateError:a}=r(50266),o=globalThis.AggregateError||a,s=Symbol("kIsNodeError"),l=["string","function","number","object","Function","Object","boolean","bigint","symbol"],u=/^([A-Z][a-z0-9]*)+$/,d={};function c(e,t){if(!e)throw new d.ERR_INTERNAL_ASSERTION(t)}function f(e){let t="",r=e.length,n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function h(e,t,r){r||(r=Error);class i extends r{constructor(...r){super(function(e,t,r){if("function"==typeof t)return c(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);let i=(t.match(/%[dfijoOs]/g)||[]).length;return(c(i===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${i}).`),0===r.length)?t:n(t,...r)}(e,t,r))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=e,i.prototype[s]=!0,d[e]=i}function p(e){let t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}class b extends Error{constructor(e="The operation was aborted",t){if(void 0!==t&&"object"!=typeof t)throw new d.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}}h("ERR_ASSERTION","%s",Error),h("ERR_INVALID_ARG_TYPE",(e,t,r)=>{c("string"==typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";let a=[],o=[],s=[];for(let e of t)c("string"==typeof e,"All expected entries have to be of type string"),l.includes(e)?a.push(e.toLowerCase()):u.test(e)?o.push(e):(c("object"!==e,'The value "object" should be written as "Object"'),s.push(e));if(o.length>0){let e=a.indexOf("object");-1!==e&&(a.splice(a,e,1),o.push("Object"))}if(a.length>0){switch(a.length){case 1:n+=`of type ${a[0]}`;break;case 2:n+=`one of type ${a[0]} or ${a[1]}`;break;default:{let e=a.pop();n+=`one of type ${a.join(", ")}, or ${e}`}}(o.length>0||s.length>0)&&(n+=" or ")}if(o.length>0){switch(o.length){case 1:n+=`an instance of ${o[0]}`;break;case 2:n+=`an instance of ${o[0]} or ${o[1]}`;break;default:{let e=o.pop();n+=`an instance of ${o.join(", ")}, or ${e}`}}s.length>0&&(n+=" or ")}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(n+="an "),n+=`${s[0]}`;break;case 2:n+=`one of ${s[0]} or ${s[1]}`;break;default:{let e=s.pop();n+=`one of ${s.join(", ")}, or ${e}`}}if(null==r)n+=`. Received ${r}`;else if("function"==typeof r&&r.name)n+=`. Received function ${r.name}`;else if("object"==typeof r){var d;if(null!==(d=r.constructor)&&void 0!==d&&d.name)n+=`. Received an instance of ${r.constructor.name}`;else{let e=i(r,{depth:-1});n+=`. Received ${e}`}}else{let e=i(r,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),n+=`. Received type ${typeof r} (${e})`}return n},TypeError),h("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=i(t);n.length>128&&(n=n.slice(0,128)+"...");let a=e.includes(".")?"property":"argument";return`The ${a} '${e}' ${r}. Received ${n}`},TypeError),h("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;let i=null!=r&&null!==(n=r.constructor)&&void 0!==n&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${e} to be returned from the "${t}" function but got ${i}.`},TypeError),h("ERR_MISSING_ARGS",(...e)=>{let t;c(e.length>0,"At least one arg needs to be specified");let r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(e=>`"${e}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{let r=e.pop();t+=`The ${e.join(", ")}, and ${r} arguments`}}return`${t} must be specified`},TypeError),h("ERR_OUT_OF_RANGE",(e,t,r)=>{let n;if(c(t,'Missing "range" argument'),Number.isInteger(r)&&Math.abs(r)>4294967296)n=f(String(r));else if("bigint"==typeof r){n=String(r);let e=BigInt(2)**BigInt(32);(r>e||r<-e)&&(n=f(n)),n+="n"}else n=i(r);return`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError),h("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),h("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),h("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),h("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),h("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),h("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),h("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),h("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),h("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),h("ERR_STREAM_WRITE_AFTER_END","write after end",Error),h("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:b,aggregateTwoErrors:p(function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;let r=new o([t,e],t.message);return r.code=t.code,r}return e||t}),hideStackFrames:p,codes:d}},16440:(e,t,r)=>{"use strict";let n=r(76162);if(n&&"disable"===process.env.READABLE_STREAM){let t=n.promises;e.exports._uint8ArrayToBuffer=n._uint8ArrayToBuffer,e.exports._isUint8Array=n._isUint8Array,e.exports.isDisturbed=n.isDisturbed,e.exports.isErrored=n.isErrored,e.exports.isReadable=n.isReadable,e.exports.Readable=n.Readable,e.exports.Writable=n.Writable,e.exports.Duplex=n.Duplex,e.exports.Transform=n.Transform,e.exports.PassThrough=n.PassThrough,e.exports.addAbortSignal=n.addAbortSignal,e.exports.finished=n.finished,e.exports.destroy=n.destroy,e.exports.pipeline=n.pipeline,e.exports.compose=n.compose,Object.defineProperty(n,"promises",{configurable:!0,enumerable:!0,get:()=>t}),e.exports.Stream=n.Stream}else{let t=r(17436),n=r(74665),i=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=i,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get:()=>n}),e.exports.Stream=t.Stream}e.exports.default=e.exports},50266:e=>{"use strict";class t extends Error{constructor(e){if(!Array.isArray(e))throw TypeError(`Expected input to be an Array, got ${typeof e}`);let t="";for(let r=0;r<e.length;r++)t+=`    ${e[r].stack}
`;super(t),this.name="AggregateError",this.errors=e}}e.exports={AggregateError:t,ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,r)=>e.slice(t,r),Error,FunctionPrototypeCall:(e,t,...r)=>e.call(t,...r),FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,r)=>Object.defineProperty(e,t,r),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,r)=>e.then(t,r),PromiseReject:e=>Promise.reject(e),PromiseResolve:e=>Promise.resolve(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String,StringPrototypeSlice:(e,t,r)=>e.slice(t,r),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(e,t,r)=>e.set(t,r),Boolean,Uint8Array}},59382:(e,t,r)=>{"use strict";let n=r(78893),{format:i,inspect:a}=r(32681),{codes:{ERR_INVALID_ARG_TYPE:o}}=r(93018),{kResistStopPropagation:s,AggregateError:l,SymbolDispose:u}=r(50266),AbortSignal=globalThis.AbortSignal||r(54769).AbortSignal,d=globalThis.AbortController||r(54769).AbortController,c=Object.getPrototypeOf(async function(){}).constructor,f=globalThis.Blob||n.Blob,h=(e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new o(t,"AbortSignal",e)},p=(e,t)=>{if("function"!=typeof e)throw new o(t,"Function",e)};e.exports={AggregateError:l,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...r){t||(t=!0,e.apply(this,r))}},createDeferredPromise:function(){let e,t;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}},promisify:e=>new Promise((t,r)=>{e((e,...n)=>e?r(e):t(...n))}),debuglog:()=>function(){},format:i,inspect:a,types:{isAsyncFunction:e=>e instanceof c,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:void 0!==f?function(e){return e instanceof f}:function(e){return!1},deprecate:(e,t)=>e,addAbortListener:r(17702).addAbortListener||function(e,t){let r;if(void 0===e)throw new o("signal","AbortSignal",e);return h(e,"signal"),p(t,"listener"),e.aborted?queueMicrotask(()=>t()):(e.addEventListener("abort",t,{__proto__:null,once:!0,[s]:!0}),r=()=>{e.removeEventListener("abort",t)}),{__proto__:null,[u](){var e;null===(e=r)||void 0===e||e()}}},AbortSignalAny:AbortSignal.any||function(e){if(1===e.length)return e[0];let t=new d,r=()=>t.abort();return e.forEach(e=>{h(e,"signals"),e.addEventListener("abort",r,{once:!0})}),t.signal.addEventListener("abort",()=>{e.forEach(e=>e.removeEventListener("abort",r))},{once:!0}),t.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},32681:e=>{"use strict";e.exports={format:(e,...t)=>e.replace(/%([sdifj])/g,function(...[e,r]){let n=t.shift();if("f"===r)return n.toFixed(6);if("j"===r)return JSON.stringify(n);if("s"!==r||"object"!=typeof n)return n.toString();{let e=n.constructor!==Object?n.constructor.name:"";return`${e} {}`.trim()}}),inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":if(isNaN(e))return"NaN";if(Object.is(e,-0))return String(e);return e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}},17436:(e,t,r)=>{"use strict";let{Buffer:n}=r(78893),{ObjectDefineProperty:i,ObjectKeys:a,ReflectApply:o}=r(50266),{promisify:{custom:s}}=r(59382),{streamReturningOperators:l,promiseReturningOperators:u}=r(48519),{codes:{ERR_ILLEGAL_CONSTRUCTOR:d}}=r(93018),c=r(22279),{setDefaultHighWaterMark:f,getDefaultHighWaterMark:h}=r(74846),{pipeline:p}=r(17032),{destroyer:b}=r(83994),m=r(82033),y=r(74665),g=r(13583),w=e.exports=r(21813).Stream;for(let e of(w.isDestroyed=g.isDestroyed,w.isDisturbed=g.isDisturbed,w.isErrored=g.isErrored,w.isReadable=g.isReadable,w.isWritable=g.isWritable,w.Readable=r(31536),a(l))){let t=l[e];function v(...e){if(new.target)throw d();return w.Readable.from(o(t,this,e))}i(v,"name",{__proto__:null,value:t.name}),i(v,"length",{__proto__:null,value:t.length}),i(w.Readable.prototype,e,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}for(let e of a(u)){let t=u[e];function _(...e){if(new.target)throw d();return o(t,this,e)}i(_,"name",{__proto__:null,value:t.name}),i(_,"length",{__proto__:null,value:t.length}),i(w.Readable.prototype,e,{__proto__:null,value:_,enumerable:!1,configurable:!0,writable:!0})}w.Writable=r(7038),w.Duplex=r(91085),w.Transform=r(90401),w.PassThrough=r(7437),w.pipeline=p;let{addAbortSignal:S}=r(3998);w.addAbortSignal=S,w.finished=m,w.destroy=b,w.compose=c,w.setDefaultHighWaterMark=f,w.getDefaultHighWaterMark=h,i(w,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>y}),i(p,s,{__proto__:null,enumerable:!0,get:()=>y.pipeline}),i(m,s,{__proto__:null,enumerable:!0,get:()=>y.finished}),w.Stream=w,w._isUint8Array=function(e){return e instanceof Uint8Array},w._uint8ArrayToBuffer=function(e){return n.from(e.buffer,e.byteOffset,e.byteLength)}},74665:(e,t,r)=>{"use strict";let{ArrayPrototypePop:n,Promise:i}=r(50266),{isIterable:a,isNodeStream:o,isWebStream:s}=r(13583),{pipelineImpl:l}=r(17032),{finished:u}=r(82033);r(17436),e.exports={finished:u,pipeline:function(...e){return new i((t,r)=>{let i,u;let d=e[e.length-1];if(d&&"object"==typeof d&&!o(d)&&!a(d)&&!s(d)){let t=n(e);i=t.signal,u=t.end}l(e,(e,n)=>{e?r(e):t(n)},{signal:i,end:u})})}}},89599:(e,t,r)=>{"use strict";let{Transform:n}=r(50475),{StringDecoder:i}=r(74026),a=Symbol("last"),o=Symbol("decoder");function s(e,t,r){var n;if(this.overflow){if(1===(n=this[o].write(e).split(this.matcher)).length)return r();n.shift(),this.overflow=!1}else this[a]+=this[o].write(e),n=this[a].split(this.matcher);this[a]=n.pop();for(var i=0;i<n.length;i++)try{u(this,this.mapper(n[i]))}catch(e){return r(e)}if(this.overflow=this[a].length>this.maxLength,this.overflow&&!this.skipOverflow)return r(Error("maximum buffer reached"));r()}function l(e){if(this[a]+=this[o].end(),this[a])try{u(this,this.mapper(this[a]))}catch(t){return e(t)}e()}function u(e,t){void 0!==t&&e.push(t)}function d(e){return e}e.exports=function(e,t,r){switch(e=e||/\r?\n/,t=t||d,r=r||{},arguments.length){case 1:"function"==typeof e?(t=e,e=/\r?\n/):"object"!=typeof e||e instanceof RegExp||(r=e,e=/\r?\n/);break;case 2:"function"==typeof e?(r=t,t=e,e=/\r?\n/):"object"==typeof t&&(r=t,t=d)}(r=Object.assign({},r)).transform=s,r.flush=l,r.readableObjectMode=!0;let u=new n(r);return u[a]="",u[o]=new i("utf8"),u.matcher=e,u.mapper=t,u.maxLength=r.maxLength,u.skipOverflow=r.skipOverflow,u.overflow=!1,u}},36744:e=>{"use strict";let t={};function r(e,r,n){n||(n=Error);class i extends n{constructor(e,t,n){super("string"==typeof r?r:r(e,t,n))}}i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(!Array.isArray(e))return`of ${t} ${String(e)}`;{let r=e.length;return(e=e.map(e=>String(e)),r>2)?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:2===r?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}}r("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(e,t,r){var i,a,o,s;let l,u;if("string"==typeof t&&(i="not ",t.substr(0,i.length)===i)?(l="must not be",t=t.replace(/^not /,"")):l="must be",a=" argument",(void 0===o||o>e.length)&&(o=e.length),e.substring(o-a.length,o)===a)u=`The ${e} ${l} ${n(t,"type")}`;else{let r=("number"!=typeof s&&(s=0),s+1>e.length||-1===e.indexOf(".",s))?"argument":"property";u=`The "${e}" ${r} ${l} ${n(t,"type")}`}return u+`. Received type ${typeof r}`},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},33968:(e,t,r)=>{"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=u;var i=r(24660),a=r(18559);r(84874)(u,i);for(var o=n(a.prototype),s=0;s<o.length;s++){var l=o[s];u.prototype[l]||(u.prototype[l]=a.prototype[l])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||process.nextTick(c,this)}function c(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},6797:(e,t,r)=>{"use strict";e.exports=i;var n=r(5550);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(84874)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},24660:(e,t,r)=>{"use strict";e.exports=T,T.ReadableState=E,r(17702).EventEmitter;var n,i,a,o,s,l=function(e,t){return e.listeners(t).length},u=r(25034),d=r(78893).Buffer,c=("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},f=r(21764);i=f&&f.debuglog?f.debuglog("stream"):function(){};var h=r(89981),p=r(918),b=r(2910).getHighWaterMark,m=r(36744).q,y=m.ERR_INVALID_ARG_TYPE,g=m.ERR_STREAM_PUSH_AFTER_EOF,w=m.ERR_METHOD_NOT_IMPLEMENTED,v=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(84874)(T,u);var _=p.errorOrDestroy,S=["error","close","destroy","pause","resume"];function E(e,t,i){n=n||r(33968),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=b(this,e,"readableHighWaterMark",i),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(a||(a=r(80985).StringDecoder),this.decoder=new a(e.encoding),this.encoding=e.encoding)}function T(e){if(n=n||r(33968),!(this instanceof T))return new T(e);var t=this instanceof n;this._readableState=new E(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function R(e,t,r,n,a){i("readableAddChunk",t);var o,s,l,u,f,h=e._readableState;if(null===t)h.reading=!1,function(e,t){if(i("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?M(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,L(e)))}}(e,h);else{if(a||(o=h,s=t,d.isBuffer(s)||s instanceof c||"string"==typeof s||void 0===s||o.objectMode||(l=new y("chunk",["string","Buffer","Uint8Array"],s)),f=l),f)_(e,f);else if(h.objectMode||t&&t.length>0){if("string"==typeof t||h.objectMode||Object.getPrototypeOf(t)===d.prototype||(u=t,t=d.from(u)),n)h.endEmitted?_(e,new v):x(e,h,t,!0);else if(h.ended)_(e,new g);else{if(h.destroyed)return!1;h.reading=!1,h.decoder&&!r?(t=h.decoder.write(t),h.objectMode||0!==t.length?x(e,h,t,!1):D(e,h)):x(e,h,t,!1)}}else n||(h.reading=!1,D(e,h))}return!h.ended&&(h.length<h.highWaterMark||0===h.length)}function x(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&M(e)),D(e,t)}function k(e,t){if(e<=0||0===t.length&&t.ended)return 0;if(t.objectMode)return 1;if(e!=e)return t.flowing&&t.length?t.buffer.head.data.length:t.length;if(e>t.highWaterMark){var r;t.highWaterMark=((r=e)>=1073741824?r=1073741824:(r--,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r++),r)}return e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0)}function M(e){var t=e._readableState;i("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(i("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(L,e))}function L(e){var t=e._readableState;i("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,P(e)}function D(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(A,e,t))}function A(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(i("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function O(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function I(e){i("readable nexttick read 0"),e.read(0)}function j(e,t){i("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),P(e),t.flowing&&!t.reading&&e.read(0)}function P(e){var t=e._readableState;for(i("flow",t.flowing);t.flowing&&null!==e.read(););}function $(e,t){var r;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r)}function B(e){var t=e._readableState;i("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(C,t,e))}function C(e,t){if(i("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function N(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return -1}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),T.prototype.destroy=p.destroy,T.prototype._undestroy=p.undestroy,T.prototype._destroy=function(e,t){t(e)},T.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=d.from(e,t),t=""),r=!0),R(this,e,t,!1,r)},T.prototype.unshift=function(e){return R(this,e,null,!0,!1)},T.prototype.isPaused=function(){return!1===this._readableState.flowing},T.prototype.setEncoding=function(e){a||(a=r(80985).StringDecoder);var t=new a(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this},T.prototype.read=function(e){i("read",e),e=parseInt(e,10);var t,r=this._readableState,n=e;if(0!==e&&(r.emittedReadable=!1),0===e&&r.needReadable&&((0!==r.highWaterMark?r.length>=r.highWaterMark:r.length>0)||r.ended))return i("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?B(this):M(this),null;if(0===(e=k(e,r))&&r.ended)return 0===r.length&&B(this),null;var a=r.needReadable;return i("need readable",a),(0===r.length||r.length-e<r.highWaterMark)&&i("length less than watermark",a=!0),r.ended||r.reading?i("reading or ended",a=!1):a&&(i("do read"),r.reading=!0,r.sync=!0,0===r.length&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(e=k(n,r))),null===(t=e>0?$(e,r):null)?(r.needReadable=r.length<=r.highWaterMark,e=0):(r.length-=e,r.awaitDrain=0),0===r.length&&(r.ended||(r.needReadable=!0),n!==e&&r.ended&&B(this)),null!==t&&this.emit("data",t),t},T.prototype._read=function(e){_(this,new w("_read()"))},T.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,i("pipe count=%d opts=%j",n.pipesCount,t);var a=t&&!1===t.end||e===process.stdout||e===process.stderr?p:o;function o(){i("onend"),e.end()}n.endEmitted?process.nextTick(a):r.once("end",a),e.on("unpipe",function t(a,l){i("onunpipe"),a===r&&l&&!1===l.hasUnpiped&&(l.hasUnpiped=!0,i("cleanup"),e.removeListener("close",f),e.removeListener("finish",h),e.removeListener("drain",s),e.removeListener("error",c),e.removeListener("unpipe",t),r.removeListener("end",o),r.removeListener("end",p),r.removeListener("data",d),u=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&s())});var s=function(){var e=r._readableState;i("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&l(r,"data")&&(e.flowing=!0,P(r))};e.on("drain",s);var u=!1;function d(t){i("ondata");var a=e.write(t);i("dest.write",a),!1===a&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==N(n.pipes,e))&&!u&&(i("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function c(t){i("onerror",t),p(),e.removeListener("error",c),0===l(e,"error")&&_(e,t)}function f(){e.removeListener("finish",h),p()}function h(){i("onfinish"),e.removeListener("close",f),p()}function p(){i("unpipe"),r.unpipe(e)}return r.on("data",d),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",c),e.once("close",f),e.once("finish",h),e.emit("pipe",r),n.flowing||(i("pipe resume"),r.resume()),e},T.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)n[a].emit("unpipe",this,{hasUnpiped:!1});return this}var o=N(t.pipes,e);return -1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},T.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"!==e||n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,i("on readable",n.length,n.reading),n.length?M(this):n.reading||process.nextTick(I,this)),r},T.prototype.addListener=T.prototype.on,T.prototype.removeListener=function(e,t){var r=u.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(O,this),r},T.prototype.removeAllListeners=function(e){var t=u.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&process.nextTick(O,this),t},T.prototype.resume=function(){var e=this._readableState;return e.flowing||(i("resume"),e.flowing=!e.readableListening,e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(j,this,e))),e.paused=!1,this},T.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},T.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var a in e.on("end",function(){if(i("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(a){i("wrapped data"),r.decoder&&(a=r.decoder.write(a)),(!r.objectMode||null!=a)&&(r.objectMode||a&&a.length)&&(t.push(a)||(n=!0,e.pause()))}),e)void 0===this[a]&&"function"==typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));for(var o=0;o<S.length;o++)e.on(S[o],this.emit.bind(this,S[o]));return this._read=function(t){i("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(T.prototype[Symbol.asyncIterator]=function(){return void 0===o&&(o=r(7446)),o(this)}),Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(T.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(T.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),T._fromList=$,Object.defineProperty(T.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(T.from=function(e,t){return void 0===s&&(s=r(62102)),s(T,e,t)})},5550:(e,t,r)=>{"use strict";e.exports=d;var n=r(36744).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,a=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,l=r(33968);function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new a);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function d(e){if(!(this instanceof d))return new d(e);l.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",c)}function c(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush(function(t,r){f(e,t,r)})}function f(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new o;return e.push(null)}r(84874)(d,l),d.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},d.prototype._transform=function(e,t,r){r(new i("_transform()"))},d.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},d.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},d.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,function(e){t(e)})}},18559:(e,t,r)=>{"use strict";function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){(function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(void 0),n=n.next}t.corkedRequestsFree.next=e})(t,e)}}e.exports=T,T.WritableState=E;var i,a,o={deprecate:r(1152)},s=r(25034),l=r(78893).Buffer,u=("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},d=r(918),c=r(2910).getHighWaterMark,f=r(36744).q,h=f.ERR_INVALID_ARG_TYPE,p=f.ERR_METHOD_NOT_IMPLEMENTED,b=f.ERR_MULTIPLE_CALLBACK,m=f.ERR_STREAM_CANNOT_PIPE,y=f.ERR_STREAM_DESTROYED,g=f.ERR_STREAM_NULL_VALUES,w=f.ERR_STREAM_WRITE_AFTER_END,v=f.ERR_UNKNOWN_ENCODING,_=d.errorOrDestroy;function S(){}function E(e,t,a){i=i||r(33968),e=e||{},"boolean"!=typeof a&&(a=t instanceof i),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=c(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){(function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new b;if(r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t)--r.pendingcb,n?(process.nextTick(i,t),process.nextTick(D,e,r),e._writableState.errorEmitted=!0,_(e,t)):(i(t),e._writableState.errorEmitted=!0,_(e,t),D(e,r));else{var a=M(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||k(e,r),n?process.nextTick(x,e,r,a,i):x(e,r,a,i)}})(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function T(e){var t=this instanceof(i=i||r(33968));if(!t&&!a.call(T,this))return new T(e);this._writableState=new E(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function R(e,t,r,n,i,a,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):r?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function x(e,t,r,n){r||0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain")),t.pendingcb--,n(),D(e,t)}function k(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=Array(t.bufferedRequestCount),a=t.corkedRequestsFree;a.entry=r;for(var o=0,s=!0;r;)i[o]=r,r.isBuf||(s=!1),r=r.next,o+=1;i.allBuffers=s,R(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,u=r.encoding,d=r.callback,c=t.objectMode?1:l.length;if(R(e,t,!1,c,l,u,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function M(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function L(e,t){e._final(function(r){t.pendingcb--,r&&_(e,r),t.prefinished=!0,e.emit("prefinish"),D(e,t)})}function D(e,t){var r=M(t);if(r&&(t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(L,e,t))),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(84874)(T,s),E.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(E.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(a=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(e){return!!a.call(this,e)||this===T&&e&&e._writableState instanceof E}})):a=function(e){return e instanceof this},T.prototype.pipe=function(){_(this,new m)},T.prototype.write=function(e,t,r){var n,i,a,o,s,d,c,f=this._writableState,p=!1,b=!f.objectMode&&(n=e,l.isBuffer(n)||n instanceof u);return b&&!l.isBuffer(e)&&(i=e,e=l.from(i)),("function"==typeof t&&(r=t,t=null),b?t="buffer":t||(t=f.defaultEncoding),"function"!=typeof r&&(r=S),f.ending)?(a=r,_(this,o=new w),process.nextTick(a,o)):(b||(s=e,d=r,null===s?c=new g:"string"==typeof s||f.objectMode||(c=new h("chunk",["string","Buffer"],s)),!c||(_(this,c),process.nextTick(d,c),0)))&&(f.pendingcb++,p=function(e,t,r,n,i,a){if(!r){var o,s,u=(o=n,s=i,t.objectMode||!1===t.decodeStrings||"string"!=typeof o||(o=l.from(o,s)),o);n!==u&&(r=!0,i="buffer",n=u)}var d=t.objectMode?1:n.length;t.length+=d;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else R(e,t,!1,d,n,i,a);return c}(this,f,b,e,t,r)),p},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var e=this._writableState;!e.corked||(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||k(this,e))},T.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new v(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(T.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),T.prototype._write=function(e,t,r){r(new p("_write()"))},T.prototype._writev=null,T.prototype.end=function(e,t,r){var n,i=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||(n=r,i.ending=!0,D(this,i),n&&(i.finished?process.nextTick(n):this.once("finish",n)),i.ended=!0,this.writable=!1),this},Object.defineProperty(T.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),T.prototype.destroy=d.destroy,T.prototype._undestroy=d.undestroy,T.prototype._destroy=function(e,t){t(e)}},7446:(e,t,r)=>{"use strict";function n(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i,a=r(12135),o=Symbol("lastResolve"),s=Symbol("lastReject"),l=Symbol("error"),u=Symbol("ended"),d=Symbol("lastPromise"),c=Symbol("handlePromise"),f=Symbol("stream");function h(e,t){return{value:e,done:t}}function p(e){var t=e[o];if(null!==t){var r=e[f].read();null!==r&&(e[d]=null,e[o]=null,e[s]=null,t(h(r,!1)))}}function b(e){process.nextTick(p,e)}var m=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((n(i={get stream(){return this[f]},next:function(){var e,t,r=this,n=this[l];if(null!==n)return Promise.reject(n);if(this[u])return Promise.resolve(h(void 0,!0));if(this[f].destroyed)return new Promise(function(e,t){process.nextTick(function(){r[l]?t(r[l]):e(h(void 0,!0))})});var i=this[d];if(i)t=new Promise((e=this,function(t,r){i.then(function(){if(e[u]){t(h(void 0,!0));return}e[c](t,r)},r)}));else{var a=this[f].read();if(null!==a)return Promise.resolve(h(a,!1));t=new Promise(this[c])}return this[d]=t,t}},Symbol.asyncIterator,function(){return this}),n(i,"return",function(){var e=this;return new Promise(function(t,r){e[f].destroy(null,function(e){if(e){r(e);return}t(h(void 0,!0))})})}),i),m);e.exports=function(e){var t,r=Object.create(y,(n(t={},f,{value:e,writable:!0}),n(t,o,{value:null,writable:!0}),n(t,s,{value:null,writable:!0}),n(t,l,{value:null,writable:!0}),n(t,u,{value:e._readableState.endEmitted,writable:!0}),n(t,c,{value:function(e,t){var n=r[f].read();n?(r[d]=null,r[o]=null,r[s]=null,e(h(n,!1))):(r[o]=e,r[s]=t)},writable:!0}),t));return r[d]=null,a(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[s];null!==t&&(r[d]=null,r[o]=null,r[s]=null,t(e)),r[l]=e;return}var n=r[o];null!==n&&(r[d]=null,r[o]=null,r[s]=null,n(h(void 0,!0))),r[u]=!0}),e.on("readable",b.bind(null,r)),r}},89981:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=a(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function a(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var o=r(78893).Buffer,s=r(21764).inspect,l=s&&s.custom||"inspect";e.exports=function(){var e;function t(){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,t),this.head=null,this.tail=null,this.length=0}return e=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return o.alloc(0);for(var t,r,n=o.allocUnsafe(e>>>0),i=this.head,a=0;i;)t=i.data,r=a,o.prototype.copy.call(t,n,r),a+=i.data.length,i=i.next;return n}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,a=e>i.length?i.length:e;if(a===i.length?n+=i:n+=i.slice(0,e),0==(e-=a)){a===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(a));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=o.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,a=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,a),0==(e-=a)){a===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(a));break}++n}return this.length-=n,t}},{key:l,value:function(e,t){return s(this,i(i({},t),{},{depth:0,customInspect:!1}))}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}()},918:e=>{"use strict";function t(e,t){n(e,t),r(e)}function r(e){(!e._writableState||e._writableState.emitClose)&&(!e._readableState||e._readableState.emitClose)&&e.emit("close")}function n(e,t){e.emit("error",t)}e.exports={destroy:function(e,i){var a=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?i?i(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(n,this,e)):process.nextTick(n,this,e)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!i&&e?a._writableState?a._writableState.errorEmitted?process.nextTick(r,a):(a._writableState.errorEmitted=!0,process.nextTick(t,a,e)):process.nextTick(t,a,e):i?(process.nextTick(r,a),i(e)):process.nextTick(r,a)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},12135:(e,t,r)=>{"use strict";var n=r(36744).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,a){if("function"==typeof r)return e(t,null,r);r||(r={}),o=a||i,s=!1,a=function(){if(!s){s=!0;for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];o.apply(this,t)}};var o,s,l=r.readable||!1!==r.readable&&t.readable,u=r.writable||!1!==r.writable&&t.writable,d=function(){t.writable||f()},c=t._writableState&&t._writableState.finished,f=function(){u=!1,c=!0,l||a.call(t)},h=t._readableState&&t._readableState.endEmitted,p=function(){l=!1,h=!0,u||a.call(t)},b=function(e){a.call(t,e)},m=function(){var e;return l&&!h?(t._readableState&&t._readableState.ended||(e=new n),a.call(t,e)):u&&!c?(t._writableState&&t._writableState.ended||(e=new n),a.call(t,e)):void 0},y=function(){t.req.on("finish",f)};return t.setHeader&&"function"==typeof t.abort?(t.on("complete",f),t.on("abort",m),t.req?y():t.on("request",y)):u&&!t._writableState&&(t.on("end",d),t.on("close",d)),t.on("end",p),t.on("finish",f),!1!==r.error&&t.on("error",b),t.on("close",m),function(){t.removeListener("complete",f),t.removeListener("abort",m),t.removeListener("request",y),t.req&&t.req.removeListener("finish",f),t.removeListener("end",d),t.removeListener("close",d),t.removeListener("finish",f),t.removeListener("end",p),t.removeListener("error",b),t.removeListener("close",m)}}},62102:(e,t,r)=>{"use strict";function n(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,i)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var a=r(36744).q.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,r){if(t&&"function"==typeof t.next)o=t;else if(t&&t[Symbol.asyncIterator])o=t[Symbol.asyncIterator]();else if(t&&t[Symbol.iterator])o=t[Symbol.iterator]();else throw new a("iterable",["Iterable"],t);var o,s=new e(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({objectMode:!0},r)),l=!1;function u(){return d.apply(this,arguments)}function d(){var e;return e=function*(){try{var e=yield o.next(),t=e.value;e.done?s.push(null):s.push((yield t))?u():l=!1}catch(e){s.destroy(e)}},(d=function(){var t=this,r=arguments;return new Promise(function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,l,"next",e)}function l(e){n(o,i,a,s,l,"throw",e)}s(void 0)})}).apply(this,arguments)}return s._read=function(){l||(l=!0,u())},s}},24588:(e,t,r)=>{"use strict";var n,i=r(36744).q,a=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function l(e){e()}function u(e,t){return e.pipe(t)}e.exports=function(){for(var e,t,i=arguments.length,d=Array(i),c=0;c<i;c++)d[c]=arguments[c];var f=(e=d).length&&"function"==typeof e[e.length-1]?e.pop():s;if(Array.isArray(d[0])&&(d=d[0]),d.length<2)throw new a("streams");var h=d.map(function(e,i){var a,s,u,c,p,b,m=i<d.length-1;return a=i>0,u=s=function(e){t||(t=e),e&&h.forEach(l),m||(h.forEach(l),f(t))},c=!1,s=function(){c||(c=!0,u.apply(void 0,arguments))},p=!1,e.on("close",function(){p=!0}),void 0===n&&(n=r(12135)),n(e,{readable:m,writable:a},function(e){if(e)return s(e);p=!0,s()}),b=!1,function(t){if(!p&&!b){if(b=!0,e.setHeader&&"function"==typeof e.abort)return e.abort();if("function"==typeof e.destroy)return e.destroy();s(t||new o("pipe"))}}});return d.reduce(u)}},2910:(e,t,r)=>{"use strict";var n=r(36744).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var a=null!=t.highWaterMark?t.highWaterMark:i?t[r]:null;if(null!=a){if(!(isFinite(a)&&Math.floor(a)===a)||a<0)throw new n(i?r:"highWaterMark",a);return Math.floor(a)}return e.objectMode?16:16384}}},25034:(e,t,r)=>{e.exports=r(76162)},50475:(e,t,r)=>{var n=r(76162);"disable"===process.env.READABLE_STREAM&&n?(e.exports=n.Readable,Object.assign(e.exports,n),e.exports.Stream=n):((t=e.exports=r(24660)).Stream=n||t,t.Readable=t,t.Writable=r(18559),t.Duplex=r(33968),t.Transform=r(5550),t.PassThrough=r(6797),t.finished=r(12135),t.pipeline=r(24588))},1152:(e,t,r)=>{e.exports=r(21764).deprecate},60224:(e,t,r)=>{let n="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,i=r(55315),a=n?";":":",o=r(97493),s=e=>Object.assign(Error(`not found: ${e}`),{code:"ENOENT"}),l=(e,t)=>{let r=t.colon||a,i=e.match(/\//)||n&&e.match(/\\/)?[""]:[...n?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],o=n?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=n?o.split(r):[""];return n&&-1!==e.indexOf(".")&&""!==s[0]&&s.unshift(""),{pathEnv:i,pathExt:s,pathExtExe:o}},u=(e,t,r)=>{"function"==typeof t&&(r=t,t={}),t||(t={});let{pathEnv:n,pathExt:a,pathExtExe:u}=l(e,t),d=[],c=r=>new Promise((a,o)=>{if(r===n.length)return t.all&&d.length?a(d):o(s(e));let l=n[r],u=/^".*"$/.test(l)?l.slice(1,-1):l,c=i.join(u,e);a(f(!u&&/^\.[\\\/]/.test(e)?e.slice(0,2)+c:c,r,0))}),f=(e,r,n)=>new Promise((i,s)=>{if(n===a.length)return i(c(r+1));let l=a[n];o(e+l,{pathExt:u},(a,o)=>{if(!a&&o){if(!t.all)return i(e+l);d.push(e+l)}return i(f(e,r,n+1))})});return r?c(0).then(e=>r(null,e),r):c(0)};e.exports=u,u.sync=(e,t)=>{let{pathEnv:r,pathExt:n,pathExtExe:a}=l(e,t=t||{}),u=[];for(let s=0;s<r.length;s++){let l=r[s],d=/^".*"$/.test(l)?l.slice(1,-1):l,c=i.join(d,e),f=!d&&/^\.[\\\/]/.test(e)?e.slice(0,2)+c:c;for(let e=0;e<n.length;e++){let r=f+n[e];try{if(o.sync(r,{pathExt:a})){if(!t.all)return r;u.push(r)}}catch(e){}}}if(t.all&&u.length)return u;if(t.nothrow)return null;throw s(e)}},8507:(e,t,r)=>{let{setTimeout:n}=r(95346);e.exports=class extends Map{constructor(e=1e3){super(),this.timeout=e}set(e,t){this.has(e)&&clearTimeout(super.get(e).tid),super.set(e,{tid:n(this.delete.bind(this,e),this.timeout).unref(),value:t})}get(e){let t=super.get(e);return t?t.value:null}getOrSet(e,t){if(this.has(e))return this.get(e);{let r=t();return this.set(e,r),(async()=>{try{await r}catch(t){this.delete(e)}})(),r}}delete(e){let t=super.get(e);t&&(clearTimeout(t.tid),super.delete(e))}clear(){for(let e of this.values())clearTimeout(e.tid);super.clear()}}},15623:(e,t,r)=>{let n=r(69871),i=r(30162),a=["mp4a","mp3","vorbis","aac","opus","flac"],o=["mp4v","avc1","Sorenson H.283","MPEG-4 Visual","VP8","VP9","H.264"],s=e=>e.bitrate||0,l=e=>o.findIndex(t=>e.codecs&&e.codecs.includes(t)),u=e=>e.audioBitrate||0,d=e=>a.findIndex(t=>e.codecs&&e.codecs.includes(t)),c=(e,t,r)=>{let n=0;for(let i of r)if(0!=(n=i(t)-i(e)))break;return n},f=(e,t)=>c(e,t,[e=>parseInt(e.qualityLabel),s,l]),h=(e,t)=>c(e,t,[u,d]);t.sortFormats=(e,t)=>c(e,t,[e=>+!!e.isHLS,e=>+!!e.isDashMPD,e=>+(e.contentLength>0),e=>+(e.hasVideo&&e.hasAudio),e=>+e.hasVideo,e=>parseInt(e.qualityLabel)||0,s,u,l,d]),t.chooseFormat=(e,r)=>{let n;if("object"==typeof r.format){if(!r.format.url)throw Error("Invalid format given, did you use `ytdl.getInfo()`?");return r.format}r.filter&&(e=t.filterFormats(e,r.filter)),e.some(e=>e.isHLS)&&(e=e.filter(e=>e.isHLS||!e.isLive));let i=r.quality||"highest";switch(i){case"highest":n=e[0];break;case"lowest":n=e[e.length-1];break;case"highestaudio":{(e=t.filterFormats(e,"audio")).sort(h);let r=e[0],i=(e=e.filter(e=>0===h(r,e))).map(e=>parseInt(e.qualityLabel)||0).sort((e,t)=>e-t)[0];n=e.find(e=>(parseInt(e.qualityLabel)||0)===i);break}case"lowestaudio":(e=t.filterFormats(e,"audio")).sort(h),n=e[e.length-1];break;case"highestvideo":{(e=t.filterFormats(e,"video")).sort(f);let r=e[0],i=(e=e.filter(e=>0===f(r,e))).map(e=>e.audioBitrate||0).sort((e,t)=>e-t)[0];n=e.find(e=>(e.audioBitrate||0)===i);break}case"lowestvideo":(e=t.filterFormats(e,"video")).sort(f),n=e[e.length-1];break;default:n=p(i,e)}if(!n)throw Error(`No such format found: ${i}`);return n};let p=(e,t)=>{let r=e=>t.find(t=>`${t.itag}`==`${e}`);return Array.isArray(e)?r(e.find(e=>r(e))):r(e)};t.filterFormats=(e,t)=>{let r;switch(t){case"videoandaudio":case"audioandvideo":r=e=>e.hasVideo&&e.hasAudio;break;case"video":r=e=>e.hasVideo;break;case"videoonly":r=e=>e.hasVideo&&!e.hasAudio;break;case"audio":r=e=>e.hasAudio;break;case"audioonly":r=e=>!e.hasVideo&&e.hasAudio;break;default:if("function"==typeof t)r=t;else throw TypeError(`Given filter (${t}) is not supported`)}return e.filter(e=>!!e.url&&r(e))},t.addFormatMeta=e=>((e=Object.assign({},i[e.itag],e)).hasVideo=!!e.qualityLabel,e.hasAudio=!!e.audioBitrate,e.container=e.mimeType?e.mimeType.split(";")[0].split("/")[1]:null,e.codecs=e.mimeType?n.between(e.mimeType,'codecs="','"'):null,e.videoCodec=e.hasVideo&&e.codecs?e.codecs.split(", ")[0]:null,e.audioCodec=e.hasAudio&&e.codecs?e.codecs.split(", ").slice(-1)[0]:null,e.isLive=/\bsource[/=]yt_live_broadcast\b/.test(e.url),e.isHLS=/\/manifest\/hls_(variant|playlist)\//.test(e.url),e.isDashMPD=/\/manifest\/dash\//.test(e.url),e)},30162:e=>{e.exports={5:{mimeType:'video/flv; codecs="Sorenson H.283, mp3"',qualityLabel:"240p",bitrate:25e4,audioBitrate:64},6:{mimeType:'video/flv; codecs="Sorenson H.263, mp3"',qualityLabel:"270p",bitrate:8e5,audioBitrate:64},13:{mimeType:'video/3gp; codecs="MPEG-4 Visual, aac"',qualityLabel:null,bitrate:5e5,audioBitrate:null},17:{mimeType:'video/3gp; codecs="MPEG-4 Visual, aac"',qualityLabel:"144p",bitrate:5e4,audioBitrate:24},18:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"360p",bitrate:5e5,audioBitrate:96},22:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"720p",bitrate:2e6,audioBitrate:192},34:{mimeType:'video/flv; codecs="H.264, aac"',qualityLabel:"360p",bitrate:5e5,audioBitrate:128},35:{mimeType:'video/flv; codecs="H.264, aac"',qualityLabel:"480p",bitrate:8e5,audioBitrate:128},36:{mimeType:'video/3gp; codecs="MPEG-4 Visual, aac"',qualityLabel:"240p",bitrate:175e3,audioBitrate:32},37:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"1080p",bitrate:3e6,audioBitrate:192},38:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"3072p",bitrate:35e5,audioBitrate:192},43:{mimeType:'video/webm; codecs="VP8, vorbis"',qualityLabel:"360p",bitrate:5e5,audioBitrate:128},44:{mimeType:'video/webm; codecs="VP8, vorbis"',qualityLabel:"480p",bitrate:1e6,audioBitrate:128},45:{mimeType:'video/webm; codecs="VP8, vorbis"',qualityLabel:"720p",bitrate:2e6,audioBitrate:192},46:{mimeType:'audio/webm; codecs="vp8, vorbis"',qualityLabel:"1080p",bitrate:null,audioBitrate:192},82:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"360p",bitrate:5e5,audioBitrate:96},83:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"240p",bitrate:5e5,audioBitrate:96},84:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"720p",bitrate:2e6,audioBitrate:192},85:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"1080p",bitrate:3e6,audioBitrate:192},91:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"144p",bitrate:1e5,audioBitrate:48},92:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"240p",bitrate:15e4,audioBitrate:48},93:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"360p",bitrate:5e5,audioBitrate:128},94:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"480p",bitrate:8e5,audioBitrate:128},95:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"720p",bitrate:15e5,audioBitrate:256},96:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"1080p",bitrate:25e5,audioBitrate:256},100:{mimeType:'audio/webm; codecs="VP8, vorbis"',qualityLabel:"360p",bitrate:null,audioBitrate:128},101:{mimeType:'audio/webm; codecs="VP8, vorbis"',qualityLabel:"360p",bitrate:null,audioBitrate:192},102:{mimeType:'audio/webm; codecs="VP8, vorbis"',qualityLabel:"720p",bitrate:null,audioBitrate:192},120:{mimeType:'video/flv; codecs="H.264, aac"',qualityLabel:"720p",bitrate:2e6,audioBitrate:128},127:{mimeType:'audio/ts; codecs="aac"',qualityLabel:null,bitrate:null,audioBitrate:96},128:{mimeType:'audio/ts; codecs="aac"',qualityLabel:null,bitrate:null,audioBitrate:96},132:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"240p",bitrate:15e4,audioBitrate:48},133:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"240p",bitrate:2e5,audioBitrate:null},134:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"360p",bitrate:3e5,audioBitrate:null},135:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"480p",bitrate:5e5,audioBitrate:null},136:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"720p",bitrate:1e6,audioBitrate:null},137:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"1080p",bitrate:25e5,audioBitrate:null},138:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"4320p",bitrate:135e5,audioBitrate:null},139:{mimeType:'audio/mp4; codecs="aac"',qualityLabel:null,bitrate:null,audioBitrate:48},140:{mimeType:'audio/m4a; codecs="aac"',qualityLabel:null,bitrate:null,audioBitrate:128},141:{mimeType:'audio/mp4; codecs="aac"',qualityLabel:null,bitrate:null,audioBitrate:256},151:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"720p",bitrate:5e4,audioBitrate:24},160:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"144p",bitrate:1e5,audioBitrate:null},171:{mimeType:'audio/webm; codecs="vorbis"',qualityLabel:null,bitrate:null,audioBitrate:128},172:{mimeType:'audio/webm; codecs="vorbis"',qualityLabel:null,bitrate:null,audioBitrate:192},242:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"240p",bitrate:1e5,audioBitrate:null},243:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"360p",bitrate:25e4,audioBitrate:null},244:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"480p",bitrate:5e5,audioBitrate:null},247:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"720p",bitrate:7e5,audioBitrate:null},248:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1080p",bitrate:15e5,audioBitrate:null},249:{mimeType:'audio/webm; codecs="opus"',qualityLabel:null,bitrate:null,audioBitrate:48},250:{mimeType:'audio/webm; codecs="opus"',qualityLabel:null,bitrate:null,audioBitrate:64},251:{mimeType:'audio/webm; codecs="opus"',qualityLabel:null,bitrate:null,audioBitrate:160},264:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"1440p",bitrate:4e6,audioBitrate:null},266:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"2160p",bitrate:125e5,audioBitrate:null},271:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1440p",bitrate:9e6,audioBitrate:null},272:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"4320p",bitrate:2e7,audioBitrate:null},278:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"144p 30fps",bitrate:8e4,audioBitrate:null},298:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"720p",bitrate:3e6,audioBitrate:null},299:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"1080p",bitrate:55e5,audioBitrate:null},300:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"720p",bitrate:1318e3,audioBitrate:48},302:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"720p HFR",bitrate:25e5,audioBitrate:null},303:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1080p HFR",bitrate:5e6,audioBitrate:null},308:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1440p HFR",bitrate:1e7,audioBitrate:null},313:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"2160p",bitrate:13e6,audioBitrate:null},315:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"2160p HFR",bitrate:2e7,audioBitrate:null},330:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"144p HDR, HFR",bitrate:8e4,audioBitrate:null},331:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"240p HDR, HFR",bitrate:1e5,audioBitrate:null},332:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"360p HDR, HFR",bitrate:25e4,audioBitrate:null},333:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"240p HDR, HFR",bitrate:5e5,audioBitrate:null},334:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"720p HDR, HFR",bitrate:1e6,audioBitrate:null},335:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1080p HDR, HFR",bitrate:15e5,audioBitrate:null},336:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1440p HDR, HFR",bitrate:5e6,audioBitrate:null},337:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"2160p HDR, HFR",bitrate:12e6,audioBitrate:null}}},71947:(e,t,r)=>{let n=r(76162).PassThrough,i=r(30133),a=r(69871),o=r(15623),s=r(46496),l=r(55389),u=r(3507),d=r(52231),{parseTimestamp:c}=r(52231),f=(e,t)=>{let r=h(t);return f.getInfo(e,t).then(e=>{b(r,e,t)},r.emit.bind(r,"error")),r};e.exports=f,f.getBasicInfo=i.getBasicInfo,f.getInfo=i.getInfo,f.chooseFormat=o.chooseFormat,f.filterFormats=o.filterFormats,f.validateID=s.validateID,f.validateURL=s.validateURL,f.getURLVideoID=s.getURLVideoID,f.getVideoID=s.getVideoID,f.cache={sig:l.cache,info:i.cache,watch:i.watchPageCache,cookie:i.cookieCache},f.version=r(3892).version;let h=e=>{let t=new n({highWaterMark:e&&e.highWaterMark||524288});return t._destroy=()=>{t.destroyed=!0},t},p=(e,t,r)=>{["abort","request","response","error","redirect","retry","reconnect"].forEach(r=>{e.prependListener(r,t.emit.bind(t,r))}),e.pipe(t,{end:r})},b=(e,t,r)=>{let n,i;r=r||{};let s=a.playError(t.player_response,["UNPLAYABLE","LIVE_STREAM_OFFLINE","LOGIN_REQUIRED"]);if(s){e.emit("error",s);return}if(!t.formats.length){e.emit("error",Error("This video is unavailable"));return}try{n=o.chooseFormat(t.formats,r)}catch(t){e.emit("error",t);return}if(e.emit("info",t,n),e.destroyed)return;let l,f=0,h=t=>{f+=t.length,e.emit("progress",t.length,f,l)};r.IPv6Block&&(r.requestOptions=Object.assign({},r.requestOptions,{family:6,localAddress:a.getRandomIPv6(r.IPv6Block)}));let b=r.dlChunkSize||10485760,m=!0;if(n.isHLS||n.isDashMPD)(i=d(n.url,{chunkReadahead:+t.live_chunk_readahead,begin:r.begin||n.isLive&&Date.now(),liveBuffer:r.liveBuffer,requestOptions:r.requestOptions,parser:n.isDashMPD?"dash-mpd":"m3u8",id:n.itag})).on("progress",(t,r)=>{e.emit("progress",t.size,t.num,r)}),p(i,e,m);else{let t=Object.assign({},r.requestOptions,{maxReconnects:6,maxRetries:3,backoff:{inc:500,max:1e4}});if(0===b||n.hasAudio&&n.hasVideo)r.begin&&(n.url+=`&begin=${c(r.begin)}`),r.range&&(r.range.start||r.range.end)&&(t.headers=Object.assign({},t.headers,{Range:`bytes=${r.range.start||"0"}-${r.range.end||""}`})),(i=u(n.url,t)).on("response",t=>{e.destroyed||(l=l||parseInt(t.headers["content-length"]))}),i.on("data",h),p(i,e,m);else{let a=r.range&&r.range.start||0,o=a+b,s=r.range&&r.range.end;l=r.range?(s?s+1:parseInt(n.contentLength))-a:parseInt(n.contentLength);let d=()=>{!s&&o>=l&&(o=0),s&&o>s&&(o=s),m=!o||o===s,t.headers=Object.assign({},t.headers,{Range:`bytes=${a}-${o||""}`}),(i=u(n.url,t)).on("data",h),i.on("end",()=>{!e.destroyed&&o&&o!==s&&(a=o+1,o+=b,d())}),p(i,e,m)};d()}}e._destroy=()=>{e.destroyed=!0,i.destroy(),i.end()}};f.downloadFromInfo=(e,t)=>{let r=h(t);if(!e.full)throw Error("Cannot use `ytdl.downloadFromInfo()` when called with info from `ytdl.getBasicInfo()`");return setImmediate(()=>{b(r,e,t)}),r}},78876:(e,t,r)=>{let n=r(69871),i=r(86624),{parseTimestamp:a}=r(52231),o="https://www.youtube.com/watch?v=",s={song:{name:"Music",url:"https://music.youtube.com/"}},l=e=>e?e.runs?e.runs[0].text:e.simpleText:null;t.getMedia=e=>{let t={},r=[];try{r=e.response.contents.twoColumnWatchNextResults.results.results.contents}catch(e){}let n=r.find(e=>e.videoSecondaryInfoRenderer);if(!n)return{};try{for(let e of(n.metadataRowContainer||n.videoSecondaryInfoRenderer.metadataRowContainer).metadataRowContainerRenderer.rows)if(e.metadataRowRenderer){let r=l(e.metadataRowRenderer.title).toLowerCase(),n=e.metadataRowRenderer.contents[0];t[r]=l(n);let i=n.runs;i&&i[0].navigationEndpoint&&(t[`${r}_url`]=new URL(i[0].navigationEndpoint.commandMetadata.webCommandMetadata.url,o).toString()),r in s&&(t.category=s[r].name,t.category_url=s[r].url)}else if(e.richMetadataRowRenderer){let r=e.richMetadataRowRenderer.contents;for(let{richMetadataRenderer:e}of r.filter(e=>"RICH_METADATA_RENDERER_STYLE_BOX_ART"===e.richMetadataRenderer.style)){t.year=l(e.subtitle);let r=l(e.callToAction).split(" ")[1];t[r]=l(e.title),t[`${r}_url`]=new URL(e.endpoint.commandMetadata.webCommandMetadata.url,o).toString(),t.thumbnails=e.thumbnail.thumbnails}for(let{richMetadataRenderer:e}of r.filter(e=>"RICH_METADATA_RENDERER_STYLE_TOPIC"===e.richMetadataRenderer.style))t.category=l(e.title),t.category_url=new URL(e.endpoint.commandMetadata.webCommandMetadata.url,o).toString()}}catch(e){}return t};let u=e=>!!(e&&e.find(e=>"Verified"===e.metadataBadgeRenderer.tooltip));t.getAuthor=e=>{let t,r=[],i,a=!1;try{let s=e.response.contents.twoColumnWatchNextResults.results.results.contents.find(e=>e.videoSecondaryInfoRenderer&&e.videoSecondaryInfoRenderer.owner&&e.videoSecondaryInfoRenderer.owner.videoOwnerRenderer).videoSecondaryInfoRenderer.owner.videoOwnerRenderer;t=s.navigationEndpoint.browseEndpoint.browseId,r=s.thumbnail.thumbnails.map(e=>(e.url=new URL(e.url,o).toString(),e)),i=n.parseAbbreviatedNumber(l(s.subscriberCountText)),a=u(s.badges)}catch(e){}try{let s=e.player_response.microformat&&e.player_response.microformat.playerMicroformatRenderer,l=s&&s.channelId||t||e.player_response.videoDetails.channelId,u={id:l,name:s?s.ownerChannelName:e.player_response.videoDetails.author,user:s?s.ownerProfileUrl.split("/").slice(-1)[0]:null,channel_url:`https://www.youtube.com/channel/${l}`,external_channel_url:s?`https://www.youtube.com/channel/${s.externalChannelId}`:"",user_url:s?new URL(s.ownerProfileUrl,o).toString():"",thumbnails:r,verified:a,subscriber_count:i};return r.length&&n.deprecate(u,"avatar",u.thumbnails[0].url,"author.avatar","author.thumbnails[0].url"),u}catch(e){return{}}};let d=(e,t)=>{if(e)try{let r=l(e.viewCountText),i=l(e.shortViewCountText),s=t.find(t=>t.id===e.videoId);/^\d/.test(i)||(i=s&&s.short_view_count_text||""),r=(/^\d/.test(r)?r:i).split(" ")[0];let d=e.shortBylineText.runs[0].navigationEndpoint.browseEndpoint,c=d.browseId,f=l(e.shortBylineText),h=(d.canonicalBaseUrl||"").split("/").slice(-1)[0],p={id:e.videoId,title:l(e.title),published:l(e.publishedTimeText),author:{id:c,name:f,user:h,channel_url:`https://www.youtube.com/channel/${c}`,user_url:`https://www.youtube.com/user/${h}`,thumbnails:e.channelThumbnail.thumbnails.map(e=>(e.url=new URL(e.url,o).toString(),e)),verified:u(e.ownerBadges),[Symbol.toPrimitive]:()=>(console.warn("`relatedVideo.author` will be removed in a near future release, use `relatedVideo.author.name` instead."),p.author.name)},short_view_count_text:i.split(" ")[0],view_count:r.replace(/,/g,""),length_seconds:e.lengthText?Math.floor(a(l(e.lengthText))/1e3):t&&`${t.length_seconds}`,thumbnails:e.thumbnail.thumbnails,richThumbnails:e.richThumbnail?e.richThumbnail.movingThumbnailRenderer.movingThumbnailDetails.thumbnails:[],isLive:!!(e.badges&&e.badges.find(e=>"LIVE NOW"===e.metadataBadgeRenderer.label))};return n.deprecate(p,"author_thumbnail",p.author.thumbnails[0].url,"relatedVideo.author_thumbnail","relatedVideo.author.thumbnails[0].url"),n.deprecate(p,"ucid",p.author.id,"relatedVideo.ucid","relatedVideo.author.id"),n.deprecate(p,"video_thumbnail",p.thumbnails[0].url,"relatedVideo.video_thumbnail","relatedVideo.thumbnails[0].url"),p}catch(e){}};t.getRelatedVideos=e=>{let t=[],r=[];try{t=e.response.webWatchNextResponseExtensionData.relatedVideoArgs.split(",").map(e=>i.parse(e))}catch(e){}try{r=e.response.contents.twoColumnWatchNextResults.secondaryResults.secondaryResults.results}catch(e){return[]}let n=[];for(let e of r||[]){let r=e.compactVideoRenderer;if(r){let e=d(r,t);e&&n.push(e)}else{let r=e.compactAutoplayRenderer||e.itemSectionRenderer;if(!r||!Array.isArray(r.contents))continue;for(let e of r.contents){let r=d(e.compactVideoRenderer,t);r&&n.push(r)}}}return n},t.getLikes=e=>{try{let t=e.response.contents.twoColumnWatchNextResults.results.results.contents.find(e=>e.videoPrimaryInfoRenderer).videoPrimaryInfoRenderer.videoActions.menuRenderer.topLevelButtons.find(e=>e.toggleButtonRenderer&&"LIKE"===e.toggleButtonRenderer.defaultIcon.iconType);return parseInt(t.toggleButtonRenderer.defaultText.accessibility.accessibilityData.label.replace(/\D+/g,""))}catch(e){return null}},t.getDislikes=e=>{try{let t=e.response.contents.twoColumnWatchNextResults.results.results.contents.find(e=>e.videoPrimaryInfoRenderer).videoPrimaryInfoRenderer.videoActions.menuRenderer.topLevelButtons.find(e=>e.toggleButtonRenderer&&"DISLIKE"===e.toggleButtonRenderer.defaultIcon.iconType);return parseInt(t.toggleButtonRenderer.defaultText.accessibility.accessibilityData.label.replace(/\D+/g,""))}catch(e){return null}},t.cleanVideoDetails=(e,t)=>(e.thumbnails=e.thumbnail.thumbnails,delete e.thumbnail,n.deprecate(e,"thumbnail",{thumbnails:e.thumbnails},"videoDetails.thumbnail.thumbnails","videoDetails.thumbnails"),e.description=e.shortDescription||l(e.description),delete e.shortDescription,n.deprecate(e,"shortDescription",e.description,"videoDetails.shortDescription","videoDetails.description"),e.lengthSeconds=t.player_response.microformat&&t.player_response.microformat.playerMicroformatRenderer.lengthSeconds||t.player_response.videoDetails.lengthSeconds,e),t.getStoryboards=e=>{let t=e.player_response.storyboards&&e.player_response.storyboards.playerStoryboardSpecRenderer&&e.player_response.storyboards.playerStoryboardSpecRenderer.spec&&e.player_response.storyboards.playerStoryboardSpecRenderer.spec.split("|");if(!t)return[];let r=new URL(t.shift());return t.map((e,t)=>{let[n,i,a,o,s,l,u,d]=e.split("#");r.searchParams.set("sigh",d);let c=Math.ceil((a=parseInt(a,10))/((o=parseInt(o,10))*(s=parseInt(s,10))));return{templateUrl:r.toString().replace("$L",t).replace("$N",u),thumbnailWidth:parseInt(n,10),thumbnailHeight:parseInt(i,10),thumbnailCount:a,interval:parseInt(l,10),columns:o,rows:s,storyboardCount:c}})},t.getChapters=e=>{let t=e.response&&e.response.playerOverlays&&e.response.playerOverlays.playerOverlayRenderer,r=t&&t.decoratedPlayerBarRenderer&&t.decoratedPlayerBarRenderer.decoratedPlayerBarRenderer&&t.decoratedPlayerBarRenderer.decoratedPlayerBarRenderer.playerBar,n=r&&r.multiMarkersPlayerBarRenderer&&r.multiMarkersPlayerBarRenderer.markersMap,i=Array.isArray(n)&&n.find(e=>e.value&&Array.isArray(e.value.chapters));return i?i.value.chapters.map(e=>({title:l(e.chapterRenderer.title),start_time:e.chapterRenderer.timeRangeStartMillis/1e3})):[]}},30133:(e,t,r)=>{let n=r(86624),i=r(65074),a=r(3507),o=r(69871),{setTimeout:s}=r(95346),l=r(15623),u=r(46496),d=r(78876),c=r(55389),f=r(8507),h="https://www.youtube.com/watch?v=";t.cache=new f,t.cookieCache=new f(864e5),t.watchPageCache=new f;let p="2.20210622.10.00";class b extends Error{}let m=["support.google.com/youtube/?p=age_restrictions","youtube.com/t/community_guidelines"];t.getBasicInfo=async(e,t)=>{t.IPv6Block&&(t.requestOptions=Object.assign({},t.requestOptions,{family:6,localAddress:o.getRandomIPv6(t.IPv6Block)}));let r=Object.assign({},a.defaultOptions,t.requestOptions);t.requestOptions=Object.assign({},t.requestOptions,{}),t.requestOptions.headers=Object.assign({},{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.101 Safari/537.36"},t.requestOptions.headers);let n=await R([e,t],e=>{let t=o.playError(e.player_response,["ERROR"],b),r=y(e.player_response);if(t||r)throw t||r;return e&&e.player_response&&(e.player_response.streamingData||g(e.player_response)||w(e.player_response))},r,[j,I,P]);Object.assign(n,{formats:$(n.player_response),related_videos:d.getRelatedVideos(n)});let i=d.getMedia(n),s={author:d.getAuthor(n),media:i,likes:d.getLikes(n),dislikes:d.getDislikes(n),age_restricted:!!(i&&m.some(e=>Object.values(i).some(t=>"string"==typeof t&&t.includes(e)))),video_url:h+e,storyboards:d.getStoryboards(n),chapters:d.getChapters(n)};return n.videoDetails=d.cleanVideoDetails(Object.assign({},n.player_response&&n.player_response.microformat&&n.player_response.microformat.playerMicroformatRenderer,n.player_response&&n.player_response.videoDetails,s),n),n};let y=e=>{let t=e&&e.playabilityStatus;return t&&"LOGIN_REQUIRED"===t.status&&t.messages&&t.messages.filter(e=>/This is a private video/.test(e)).length?new b(t.reason||t.messages&&t.messages[0]):null},g=e=>{let t=e.playabilityStatus;return t&&"UNPLAYABLE"===t.status&&t.errorScreen&&t.errorScreen.playerLegacyDesktopYpcOfferRenderer},w=e=>{let t=e.playabilityStatus;return t&&"LIVE_STREAM_OFFLINE"===t.status},v=(e,t)=>`${h+e}&hl=${t.lang||"en"}`,_=(e,r)=>{let n=v(e,r);return t.watchPageCache.getOrSet(n,()=>o.exposedMiniget(n,r).text())},S=(e,t)=>{let r=`${"https://www.youtube.com/embed/"+e}?hl=${t.lang||"en"}`;return o.exposedMiniget(r,t).text()},E=e=>{let t=/<script\s+src="([^"]+)"(?:\s+type="text\/javascript")?\s+name="player_ias\/base"\s*>|"jsUrl":"([^"]+)"/.exec(e);return t?t[1]||t[2]:null},T=(e,r,n,i)=>t.cookieCache.getOrSet(n,async()=>{let t=(await _(e,r)).match(/(["'])ID_TOKEN\1[:,]\s?"([^"]+)"/);if(!t&&i)throw new b("Cookie header used in request, but unable to find YouTube identity token");return t&&t[2]}),R=async(e,t,r,n)=>{let i;for(let a of n)try{let n=await k(a,e.concat([i]),r);if(n.player_response&&(n.player_response.videoDetails=x(i&&i.player_response&&i.player_response.videoDetails,n.player_response.videoDetails),n.player_response=x(i&&i.player_response,n.player_response)),i=x(i,n),t(i,!1))break}catch(e){if(e instanceof b||a===n[n.length-1])throw e}return i},x=(e,t)=>{if(!e||!t)return e||t;for(let[r,n]of Object.entries(t))null!=n&&(e[r]=n);return e},k=async(e,t,r)=>{let n=0,i;for(;n<=r.maxRetries;)try{i=await e(...t);break}catch(t){if(t instanceof b||t instanceof a.MinigetError&&t.statusCode<500||n>=r.maxRetries)throw t;let e=Math.min(++n*r.backoff.inc,r.backoff.max);await new Promise(t=>s(t,e))}return i},M=/^[)\]}'\s]+/,L=(e,t,r)=>{if(!r||"object"==typeof r)return r;try{return r=r.replace(M,""),JSON.parse(r)}catch(r){throw Error(`Error parsing ${t} in ${e}: ${r.message}`)}},D=(e,t,r,n,i,a)=>{let s=o.between(r,n,i);if(!s)throw Error(`Could not find ${t} in ${e}`);return L(e,t,o.cutAfterJS(`${a}${s}`))},A=(e,t)=>L(e,"player_response",t&&(t.args&&t.args.player_response||t.player_response||t.playerResponse||t.embedded_player_response)),O=(e,t)=>`${v(e,t)}&pbj=1`,I=async(e,r)=>{let n=Object.assign({headers:{}},r.requestOptions),i=n.headers.Cookie||n.headers.cookie;n.headers=Object.assign({"x-youtube-client-name":"1","x-youtube-client-version":p,"x-youtube-identity-token":t.cookieCache.get(i||"browser")||""},n.headers);let a=async(t,i)=>{n.headers["x-youtube-identity-token"]||(n.headers["x-youtube-identity-token"]=await T(e,r,t,i))};i&&await a(i,!0);let s=O(e,r),l=L("watch.json","body",await o.exposedMiniget(s,r,n).text());if("now"===l.reload&&await a("browser",!1),"now"===l.reload||!Array.isArray(l))throw Error("Unable to retrieve video metadata in watch.json");let u=l.reduce((e,t)=>Object.assign(t,e),{});return u.player_response=A("watch.json",u),u.html5player=u.player&&u.player.assets&&u.player.assets.js,u},j=async(e,t)=>{let r=await _(e,t),n={page:"watch"};try{p=o.between(r,'{"key":"cver","value":"','"}'),n.player_response=D("watch.html","player_response",r,/\bytInitialPlayerResponse\s*=\s*\{/i,"</script>","{")}catch(t){let e=D("watch.html","player_response",r,/\bytplayer\.config\s*=\s*{/,"</script>","{");n.player_response=A("watch.html",e)}return n.response=D("watch.html","response",r,/\bytInitialData("\])?\s*=\s*\{/i,"</script>","{"),n.html5player=E(r),n},P=async(e,t)=>{let r=new URL("https://www.youtube.com/get_video_info");r.searchParams.set("video_id",e),r.searchParams.set("c","TVHTML5"),r.searchParams.set("cver",`7${p.substr(1)}`),r.searchParams.set("eurl","https://youtube.googleapis.com/v/"+e),r.searchParams.set("ps","default"),r.searchParams.set("gl","US"),r.searchParams.set("hl",t.lang||"en"),r.searchParams.set("html5","1");let i=await o.exposedMiniget(r.toString(),t).text(),a=n.parse(i);return a.player_response=A("get_video_info",a),a},$=e=>{let t=[];return e&&e.streamingData&&(t=t.concat(e.streamingData.formats||[]).concat(e.streamingData.adaptiveFormats||[])),t};t.getInfo=async(e,r)=>{let n=await t.getBasicInfo(e,r),i=n.player_response&&n.player_response.streamingData&&(n.player_response.streamingData.dashManifestUrl||n.player_response.streamingData.hlsManifestUrl),a=[];if(n.formats.length){if(n.html5player=n.html5player||E(await _(e,r))||E(await S(e,r)),!n.html5player)throw Error("Unable to find html5player file");let t=new URL(n.html5player,h).toString();a.push(c.decipherFormats(n.formats,t,r))}if(i&&n.player_response.streamingData.dashManifestUrl){let e=n.player_response.streamingData.dashManifestUrl;a.push(B(e,r))}if(i&&n.player_response.streamingData.hlsManifestUrl){let e=n.player_response.streamingData.hlsManifestUrl;a.push(C(e,r))}let o=await Promise.all(a);return n.formats=Object.values(Object.assign({},...o)),n.formats=n.formats.map(l.addFormatMeta),n.formats.sort(l.sortFormats),n.full=!0,n};let B=(e,t)=>new Promise((r,n)=>{let a,s={},l=i.parser(!1);l.onerror=n,l.onopentag=t=>{if("ADAPTATIONSET"===t.name)a=t.attributes;else if("REPRESENTATION"===t.name){let r=parseInt(t.attributes.ID);isNaN(r)||(s[e]=Object.assign({itag:r,url:e,bitrate:parseInt(t.attributes.BANDWIDTH),mimeType:`${a.MIMETYPE}; codecs="${t.attributes.CODECS}"`},t.attributes.HEIGHT?{width:parseInt(t.attributes.WIDTH),height:parseInt(t.attributes.HEIGHT),fps:parseInt(t.attributes.FRAMERATE)}:{audioSampleRate:t.attributes.AUDIOSAMPLINGRATE}))}},l.onend=()=>{r(s)};let u=o.exposedMiniget(new URL(e,h).toString(),t);u.setEncoding("utf8"),u.on("error",n),u.on("data",e=>{l.write(e)}),u.on("end",l.close.bind(l))}),C=async(e,t)=>{e=new URL(e,h);let r=await o.exposedMiniget(e.toString(),t).text(),n={};return r.split("\n").filter(e=>/^https?:\/\//.test(e)).forEach(e=>{let t=parseInt(e.match(/\/itag\/(\d+)\//)[1]);n[e]={itag:t,url:e}}),n};for(let e of["getBasicInfo","getInfo"]){let r=t[e];t[e]=async(n,i={})=>{o.checkForUpdates();let a=await u.getVideoID(n),s=[e,a,i.lang].join("-");return t.cache.getOrSet(s,()=>r(a,i))}}t.validateID=u.validateID,t.validateURL=u.validateURL,t.getURLVideoID=u.getURLVideoID,t.getVideoID=u.getVideoID},55389:(e,t,r)=>{let n=r(86624),i=r(8507),a=r(69871),o=r(41520);t.cache=new i,t.getFunctions=(e,r)=>t.cache.getOrSet(e,async()=>{let n=await a.exposedMiniget(e,r).text(),i=t.extractFunctions(n);if(!i||!i.length)throw Error("Could not extract functions");return t.cache.set(e,i),i}),t.extractFunctions=e=>{let t=[],r=t=>{let r=a.between(t,'a=a.split("");',".");if(!r)return"";let n=`var ${r}={`,i=e.indexOf(n);if(i<0)return"";let o=e.slice(i+n.length-1);return`var ${r}=${a.cutAfterJS(o)}`};return(()=>{let n=a.between(e,'a.set("alr","yes");c&&(c=',"(decodeURIC");if(n&&n.length){let i=`${n}=function(a)`,o=e.indexOf(i);if(o>=0){let s=e.slice(o+i.length),l=`var ${i}${a.cutAfterJS(s)}`;l=`${r(l)};${l};${n}(sig);`,t.push(l)}}})(),(()=>{let r=a.between(e,'&&(b=a.get("n"))&&(b=',"(b)");if(r.includes("[")&&(r=a.between(e,`var ${r.split("[")[0]}=[`,"]")),r&&r.length){let n=`${r}=function(a)`,i=e.indexOf(n);if(i>=0){let o=e.slice(i+n.length),s=`var ${n}${a.cutAfterJS(o)};${r}(ncode);`;t.push(s)}}})(),t},t.setDownloadURL=(e,t,r)=>{let i=!e.url,a=e.url||e.signatureCipher||e.cipher;e.url=(e=>{let t=new URL(decodeURIComponent(e)),n=t.searchParams.get("n");return n&&r?(t.searchParams.set("n",r.runInNewContext({ncode:n})),t.toString()):e})(i?(e=>{let r=n.parse(e);if(!r.s||!t)return r.url;let i=new URL(decodeURIComponent(r.url));return i.searchParams.set(r.sp?r.sp:"signature",t.runInNewContext({sig:decodeURIComponent(r.s)})),i.toString()})(a):a),delete e.signatureCipher,delete e.cipher},t.decipherFormats=async(e,r,n)=>{let i={},a=await t.getFunctions(r,n),s=a.length?new o.Script(a[0]):null,l=a.length>1?new o.Script(a[1]):null;return e.forEach(e=>{t.setDownloadURL(e,s,l),i[e.url]=e}),i}},46496:(e,t)=>{let r=new Set(["youtube.com","www.youtube.com","m.youtube.com","music.youtube.com","gaming.youtube.com"]),n=/^https?:\/\/(youtu\.be\/|(www\.)?youtube\.com\/(embed|v|shorts)\/)/;t.getURLVideoID=e=>{let i=new URL(e.trim()),o=i.searchParams.get("v");if(n.test(e.trim())&&!o){let e=i.pathname.split("/");o="youtu.be"===i.host?e[1]:e[2]}else if(i.hostname&&!r.has(i.hostname))throw Error("Not a YouTube domain");if(!o)throw Error(`No video id found: "${e}"`);if(o=o.substring(0,11),!t.validateID(o))throw TypeError(`Video id (${o}) does not match expected format (${a.toString()})`);return o};let i=/^https?:\/\//;t.getVideoID=e=>{if(t.validateID(e))return e;if(i.test(e.trim()))return t.getURLVideoID(e);throw Error(`No video id found: ${e}`)};let a=/^[a-zA-Z0-9-_]{11}$/;t.validateID=e=>a.test(e.trim()),t.validateURL=e=>{try{return t.getURLVideoID(e),!0}catch(e){return!1}}},69871:(e,t,r)=>{let n=r(3507);t.between=(e,t,r)=>{let n;if(t instanceof RegExp){let r=e.match(t);if(!r)return"";n=r.index+r[0].length}else{if(-1===(n=e.indexOf(t)))return"";n+=t.length}return -1===(n=(e=e.slice(n)).indexOf(r))?"":e=e.slice(0,n)},t.parseAbbreviatedNumber=e=>{let t=e.replace(",",".").replace(" ","").match(/([\d,.]+)([MK]?)/);if(t){let[,e,r]=t;return e=parseFloat(e),Math.round("M"===r?1e6*e:"K"===r?1e3*e:e)}return null};let i=[{start:'"',end:'"'},{start:"'",end:"'"},{start:"`",end:"`"},{start:"/",end:"/",startPrefix:/(^|[[{:;,/])\s?$/}];t.cutAfterJS=e=>{let t,r,n;if("["===e[0]?(t="[",r="]"):"{"===e[0]&&(t="{",r="}"),!t)throw Error(`Can't cut unsupported JSON (need to begin with [ or { ) but got: ${e[0]}`);let a=null,o=!1,s=0;for(n=0;n<e.length;n++){if(o||null===a||e[n]!==a.end){if(!o&&null===a){for(let t of i)if(e[n]===t.start&&(!t.startPrefix||e.substring(n-10,n).match(t.startPrefix))){a=t;break}if(null!==a)continue}}else{a=null;continue}if(o="\\"===e[n]&&!o,null===a&&(e[n]===t?s++:e[n]===r&&s--,0===s))return e.substring(0,n+1)}throw Error("Can't cut unsupported JSON (no matching closing bracket found)")},t.playError=(e,t,r=Error)=>{let n=e&&e.playabilityStatus;return n&&t.includes(n.status)?new r(n.reason||n.messages&&n.messages[0]):null},t.exposedMiniget=(e,t={},r)=>{let i=n(e,r||t.requestOptions);return"function"==typeof t.requestCallback&&t.requestCallback(i),i},t.deprecate=(e,t,r,n,i)=>{Object.defineProperty(e,t,{get:()=>(console.warn(`\`${n}\` will be removed in a near future release, use \`${i}\` instead.`),r)})};let a=r(3892);t.lastUpdateCheck=0,t.checkForUpdates=()=>!process.env.YTDL_NO_UPDATE&&!a.version.startsWith("0.0.0-")&&Date.now()-t.lastUpdateCheck>=432e5?(t.lastUpdateCheck=Date.now(),n("https://api.github.com/repos/fent/node-ytdl-core/releases/latest",{headers:{"User-Agent":"ytdl-core"}}).text().then(e=>{JSON.parse(e).tag_name!==`v${a.version}`&&console.warn('\x1b[33mWARNING:\x1b[0m ytdl-core is out of date! Update with "npm install ytdl-core@latest".')},e=>{console.warn("Error checking for updates:",e.message),console.warn("You can disable this check by setting the `YTDL_NO_UPDATE` env variable.")})):null,t.getRandomIPv6=e=>{if(!s(e))throw Error("Invalid IPv6 format");let[t,r]=e.split("/"),n=parseInt(r);if(!n||n>128||n<24)throw Error("Invalid IPv6 subnet");let i=l(t);return Array(8).fill(1).map(()=>Math.floor(65535*Math.random())).map((e,t)=>{let r=Math.min(n,16);n-=r;let a=65535-(2**(16-r)-1);return(i[t]&a)+(e&(65535^a))}).map(e=>e.toString("16")).join(":")};let o=/^(([0-9a-f]{1,4}:)(:[0-9a-f]{1,4}){1,6}|([0-9a-f]{1,4}:){1,2}(:[0-9a-f]{1,4}){1,5}|([0-9a-f]{1,4}:){1,3}(:[0-9a-f]{1,4}){1,4}|([0-9a-f]{1,4}:){1,4}(:[0-9a-f]{1,4}){1,3}|([0-9a-f]{1,4}:){1,5}(:[0-9a-f]{1,4}){1,2}|([0-9a-f]{1,4}:){1,6}(:[0-9a-f]{1,4})|([0-9a-f]{1,4}:){1,7}(([0-9a-f]{1,4})|:))\/(1[0-1]\d|12[0-8]|\d{1,2})$/,s=t.isIPv6=e=>o.test(e),l=t.normalizeIP=e=>{let t=e.split("::").map(e=>e.split(":")),r=t[0]||[],n=t[1]||[];n.reverse();let i=Array(8).fill(0);for(let e=0;e<Math.min(r.length,8);e++)i[e]=parseInt(r[e],16)||0;for(let e=0;e<Math.min(n.length,8);e++)i[7-e]=parseInt(n[e],16)||0;return i}},23534:(e,t,r)=>{"use strict";let n;function i(e){if("object"!=typeof e||null===e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}r.d(t,{cF:()=>de});var a=r(41041);let o=(e,t)=>{let r=u(s(e));if("string"!=typeof r)throw TypeError(`${t} must be a string or a file URL: ${r}.`);return r},s=e=>l(e)?e.toString():e,l=e=>"string"!=typeof e&&e&&Object.getPrototypeOf(e)===String.prototype,u=e=>e instanceof URL?(0,a.fileURLToPath)(e):e,d=(e,t=[],r={})=>{let n=o(e,"First argument"),[a,s]=i(t)?[[],t]:[t,r];if(!Array.isArray(a))throw TypeError(`Second argument must be either an array of arguments or an options object: ${a}`);if(a.some(e=>"object"==typeof e&&null!==e))throw TypeError(`Second argument must be an array of strings: ${a}`);let l=a.map(String),u=l.find(e=>e.includes("\0"));if(void 0!==u)throw TypeError(`Arguments cannot contain null bytes ("\\0"): ${u}`);if(!i(s))throw TypeError(`Last argument must be an options object: ${s}`);return[n,l,s]};var c=r(17718),f=r(76915);let{toString:h}=Object.prototype,p=e=>"[object ArrayBuffer]"===h.call(e),b=e=>"[object Uint8Array]"===h.call(e),m=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),y=new TextEncoder,g=e=>y.encode(e),w=new TextDecoder,v=e=>w.decode(e),_=(e,t)=>S(e,t).join(""),S=(e,t)=>{if("utf8"===t&&e.every(e=>"string"==typeof e))return e;let r=new f.StringDecoder(t),n=e.map(e=>"string"==typeof e?g(e):e).map(e=>r.write(e)),i=r.end();return""===i?n:[...n,i]},E=e=>1===e.length&&b(e[0])?e[0]:R(T(e)),T=e=>e.map(e=>"string"==typeof e?g(e):e),R=e=>{let t=new Uint8Array(x(e)),r=0;for(let n of e)t.set(n,r),r+=n.length;return t},x=e=>{let t=0;for(let r of e)t+=r.length;return t},k=e=>Array.isArray(e)&&Array.isArray(e.raw),M=(e,t)=>{let r=[];for(let[n,i]of e.entries())r=L({templates:e,expressions:t,tokens:r,index:n,template:i});if(0===r.length)throw TypeError("Template script must not be empty");let[n,...i]=r;return[n,i,{}]},L=({templates:e,expressions:t,tokens:r,index:n,template:i})=>{if(void 0===i)throw TypeError(`Invalid backslash sequence: ${e.raw[n]}`);let{nextTokens:a,leadingWhitespaces:o,trailingWhitespaces:s}=D(i,e.raw[n]),l=I(r,a,o);if(n===t.length)return l;let u=t[n];return I(l,Array.isArray(u)?u.map(e=>j(e)):[j(u)],s)},D=(e,t)=>{if(0===t.length)return{nextTokens:[],leadingWhitespaces:!1,trailingWhitespaces:!1};let r=[],n=0,i=A.has(t[0]);for(let i=0,a=0;i<e.length;i+=1,a+=1){let o=t[a];if(A.has(o))n!==i&&r.push(e.slice(n,i)),n=i+1;else if("\\"===o){let e=t[a+1];"\n"===e?(i-=1,a+=1):"u"===e&&"{"===t[a+2]?a=t.indexOf("}",a+3):a+=O[e]??1}}let a=n===e.length;return a||r.push(e.slice(n)),{nextTokens:r,leadingWhitespaces:i,trailingWhitespaces:a}},A=new Set([" ","	","\r","\n"]),O={x:3,u:5},I=(e,t,r)=>r||0===e.length||0===t.length?[...e,...t]:[...e.slice(0,-1),`${e.at(-1)}${t[0]}`,...t.slice(1)],j=e=>{let t=typeof e;if("string"===t)return e;if("number"===t)return String(e);if(i(e)&&("stdout"in e||"isMaxBuffer"in e))return P(e);if(e instanceof c.ChildProcess||"[object Promise]"===Object.prototype.toString.call(e))throw TypeError("Unexpected subprocess in template expression. Please use ${await subprocess} instead of ${subprocess}.");throw TypeError(`Unexpected "${t}" in template expression`)},P=({stdout:e})=>{if("string"==typeof e)return e;if(b(e))return v(e);if(void 0===e)throw TypeError('Missing result.stdout in template expression. This is probably due to the previous subprocess\' "stdout" option.');throw TypeError(`Unexpected "${typeof e}" stdout in template expression`)};var $=r(47261),B=r(97742);let C=e=>N.includes(e),N=[B.stdin,B.stdout,B.stderr],U=["stdin","stdout","stderr"],W=e=>U[e]??`stdio[${e}]`,q=e=>{let t={...e};for(let r of ee)t[r]=F(e,r);return t},F=(e,t)=>{let r=Array.from({length:H(e)+1});return Q(V(e[t],r,t),t)},H=({stdio:e})=>Array.isArray(e)?Math.max(e.length,U.length):U.length,V=(e,t,r)=>i(e)?G(e,t,r):t.fill(e),G=(e,t,r)=>{for(let n of Object.keys(e).sort(z))for(let i of K(n,r,t))t[i]=e[n];return t},z=(e,t)=>Y(e)<Y(t)?1:-1,Y=e=>"stdout"===e||"stderr"===e?0:"all"===e?2:1,K=(e,t,r)=>{if("ipc"===e)return[r.length-1];let n=X(e);if(void 0===n||0===n)throw TypeError(`"${t}.${e}" is invalid.
It must be "${t}.stdout", "${t}.stderr", "${t}.all", "${t}.ipc", or "${t}.fd3", "${t}.fd4" (and so on).`);if(n>=r.length)throw TypeError(`"${t}.${e}" is invalid: that file descriptor does not exist.
Please set the "stdio" option to ensure that file descriptor exists.`);return"all"===n?[1,2]:[n]},X=e=>{if("all"===e)return e;if(U.includes(e))return U.indexOf(e);let t=J.exec(e);if(null!==t)return Number(t[1])},J=/^fd(\d+)$/,Q=(e,t)=>e.map(e=>void 0===e?Z[t]:e),Z={lines:!1,buffer:!0,maxBuffer:1e8,verbose:(0,$.debuglog)("execa").enabled?"full":"none",stripFinalNewline:!0},ee=["lines","buffer","maxBuffer","verbose","stripFinalNewline"],et=(e,t)=>"ipc"===t?e.at(-1):e[t],er=({verbose:e},t)=>"none"!==ea(e,t),en=({verbose:e},t)=>!["none","short"].includes(ea(e,t)),ei=({verbose:e},t)=>{let r=ea(e,t);return es(r)?r:void 0},ea=(e,t)=>void 0===t?eo(e):et(e,t),eo=e=>e.find(e=>es(e))??el.findLast(t=>e.includes(t)),es=e=>"function"==typeof e,el=["none","short","full"],eu=(e,t)=>{let r=[e,...t];return{command:r.join(" "),escapedCommand:r.map(e=>em(ec(e))).join(" ")}},ed=e=>(0,$.stripVTControlCharacters)(e).split("\n").map(e=>ec(e)).join("\n"),ec=e=>e.replaceAll(eh,e=>ef(e)),ef=e=>{let t=ep[e];if(void 0!==t)return t;let r=e.codePointAt(0),n=r.toString(16);return r<=eb?`\\u${n.padStart(4,"0")}`:`\\U${n}`},eh=(()=>{try{return RegExp("\\p{Separator}|\\p{Other}","gu")}catch{return/[\s\u0000-\u001F\u007F-\u009F\u00AD]/g}})(),ep={" ":" ","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},eb=65535,em=e=>ey.test(e)?e:"win32"===B.platform?`"${e.replaceAll('"','""')}"`:`'${e.replaceAll("'","'\\''")}'`,ey=/^[\w./-]+$/,eg={circleQuestionMark:"(?)",questionMarkPrefix:"(?)",square:"█",squareDarkShade:"▓",squareMediumShade:"▒",squareLightShade:"░",squareTop:"▀",squareBottom:"▄",squareLeft:"▌",squareRight:"▐",squareCenter:"■",bullet:"●",dot:"․",ellipsis:"…",pointerSmall:"›",triangleUp:"▲",triangleUpSmall:"▴",triangleDown:"▼",triangleDownSmall:"▾",triangleLeftSmall:"◂",triangleRightSmall:"▸",home:"⌂",heart:"♥",musicNote:"♪",musicNoteBeamed:"♫",arrowUp:"↑",arrowDown:"↓",arrowLeft:"←",arrowRight:"→",arrowLeftRight:"↔",arrowUpDown:"↕",almostEqual:"≈",notEqual:"≠",lessOrEqual:"≤",greaterOrEqual:"≥",identical:"≡",infinity:"∞",subscriptZero:"₀",subscriptOne:"₁",subscriptTwo:"₂",subscriptThree:"₃",subscriptFour:"₄",subscriptFive:"₅",subscriptSix:"₆",subscriptSeven:"₇",subscriptEight:"₈",subscriptNine:"₉",oneHalf:"\xbd",oneThird:"⅓",oneQuarter:"\xbc",oneFifth:"⅕",oneSixth:"⅙",oneEighth:"⅛",twoThirds:"⅔",twoFifths:"⅖",threeQuarters:"\xbe",threeFifths:"⅗",threeEighths:"⅜",fourFifths:"⅘",fiveSixths:"⅚",fiveEighths:"⅝",sevenEighths:"⅞",line:"─",lineBold:"━",lineDouble:"═",lineDashed0:"┄",lineDashed1:"┅",lineDashed2:"┈",lineDashed3:"┉",lineDashed4:"╌",lineDashed5:"╍",lineDashed6:"╴",lineDashed7:"╶",lineDashed8:"╸",lineDashed9:"╺",lineDashed10:"╼",lineDashed11:"╾",lineDashed12:"−",lineDashed13:"–",lineDashed14:"‐",lineDashed15:"⁃",lineVertical:"│",lineVerticalBold:"┃",lineVerticalDouble:"║",lineVerticalDashed0:"┆",lineVerticalDashed1:"┇",lineVerticalDashed2:"┊",lineVerticalDashed3:"┋",lineVerticalDashed4:"╎",lineVerticalDashed5:"╏",lineVerticalDashed6:"╵",lineVerticalDashed7:"╷",lineVerticalDashed8:"╹",lineVerticalDashed9:"╻",lineVerticalDashed10:"╽",lineVerticalDashed11:"╿",lineDownLeft:"┐",lineDownLeftArc:"╮",lineDownBoldLeftBold:"┓",lineDownBoldLeft:"┒",lineDownLeftBold:"┑",lineDownDoubleLeftDouble:"╗",lineDownDoubleLeft:"╖",lineDownLeftDouble:"╕",lineDownRight:"┌",lineDownRightArc:"╭",lineDownBoldRightBold:"┏",lineDownBoldRight:"┎",lineDownRightBold:"┍",lineDownDoubleRightDouble:"╔",lineDownDoubleRight:"╓",lineDownRightDouble:"╒",lineUpLeft:"┘",lineUpLeftArc:"╯",lineUpBoldLeftBold:"┛",lineUpBoldLeft:"┚",lineUpLeftBold:"┙",lineUpDoubleLeftDouble:"╝",lineUpDoubleLeft:"╜",lineUpLeftDouble:"╛",lineUpRight:"└",lineUpRightArc:"╰",lineUpBoldRightBold:"┗",lineUpBoldRight:"┖",lineUpRightBold:"┕",lineUpDoubleRightDouble:"╚",lineUpDoubleRight:"╙",lineUpRightDouble:"╘",lineUpDownLeft:"┤",lineUpBoldDownBoldLeftBold:"┫",lineUpBoldDownBoldLeft:"┨",lineUpDownLeftBold:"┥",lineUpBoldDownLeftBold:"┩",lineUpDownBoldLeftBold:"┪",lineUpDownBoldLeft:"┧",lineUpBoldDownLeft:"┦",lineUpDoubleDownDoubleLeftDouble:"╣",lineUpDoubleDownDoubleLeft:"╢",lineUpDownLeftDouble:"╡",lineUpDownRight:"├",lineUpBoldDownBoldRightBold:"┣",lineUpBoldDownBoldRight:"┠",lineUpDownRightBold:"┝",lineUpBoldDownRightBold:"┡",lineUpDownBoldRightBold:"┢",lineUpDownBoldRight:"┟",lineUpBoldDownRight:"┞",lineUpDoubleDownDoubleRightDouble:"╠",lineUpDoubleDownDoubleRight:"╟",lineUpDownRightDouble:"╞",lineDownLeftRight:"┬",lineDownBoldLeftBoldRightBold:"┳",lineDownLeftBoldRightBold:"┯",lineDownBoldLeftRight:"┰",lineDownBoldLeftBoldRight:"┱",lineDownBoldLeftRightBold:"┲",lineDownLeftRightBold:"┮",lineDownLeftBoldRight:"┭",lineDownDoubleLeftDoubleRightDouble:"╦",lineDownDoubleLeftRight:"╥",lineDownLeftDoubleRightDouble:"╤",lineUpLeftRight:"┴",lineUpBoldLeftBoldRightBold:"┻",lineUpLeftBoldRightBold:"┷",lineUpBoldLeftRight:"┸",lineUpBoldLeftBoldRight:"┹",lineUpBoldLeftRightBold:"┺",lineUpLeftRightBold:"┶",lineUpLeftBoldRight:"┵",lineUpDoubleLeftDoubleRightDouble:"╩",lineUpDoubleLeftRight:"╨",lineUpLeftDoubleRightDouble:"╧",lineUpDownLeftRight:"┼",lineUpBoldDownBoldLeftBoldRightBold:"╋",lineUpDownBoldLeftBoldRightBold:"╈",lineUpBoldDownLeftBoldRightBold:"╇",lineUpBoldDownBoldLeftRightBold:"╊",lineUpBoldDownBoldLeftBoldRight:"╉",lineUpBoldDownLeftRight:"╀",lineUpDownBoldLeftRight:"╁",lineUpDownLeftBoldRight:"┽",lineUpDownLeftRightBold:"┾",lineUpBoldDownBoldLeftRight:"╂",lineUpDownLeftBoldRightBold:"┿",lineUpBoldDownLeftBoldRight:"╃",lineUpBoldDownLeftRightBold:"╄",lineUpDownBoldLeftBoldRight:"╅",lineUpDownBoldLeftRightBold:"╆",lineUpDoubleDownDoubleLeftDoubleRightDouble:"╬",lineUpDoubleDownDoubleLeftRight:"╫",lineUpDownLeftDoubleRightDouble:"╪",lineCross:"╳",lineBackslash:"╲",lineSlash:"╱"},ew={tick:"✔",info:"ℹ",warning:"⚠",cross:"✘",squareSmall:"◻",squareSmallFilled:"◼",circle:"◯",circleFilled:"◉",circleDotted:"◌",circleDouble:"◎",circleCircle:"ⓞ",circleCross:"ⓧ",circlePipe:"Ⓘ",radioOn:"◉",radioOff:"◯",checkboxOn:"☒",checkboxOff:"☐",checkboxCircleOn:"ⓧ",checkboxCircleOff:"Ⓘ",pointer:"❯",triangleUpOutline:"△",triangleLeft:"◀",triangleRight:"▶",lozenge:"◆",lozengeOutline:"◇",hamburger:"☰",smiley:"㋡",mustache:"෴",star:"★",play:"▶",nodejs:"⬢",oneSeventh:"⅐",oneNinth:"⅑",oneTenth:"⅒"},ev={...eg,...ew},e_={...eg,tick:"√",info:"i",warning:"‼",cross:"\xd7",squareSmall:"□",squareSmallFilled:"■",circle:"( )",circleFilled:"(*)",circleDotted:"( )",circleDouble:"( )",circleCircle:"(○)",circleCross:"(\xd7)",circlePipe:"(│)",radioOn:"(*)",radioOff:"( )",checkboxOn:"[\xd7]",checkboxOff:"[ ]",checkboxCircleOn:"(\xd7)",checkboxCircleOff:"( )",pointer:">",triangleUpOutline:"∆",triangleLeft:"◄",triangleRight:"►",lozenge:"♦",lozengeOutline:"◊",hamburger:"≡",smiley:"☺",mustache:"┌─┐",star:"✶",play:"►",nodejs:"♦",oneSeventh:"1/7",oneNinth:"1/9",oneTenth:"1/10"},eS=!function(){let{env:e}=B,{TERM:t,TERM_PROGRAM:r}=e;return"win32"!==B.platform?"linux"!==t:!!e.WT_SESSION||!!e.TERMINUS_SUBLIME||"{cmd::Cmder}"===e.ConEmuTask||"Terminus-Sublime"===r||"vscode"===r||"xterm-256color"===t||"alacritty"===t||"rxvt-unicode"===t||"rxvt-unicode-256color"===t||"JetBrains-JediTerm"===e.TERMINAL_EMULATOR}()?e_:ev;Object.entries(ew);var eE=r(25997);let eT=eE?.WriteStream?.prototype?.hasColors?.()??!1,eR=(e,t)=>{if(!eT)return e=>e;let r=`\u001B[${e}m`,n=`\u001B[${t}m`;return e=>{let t=e+"",i=t.indexOf(n);if(-1===i)return r+t+n;let a=r,o=0;for(;-1!==i;)a+=t.slice(o,i)+r,o=i+n.length,i=t.indexOf(n,o);return a+(t.slice(o)+n)}};eR(0,0);let ex=eR(1,22);eR(2,22),eR(3,23),eR(4,24),eR(53,55),eR(7,27),eR(8,28),eR(9,29),eR(30,39),eR(31,39),eR(32,39),eR(33,39),eR(34,39),eR(35,39),eR(36,39),eR(37,39);let ek=eR(90,39);eR(40,49),eR(41,49),eR(42,49),eR(43,49),eR(44,49),eR(45,49),eR(46,49),eR(47,49),eR(100,49);let eM=eR(91,39);eR(92,39);let eL=eR(93,39);eR(94,39),eR(95,39),eR(96,39),eR(97,39),eR(101,49),eR(102,49),eR(103,49),eR(104,49),eR(105,49),eR(106,49),eR(107,49);let eD=({type:e,message:t,timestamp:r,piped:n,commandId:i,result:{failed:a=!1}={},options:{reject:o=!0}})=>{let s=eA(r),l=ej[e]({failed:a,reject:o,piped:n}),u=e$[e]({reject:o});return`${ek(`[${s}]`)} ${ek(`[${i}]`)} ${u(l)} ${u(t)}`},eA=e=>`${eO(e.getHours(),2)}:${eO(e.getMinutes(),2)}:${eO(e.getSeconds(),2)}.${eO(e.getMilliseconds(),3)}`,eO=(e,t)=>String(e).padStart(t,"0"),eI=({failed:e,reject:t})=>e?t?eS.cross:eS.warning:eS.tick,ej={command:({piped:e})=>e?"|":"$",output:()=>" ",ipc:()=>"*",error:eI,duration:eI},eP=e=>e,e$={command:()=>ex,output:()=>eP,ipc:()=>eP,error:({reject:e})=>e?eM:eL,duration:()=>ek},eB=(e,t,r)=>{let n=ei(t,r);return e.map(({verboseLine:e,verboseObject:t})=>eC(e,t,n)).filter(e=>void 0!==e).map(e=>eN(e)).join("")},eC=(e,t,r)=>{if(void 0===r)return e;let n=r(e,t);if("string"==typeof n)return n},eN=e=>e.endsWith("\n")?e:`${e}
`,eU=({type:e,verboseMessage:t,fdNumber:r,verboseInfo:n,result:i})=>{let a=eB(eq(t,eW({type:e,result:i,verboseInfo:n})),n,r);""!==a&&console.warn(a.slice(0,-1))},eW=({type:e,result:t,verboseInfo:{escapedCommand:r,commandId:n,rawOptions:{piped:i=!1,...a}}})=>({type:e,escapedCommand:r,commandId:`${n}`,timestamp:new Date,piped:i,result:t,options:a}),eq=(e,t)=>e.split("\n").map(e=>eF({...t,message:e})),eF=e=>({verboseLine:eD(e),verboseObject:e}),eH=e=>ed("string"==typeof e?e:(0,$.inspect)(e)).replaceAll("	"," ".repeat(eV)),eV=2,eG=(e,t)=>{er(t)&&eU({type:"command",verboseMessage:e,verboseInfo:t})},ez=(e,t,r)=>{eX(e);let n=eY(e);return{verbose:e,escapedCommand:t,commandId:n,rawOptions:r}},eY=e=>er({verbose:e})?eK++:void 0,eK=0n,eX=e=>{for(let t of e){if(!1===t)throw TypeError('The "verbose: false" option was renamed to "verbose: \'none\'".');if(!0===t)throw TypeError('The "verbose: true" option was renamed to "verbose: \'short\'".');if(!el.includes(t)&&!es(t)){let e=el.map(e=>`'${e}'`).join(", ");throw TypeError(`The "verbose" option must not be ${t}. Allowed values are: ${e} or a function.`)}}},eJ=()=>B.hrtime.bigint(),eQ=e=>Number(B.hrtime.bigint()-e)/1e6,eZ=(e,t,r)=>{let n=eJ(),{command:i,escapedCommand:a}=eu(e,t),o=ez(F(r,"verbose"),a,{...r});return eG(a,o),{command:i,escapedCommand:a,startTime:n,verboseInfo:o}};var e0=r(49411),e1=r(56916);function e2(e={}){let{env:t=process.env,platform:r=process.platform}=e;return"win32"!==r?"PATH":Object.keys(t).reverse().find(e=>"PATH"===e.toUpperCase())||"Path"}function e3(e){return e instanceof URL?(0,a.fileURLToPath)(e):e}(0,$.promisify)(c.execFile);let e8=({cwd:e=B.cwd(),path:t=B.env[e2()],preferLocal:r=!0,execPath:n=B.execPath,addExecPath:i=!0}={})=>{let a=e0.resolve(e3(e)),o=[],s=t.split(e0.delimiter);return r&&e6(o,s,a),i&&e4(o,s,n,a),""===t||t===e0.delimiter?`${o.join(e0.delimiter)}${t}`:[...o,t].join(e0.delimiter)},e6=(e,t,r)=>{for(let n of{*[Symbol.iterator](){let e,t=e0.resolve(e3(r));for(;e!==t;)yield t,e=t,t=e0.resolve(t,"..")}}){let r=e0.join(n,"node_modules/.bin");t.includes(r)||e.push(r)}},e4=(e,t,r,n)=>{let i=e0.resolve(n,e3(r),"..");t.includes(i)||e.push(i)},e9=({env:e=B.env,...t}={})=>{let r=e2({env:e={...e}});return t.path=e[r],e[r]=e8(t),e};var e5=r(99397);let e7=(e,t,r)=>new(r?to:ta)(t,e instanceof te?{}:{cause:e});class te extends Error{}let tt=(e,t)=>{Object.defineProperty(e.prototype,"name",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,tn,{value:!0,writable:!1,enumerable:!1,configurable:!1})},tr=e=>ti(e)&&tn in e,tn=Symbol("isExecaError"),ti=e=>"[object Error]"===Object.prototype.toString.call(e);class ta extends Error{}tt(ta,ta.name);class to extends Error{}tt(to,to.name);var ts=r(70612);let tl=()=>Array.from({length:tc-td+1},tu),tu=(e,t)=>({name:`SIGRT${t+1}`,number:td+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}),td=34,tc=64,tf=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}],th=()=>[...tf,...tl()].map(tp),tp=({name:e,number:t,description:r,action:n,forced:i=!1,standard:a})=>{let{signals:{[e]:o}}=ts.constants,s=void 0!==o;return{name:e,number:s?o:t,description:r,supported:s,action:n,forced:i,standard:a}},tb=Object.fromEntries(th().map(({name:e,number:t,description:r,supported:n,action:i,forced:a,standard:o})=>[e,{name:e,number:t,description:r,supported:n,action:i,forced:a,standard:o}])),tm=(e,t)=>{let r=ty(e,t);if(void 0===r)return{};let{name:n,description:i,supported:a,action:o,forced:s,standard:l}=r;return{[e]:{name:n,number:e,description:i,supported:a,action:o,forced:s,standard:l}}},ty=(e,t)=>{let r=t.find(({name:t})=>ts.constants.signals[t]===e);return void 0!==r?r:t.find(t=>t.number===e)};(()=>{let e=th();return Object.assign({},...Array.from({length:tc+1},(t,r)=>tm(r,e)))})();let tg=e=>{let t="option `killSignal`";if(0===e)throw TypeError(`Invalid ${t}: 0 cannot be used.`);return tv(e,t)},tw=e=>0===e?e:tv(e,"`subprocess.kill()`'s argument"),tv=(e,t)=>{if(Number.isInteger(e))return t_(e,t);if("string"==typeof e)return tE(e,t);throw TypeError(`Invalid ${t} ${String(e)}: it must be a string or an integer.
${tT()}`)},t_=(e,t)=>{if(tS.has(e))return tS.get(e);throw TypeError(`Invalid ${t} ${e}: this signal integer does not exist.
${tT()}`)},tS=new Map(Object.entries(ts.constants.signals).reverse().map(([e,t])=>[t,e])),tE=(e,t)=>{if(e in ts.constants.signals)return e;if(e.toUpperCase() in ts.constants.signals)throw TypeError(`Invalid ${t} '${e}': please rename it to '${e.toUpperCase()}'.`);throw TypeError(`Invalid ${t} '${e}': this signal name does not exist.
${tT()}`)},tT=()=>`Available signal names: ${tR()}.
Available signal numbers: ${tx()}.`,tR=()=>Object.keys(ts.constants.signals).sort().map(e=>`'${e}'`).join(", "),tx=()=>[...new Set(Object.values(ts.constants.signals).sort((e,t)=>e-t))].join(", "),tk=e=>tb[e].description,tM=e=>{if(!1===e)return e;if(!0===e)return tL;if(!Number.isFinite(e)||e<0)throw TypeError(`Expected the \`forceKillAfterDelay\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e},tL=5e3,tD=({kill:e,options:{forceKillAfterDelay:t,killSignal:r},onInternalError:n,context:i,controller:a},o,s)=>{let{signal:l,error:u}=tA(o,s,r);tO(u,n);let d=e(l);return tI({kill:e,signal:l,forceKillAfterDelay:t,killSignal:r,killResult:d,context:i,controller:a}),d},tA=(e,t,r)=>{let[n=r,i]=ti(e)?[void 0,e]:[e,t];if("string"!=typeof n&&!Number.isInteger(n))throw TypeError(`The first argument must be an error instance or a signal name string/integer: ${String(n)}`);if(void 0!==i&&!ti(i))throw TypeError(`The second argument is optional. If specified, it must be an error instance: ${i}`);return{signal:tw(n),error:i}},tO=(e,t)=>{void 0!==e&&t.reject(e)},tI=async({kill:e,signal:t,forceKillAfterDelay:r,killSignal:n,killResult:i,context:a,controller:o})=>{t===n&&i&&tj({kill:e,forceKillAfterDelay:r,context:a,controllerSignal:o.signal})},tj=async({kill:e,forceKillAfterDelay:t,context:r,controllerSignal:n})=>{if(!1!==t)try{await (0,e5.setTimeout)(t,void 0,{signal:n}),e("SIGKILL")&&(r.isForcefullyTerminated??=!0)}catch{}};var tP=r(15673);let t$=async(e,t)=>{e.aborted||await (0,tP.once)(e,"abort",{signal:t})},tB=({cancelSignal:e})=>{if(void 0!==e&&"[object AbortSignal]"!==Object.prototype.toString.call(e))throw Error(`The \`cancelSignal\` option must be an AbortSignal: ${String(e)}`)},tC=({subprocess:e,cancelSignal:t,gracefulCancel:r,context:n,controller:i})=>void 0===t||r?[]:[tN(e,t,n,i)],tN=async(e,t,r,{signal:n})=>{throw await t$(t,n),r.terminationReason??="cancel",e.kill(),t.reason},tU=({methodName:e,isSubprocess:t,ipc:r,isConnected:n})=>{tW(e,t,r),tq(e,t,n)},tW=(e,t,r)=>{if(!r)throw Error(`${t1(e,t)} can only be used if the \`ipc\` option is \`true\`.`)},tq=(e,t,r)=>{if(!r)throw Error(`${t1(e,t)} cannot be used: the ${t3(t)} has already exited or disconnected.`)},tF=e=>{throw Error(`${t1("getOneMessage",e)} could not complete: the ${t3(e)} exited or disconnected.`)},tH=e=>{throw Error(`${t1("sendMessage",e)} failed: the ${t3(e)} is sending a message too, instead of listening to incoming messages.
This can be fixed by both sending a message and listening to incoming messages at the same time:

const [receivedMessage] = await Promise.all([
	${t1("getOneMessage",e)},
	${t1("sendMessage",e,"message, {strict: true}")},
]);`)},tV=(e,t)=>Error(`${t1("sendMessage",t)} failed when sending an acknowledgment response to the ${t3(t)}.`,{cause:e}),tG=e=>{throw Error(`${t1("sendMessage",e)} failed: the ${t3(e)} is not listening to incoming messages.`)},tz=e=>{throw Error(`${t1("sendMessage",e)} failed: the ${t3(e)} exited without listening to incoming messages.`)},tY=()=>Error(`\`cancelSignal\` aborted: the ${t3(!0)} disconnected.`),tK=()=>{throw Error("`getCancelSignal()` cannot be used without setting the `cancelSignal` subprocess option.")},tX=({error:e,methodName:t,isSubprocess:r})=>{if("EPIPE"===e.code)throw Error(`${t1(t,r)} cannot be used: the ${t3(r)} is disconnecting.`,{cause:e})},tJ=({error:e,methodName:t,isSubprocess:r,message:n})=>{if(tQ(e))throw Error(`${t1(t,r)}'s argument type is invalid: the message cannot be serialized: ${String(n)}.`,{cause:e})},tQ=({code:e,message:t})=>tZ.has(e)||t0.some(e=>t.includes(e)),tZ=new Set(["ERR_MISSING_ARGS","ERR_INVALID_ARG_TYPE"]),t0=["could not be cloned","circular structure","call stack size exceeded"],t1=(e,t,r="")=>"cancelSignal"===e?"`cancelSignal`'s `controller.abort()`":`${t2(t)}${e}(${r})`,t2=e=>e?"":"subprocess.",t3=e=>e?"parent process":"subprocess",t8=e=>{e.connected&&e.disconnect()},t6=()=>{let e={};return Object.assign(new Promise((t,r)=>{Object.assign(e,{resolve:t,reject:r})}),e)},t4=(e,t="stdin")=>{let{options:r,fileDescriptors:n}=t5.get(e),i=t7(n,t,!0),a=e.stdio[i];if(null===a)throw TypeError(rr(i,t,r,!0));return a},t9=(e,t="stdout")=>{let{options:r,fileDescriptors:n}=t5.get(e),i=t7(n,t,!1),a="all"===i?e.all:e.stdio[i];if(null==a)throw TypeError(rr(i,t,r,!1));return a},t5=new WeakMap,t7=(e,t,r)=>{let n=re(t,r);return rt(n,t,r,e),n},re=(e,t)=>{let r=X(e);if(void 0!==r)return r;let{validOptions:n,defaultValue:i}=t?{validOptions:'"stdin"',defaultValue:"stdin"}:{validOptions:'"stdout", "stderr", "all"',defaultValue:"stdout"};throw TypeError(`"${ra(t)}" must not be "${e}".
It must be ${n} or "fd3", "fd4" (and so on).
It is optional and defaults to "${i}".`)},rt=(e,t,r,n)=>{let i=n[ri(e)];if(void 0===i)throw TypeError(`"${ra(r)}" must not be ${t}. That file descriptor does not exist.
Please set the "stdio" option to ensure that file descriptor exists.`);if("input"===i.direction&&!r)throw TypeError(`"${ra(r)}" must not be ${t}. It must be a readable stream, not writable.`);if("input"!==i.direction&&r)throw TypeError(`"${ra(r)}" must not be ${t}. It must be a writable stream, not readable.`)},rr=(e,t,r,n)=>{if("all"===e&&!r.all)return'The "all" option must be true to use "from: \'all\'".';let{optionName:i,optionValue:a}=rn(e,r);return`The "${i}: ${ro(a)}" option is incompatible with using "${ra(n)}: ${ro(t)}".
Please set this option with "pipe" instead.`},rn=(e,{stdin:t,stdout:r,stderr:n,stdio:i})=>{let a=ri(e);return 0===a&&void 0!==t?{optionName:"stdin",optionValue:t}:1===a&&void 0!==r?{optionName:"stdout",optionValue:r}:2===a&&void 0!==n?{optionName:"stderr",optionValue:n}:{optionName:`stdio[${a}]`,optionValue:i[a]}},ri=e=>"all"===e?1:e,ra=e=>e?"to":"from",ro=e=>"string"==typeof e?`'${e}'`:"number"==typeof e?`${e}`:"Stream",rs=(e,t,r)=>{let n=e.getMaxListeners();0!==n&&n!==Number.POSITIVE_INFINITY&&(e.setMaxListeners(n+t),(0,tP.addAbortListener)(r,()=>{e.setMaxListeners(e.getMaxListeners()-t)}))},rl=(e,t)=>{t&&ru(e)},ru=e=>{e.refCounted()},rd=(e,t)=>{t&&rc(e)},rc=e=>{e.unrefCounted()},rf=(e,t)=>{t&&(rc(e),rc(e))},rh=(e,t)=>{t&&(ru(e),ru(e))},rp=async({anyProcess:e,channel:t,isSubprocess:r,ipcEmitter:n},i)=>{if(rR(i)||rG(i))return;rm.has(e)||rm.set(e,[]);let a=rm.get(e);if(a.push(i),!(a.length>1))for(;a.length>0;){await rI(e,n,i),await e5.scheduler.yield();let o=await rT({wrappedMessage:a[0],anyProcess:e,channel:t,isSubprocess:r,ipcEmitter:n});a.shift(),n.emit("message",o),n.emit("message:done")}},rb=async({anyProcess:e,channel:t,isSubprocess:r,ipcEmitter:n,boundOnMessage:i})=>{rY();let a=rm.get(e);for(;a?.length>0;)await (0,tP.once)(n,"message:done");e.removeListener("message",i),rh(t,r),n.connected=!1,n.emit("disconnect")},rm=new WeakMap,ry=(e,t,r)=>{if(rg.has(e))return rg.get(e);let n=new tP.EventEmitter;return n.connected=!0,rg.set(e,n),rw({ipcEmitter:n,anyProcess:e,channel:t,isSubprocess:r}),n},rg=new WeakMap,rw=({ipcEmitter:e,anyProcess:t,channel:r,isSubprocess:n})=>{let i=rp.bind(void 0,{anyProcess:t,channel:r,isSubprocess:n,ipcEmitter:e});t.on("message",i),t.once("disconnect",rb.bind(void 0,{anyProcess:t,channel:r,isSubprocess:n,ipcEmitter:e,boundOnMessage:i})),rf(r,n)},rv=e=>{let t=rg.get(e);return void 0===t?null!==e.channel:t.connected},r_=({anyProcess:e,channel:t,isSubprocess:r,message:n,strict:i})=>{if(!i)return n;let a=ry(e,t,r),o=rP(e,a);return{id:rS++,type:rL,message:n,hasListeners:o}},rS=0n,rE=(e,t)=>{if(t?.type===rL&&!t.hasListeners)for(let{id:t}of e)void 0!==t&&rk[t].resolve({isDeadlock:!0,hasListeners:!1})},rT=async({wrappedMessage:e,anyProcess:t,channel:r,isSubprocess:n,ipcEmitter:i})=>{if(e?.type!==rL||!t.connected)return e;let{id:a,message:o}=e,s={id:a,type:rD,message:rP(t,i)};try{await rB({anyProcess:t,channel:r,isSubprocess:n,ipc:!0},s)}catch(e){i.emit("strict:error",e)}return o},rR=e=>{if(e?.type!==rD)return!1;let{id:t,message:r}=e;return rk[t]?.resolve({isDeadlock:!1,hasListeners:r}),!0},rx=async(e,t,r)=>{if(e?.type!==rL)return;let n=t6();rk[e.id]=n;let i=new AbortController;try{let{isDeadlock:e,hasListeners:a}=await Promise.race([n,rM(t,r,i)]);e&&tH(r),a||tG(r)}finally{i.abort(),delete rk[e.id]}},rk={},rM=async(e,t,{signal:r})=>{rs(e,1,r),await (0,tP.once)(e,"disconnect",{signal:r}),tz(t)},rL="execa:ipc:request",rD="execa:ipc:response",rA=(e,t,r)=>{rj.has(e)||rj.set(e,new Set);let n=rj.get(e),i={onMessageSent:t6(),id:r?t.id:void 0};return n.add(i),{outgoingMessages:n,outgoingMessage:i}},rO=({outgoingMessages:e,outgoingMessage:t})=>{e.delete(t),t.onMessageSent.resolve()},rI=async(e,t,r)=>{for(;!rP(e,t)&&rj.get(e)?.size>0;){let t=[...rj.get(e)];rE(t,r),await Promise.all(t.map(({onMessageSent:e})=>e))}},rj=new WeakMap,rP=(e,t)=>t.listenerCount("message")>r$(e),r$=e=>t5.has(e)&&!et(t5.get(e).options.buffer,"ipc")?1:0,rB=({anyProcess:e,channel:t,isSubprocess:r,ipc:n},i,{strict:a=!1}={})=>{let o="sendMessage";return tU({methodName:o,isSubprocess:r,ipc:n,isConnected:e.connected}),rC({anyProcess:e,channel:t,methodName:o,isSubprocess:r,message:i,strict:a})},rC=async({anyProcess:e,channel:t,methodName:r,isSubprocess:n,message:i,strict:a})=>{let o=r_({anyProcess:e,channel:t,isSubprocess:n,message:i,strict:a}),s=rA(e,o,a);try{await rN({anyProcess:e,methodName:r,isSubprocess:n,wrappedMessage:o,message:i})}catch(t){throw t8(e),t}finally{rO(s)}},rN=async({anyProcess:e,methodName:t,isSubprocess:r,wrappedMessage:n,message:i})=>{let a=rU(e);try{await Promise.all([rx(n,e,r),a(n)])}catch(e){throw tX({error:e,methodName:t,isSubprocess:r}),tJ({error:e,methodName:t,isSubprocess:r,message:i}),e}},rU=e=>{if(rW.has(e))return rW.get(e);let t=(0,$.promisify)(e.send.bind(e));return rW.set(e,t),t},rW=new WeakMap,rq=(e,t)=>{let r="cancelSignal";return tq(r,!1,e.connected),rN({anyProcess:e,methodName:r,isSubprocess:!1,wrappedMessage:{type:rz,message:t},message:t})},rF=async({anyProcess:e,channel:t,isSubprocess:r,ipc:n})=>(await rH({anyProcess:e,channel:t,isSubprocess:r,ipc:n}),rK.signal),rH=async({anyProcess:e,channel:t,isSubprocess:r,ipc:n})=>{if(!rV){if(rV=!0,!n){tK();return}if(null===t){rY();return}ry(e,t,r),await e5.scheduler.yield()}},rV=!1,rG=e=>e?.type===rz&&(rK.abort(e.message),!0),rz="execa:ipc:cancel",rY=()=>{rK.abort(tY())},rK=new AbortController,rX=({gracefulCancel:e,cancelSignal:t,ipc:r,serialization:n})=>{if(e){if(void 0===t)throw Error("The `cancelSignal` option must be defined when setting the `gracefulCancel` option.");if(!r)throw Error("The `ipc` option cannot be false when setting the `gracefulCancel` option.");if("json"===n)throw Error("The `serialization` option cannot be 'json' when setting the `gracefulCancel` option.")}},rJ=({subprocess:e,cancelSignal:t,gracefulCancel:r,forceKillAfterDelay:n,context:i,controller:a})=>r?[rQ({subprocess:e,cancelSignal:t,forceKillAfterDelay:n,context:i,controller:a})]:[],rQ=async({subprocess:e,cancelSignal:t,forceKillAfterDelay:r,context:n,controller:{signal:i}})=>{await t$(t,i);let a=rZ(t);throw await rq(e,a),tj({kill:e.kill,forceKillAfterDelay:r,context:n,controllerSignal:i}),n.terminationReason??="gracefulCancel",t.reason},rZ=({reason:e})=>{if(!(e instanceof DOMException))return e;let t=Error(e.message);return Object.defineProperty(t,"stack",{value:e.stack,enumerable:!1,configurable:!0,writable:!0}),t},r0=({timeout:e})=>{if(void 0!==e&&(!Number.isFinite(e)||e<0))throw TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`)},r1=(e,t,r,n)=>0===t||void 0===t?[]:[r2(e,t,r,n)],r2=async(e,t,r,{signal:n})=>{throw await (0,e5.setTimeout)(t,void 0,{signal:n}),r.terminationReason??="timeout",e.kill(),new te},r3=(e,t,{node:r=!1,nodePath:n=B.execPath,nodeOptions:i=B.execArgv.filter(e=>!e.startsWith("--inspect")),cwd:a,execPath:s,...l})=>{if(void 0!==s)throw TypeError('The "execPath" option has been removed. Please use the "nodePath" option instead.');let u=o(n,'The "nodePath" option'),d=e0.resolve(a,u),c={...l,nodePath:d,node:r,cwd:a};if(!r)return[e,t,c];if("node"===e0.basename(e,".exe"))throw TypeError('When the "node" option is true, the first argument does not need to be "node".');return[d,[...i,e,...t],{ipc:!0,...c,shell:!1}]};var r8=r(83858);let r6=({ipcInput:e,ipc:t,serialization:r})=>{if(void 0!==e){if(!t)throw Error("The `ipcInput` option cannot be set unless the `ipc` option is `true`.");r4[r](e)}},r4={advanced:e=>{try{(0,r8.serialize)(e)}catch(e){throw Error("The `ipcInput` option is not serializable with a structured clone.",{cause:e})}},json:e=>{try{JSON.stringify(e)}catch(e){throw Error("The `ipcInput` option is not serializable with JSON.",{cause:e})}}},r9=async(e,t)=>{void 0!==t&&await e.sendMessage(t)},r5=({encoding:e})=>{if(nt.has(e))return;let t=nr(e);if(void 0!==t)throw TypeError(`Invalid option \`encoding: ${ni(e)}\`.
Please rename it to ${ni(t)}.`);let r=[...nt].map(e=>ni(e)).join(", ");throw TypeError(`Invalid option \`encoding: ${ni(e)}\`.
Please rename it to one of: ${r}.`)},r7=new Set(["utf8","utf16le"]),ne=new Set(["buffer","hex","base64","base64url","latin1","ascii"]),nt=new Set([...r7,...ne]),nr=e=>{if(null===e)return"buffer";if("string"!=typeof e)return;let t=e.toLowerCase();return t in nn?nn[t]:nt.has(t)?t:void 0},nn={"utf-8":"utf8","utf-16le":"utf16le","ucs-2":"utf16le",ucs2:"utf16le",binary:"latin1"},ni=e=>"string"==typeof e?`"${e}"`:String(e);var na=r(87561);let no=(e=ns())=>{let t=o(e,'The "cwd" option');return e0.resolve(t)},ns=()=>{try{return B.cwd()}catch(e){throw e.message=`The current directory does not exist.
${e.message}`,e}},nl=(e,t)=>{let r;if(t===ns())return e;try{r=(0,na.statSync)(t)}catch(r){return`The "cwd" option is invalid: ${t}.
${r.message}
${e}`}return r.isDirectory()?e:`The "cwd" option is not a directory: ${t}.
${e}`},nu=(e,t,r)=>{r.cwd=no(r.cwd);let[n,i,a]=r3(e,t,r),{command:o,args:s,options:l}=e1._parse(n,i,a),d=nd(q(l));return r0(d),r5(d),r6(d),tB(d),rX(d),d.shell=u(d.shell),d.env=nc(d),d.killSignal=tg(d.killSignal),d.forceKillAfterDelay=tM(d.forceKillAfterDelay),d.lines=d.lines.map((e,t)=>e&&!ne.has(d.encoding)&&d.buffer[t]),"win32"===B.platform&&"cmd"===e0.basename(o,".exe")&&s.unshift("/q"),{file:o,commandArguments:s,options:d}},nd=({extendEnv:e=!0,preferLocal:t=!1,cwd:r,localDir:n=r,encoding:i="utf8",reject:a=!0,cleanup:o=!0,all:s=!1,windowsHide:l=!0,killSignal:u="SIGTERM",forceKillAfterDelay:d=!0,gracefulCancel:c=!1,ipcInput:f,ipc:h=void 0!==f||c,serialization:p="advanced",...b})=>({...b,extendEnv:e,preferLocal:t,cwd:r,localDirectory:n,encoding:i,reject:a,cleanup:o,all:s,windowsHide:l,killSignal:u,forceKillAfterDelay:d,gracefulCancel:c,ipcInput:f,ipc:h,serialization:p}),nc=({env:e,extendEnv:t,preferLocal:r,node:n,localDirectory:i,nodePath:a})=>{let o=t?{...B.env,...e}:e;return r||n?e9({env:o,cwd:i,execPath:a,preferLocal:r,addExecPath:n}):o},nf=(e,t,r)=>r.shell&&t.length>0?[[e,...t].join(" "),[],r]:[e,t,r];function nh(e){if("string"==typeof e)return np(e);if(!(ArrayBuffer.isView(e)&&1===e.BYTES_PER_ELEMENT))throw Error("Input must be a string or a Uint8Array");return nb(e)}let np=e=>e.at(-1)===nm?e.slice(0,e.at(-2)===ng?-2:-1):e,nb=e=>e.at(-1)===ny?e.subarray(0,e.at(-2)===nw?-2:-1):e,nm="\n",ny=nm.codePointAt(0),ng="\r",nw=ng.codePointAt(0);function nv(e,{checkOpen:t=!0}={}){return null!==e&&"object"==typeof e&&(e.writable||e.readable||!t||void 0===e.writable&&void 0===e.readable)&&"function"==typeof e.pipe}function n_(e,{checkOpen:t=!0}={}){return nv(e,{checkOpen:t})&&(e.writable||!t)&&"function"==typeof e.write&&"function"==typeof e.end&&"boolean"==typeof e.writable&&"boolean"==typeof e.writableObjectMode&&"function"==typeof e.destroy&&"boolean"==typeof e.destroyed}function nS(e,{checkOpen:t=!0}={}){return nv(e,{checkOpen:t})&&(e.readable||!t)&&"function"==typeof e.read&&"boolean"==typeof e.readable&&"boolean"==typeof e.readableObjectMode&&"function"==typeof e.destroy&&"boolean"==typeof e.destroyed}function nE(e,t){return n_(e,t)&&nS(e,t)}let nT=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class nR{#e;#t;#r=!1;#n=void 0;constructor(e,t){this.#e=e,this.#t=t}next(){let e=()=>this.#i();return this.#n=this.#n?this.#n.then(e,e):e(),this.#n}return(e){let t=()=>this.#a(e);return this.#n?this.#n.then(t,t):t()}async #i(){let e;if(this.#r)return{done:!0,value:void 0};try{e=await this.#e.read()}catch(e){throw this.#n=void 0,this.#r=!0,this.#e.releaseLock(),e}return e.done&&(this.#n=void 0,this.#r=!0,this.#e.releaseLock()),e}async #a(e){if(this.#r)return{done:!0,value:e};if(this.#r=!0,!this.#t){let t=this.#e.cancel(e);return this.#e.releaseLock(),await t,{done:!0,value:e}}return this.#e.releaseLock(),{done:!0,value:e}}}let nx=Symbol();function nk(){return this[nx].next()}function nM(e){return this[nx].return(e)}Object.defineProperty(nk,"name",{value:"next"}),Object.defineProperty(nM,"name",{value:"return"});let nL=Object.create(nT,{next:{enumerable:!0,configurable:!0,writable:!0,value:nk},return:{enumerable:!0,configurable:!0,writable:!0,value:nM}});function nD({preventCancel:e=!1}={}){let t=new nR(this.getReader(),e),r=Object.create(nL);return r[nx]=t,r}let nA=e=>{if(nS(e,{checkOpen:!1})&&void 0!==nP.on)return nI(e);if("function"==typeof e?.[Symbol.asyncIterator])return e;if("[object ReadableStream]"===nO.call(e))return nD.call(e);throw TypeError("The first argument must be a Readable, a ReadableStream, or an async iterable.")},{toString:nO}=Object.prototype,nI=async function*(e){let t=new AbortController,r={};nj(e,t,r);try{for await(let[r]of nP.on(e,"data",{signal:t.signal}))yield r}catch(e){if(void 0!==r.error)throw r.error;if(!t.signal.aborted)throw e}finally{e.destroy()}},nj=async(e,t,r)=>{try{await nP.finished(e,{cleanup:!0,readable:!0,writable:!1,error:!1})}catch(e){r.error=e}finally{t.abort()}},nP={},n$=async(e,{init:t,convertChunk:r,getSize:n,truncateChunk:i,addChunk:a,getFinalChunk:o,finalize:s},{maxBuffer:l=Number.POSITIVE_INFINITY}={})=>{let u=nA(e),d=t();d.length=0;try{for await(let e of u){let t=r[nU(e)](e,d);nC({convertedChunk:t,state:d,getSize:n,truncateChunk:i,addChunk:a,maxBuffer:l})}return nB({state:d,convertChunk:r,getSize:n,truncateChunk:i,addChunk:a,getFinalChunk:o,maxBuffer:l}),s(d)}catch(t){let e="object"==typeof t&&null!==t?t:Error(t);throw e.bufferedData=s(d),e}},nB=({state:e,getSize:t,truncateChunk:r,addChunk:n,getFinalChunk:i,maxBuffer:a})=>{let o=i(e);void 0!==o&&nC({convertedChunk:o,state:e,getSize:t,truncateChunk:r,addChunk:n,maxBuffer:a})},nC=({convertedChunk:e,state:t,getSize:r,truncateChunk:n,addChunk:i,maxBuffer:a})=>{let o=r(e),s=t.length+o;if(s<=a){nN(e,t,i,s);return}let l=n(e,a-t.length);throw void 0!==l&&nN(l,t,i,a),new nq},nN=(e,t,r,n)=>{t.contents=r(e,t,n),t.length=n},nU=e=>{let t=typeof e;if("string"===t)return"string";if("object"!==t||null===e)return"others";if(globalThis.Buffer?.isBuffer(e))return"buffer";let r=nW.call(e);return"[object ArrayBuffer]"===r?"arrayBuffer":"[object DataView]"===r?"dataView":Number.isInteger(e.byteLength)&&Number.isInteger(e.byteOffset)&&"[object ArrayBuffer]"===nW.call(e.buffer)?"typedArray":"others"},{toString:nW}=Object.prototype;class nq extends Error{name="MaxBufferError";constructor(){super("maxBuffer exceeded")}}let nF=({error:e,stream:t,readableObjectMode:r,lines:n,encoding:i,fdNumber:a})=>{if(!(e instanceof nq))throw e;if("all"===a)return e;let o=nH(r,n,i);throw e.maxBufferInfo={fdNumber:a,unit:o},t.destroy(),e},nH=(e,t,r)=>e?"objects":t?"lines":"buffer"===r?"bytes":"characters",nV=(e,t,r)=>{if(t.length!==r)return;let n=new nq;throw n.maxBufferInfo={fdNumber:"ipc"},n},nG=(e,t)=>{let{streamName:r,threshold:n,unit:i}=nz(e,t);return`Command's ${r} was larger than ${n} ${i}`},nz=(e,t)=>{if(e?.maxBufferInfo===void 0)return{streamName:"output",threshold:t[1],unit:"bytes"};let{maxBufferInfo:{fdNumber:r,unit:n}}=e;delete e.maxBufferInfo;let i=et(t,r);return"ipc"===r?{streamName:"IPC output",threshold:i,unit:"messages"}:{streamName:W(r),threshold:i,unit:n}},nY=(e,t,r)=>e?.code==="ENOBUFS"&&null!==t&&t.some(e=>null!==e&&e.length>nX(r)),nK=(e,t,r)=>{if(!t)return e;let n=nX(r);return e.length>n?e.slice(0,n):e},nX=([,e])=>e,nJ=({stdio:e,all:t,ipcOutput:r,originalError:n,signal:i,signalDescription:a,exitCode:o,escapedCommand:s,timedOut:l,isCanceled:u,isGracefullyCanceled:d,isMaxBuffer:c,isForcefullyTerminated:f,forceKillAfterDelay:h,killSignal:p,maxBuffer:b,timeout:m,cwd:y})=>{let g=n?.code,w=nQ({originalError:n,timedOut:l,timeout:m,isMaxBuffer:c,maxBuffer:b,errorCode:g,signal:i,signalDescription:a,exitCode:o,isCanceled:u,isGracefullyCanceled:d,isForcefullyTerminated:f,forceKillAfterDelay:h,killSignal:p}),v=n0(n,y),_=void 0===v?"":`
${v}`,S=`${w}: ${s}${_}`,E=[S,...void 0===t?[e[2],e[1]]:[t],...e.slice(3),r.map(e=>n1(e)).join("\n")].map(e=>ed(nh(n2(e)))).filter(Boolean).join("\n\n");return{originalMessage:v,shortMessage:S,message:E}},nQ=({originalError:e,timedOut:t,timeout:r,isMaxBuffer:n,maxBuffer:i,errorCode:a,signal:o,signalDescription:s,exitCode:l,isCanceled:u,isGracefullyCanceled:d,isForcefullyTerminated:c,forceKillAfterDelay:f,killSignal:h})=>{let p=nZ(c,f);return t?`Command timed out after ${r} milliseconds${p}`:d?void 0===o?`Command was gracefully canceled with exit code ${l}`:c?`Command was gracefully canceled${p}`:`Command was gracefully canceled with ${o} (${s})`:u?`Command was canceled${p}`:n?`${nG(e,i)}${p}`:void 0!==a?`Command failed with ${a}${p}`:c?`Command was killed with ${h} (${tk(h)})${p}`:void 0!==o?`Command was killed with ${o} (${s})`:void 0!==l?`Command failed with exit code ${l}`:"Command failed"},nZ=(e,t)=>e?` and was forcefully terminated after ${t} milliseconds`:"",n0=(e,t)=>{if(e instanceof te)return;let r=ed(nl(tr(e)?e.originalMessage:String(e?.message??e),t));return""===r?void 0:r},n1=e=>"string"==typeof e?e:(0,$.inspect)(e),n2=e=>Array.isArray(e)?e.map(e=>nh(n3(e))).filter(Boolean).join("\n"):n3(e),n3=e=>"string"==typeof e?e:b(e)?v(e):"",n8=({command:e,escapedCommand:t,stdio:r,all:n,ipcOutput:i,options:{cwd:a},startTime:o})=>n5({command:e,escapedCommand:t,cwd:a,durationMs:eQ(o),failed:!1,timedOut:!1,isCanceled:!1,isGracefullyCanceled:!1,isTerminated:!1,isMaxBuffer:!1,isForcefullyTerminated:!1,exitCode:0,stdout:r[1],stderr:r[2],all:n,stdio:r,ipcOutput:i,pipedFrom:[]}),n6=({error:e,command:t,escapedCommand:r,fileDescriptors:n,options:i,startTime:a,isSync:o})=>n4({error:e,command:t,escapedCommand:r,startTime:a,timedOut:!1,isCanceled:!1,isGracefullyCanceled:!1,isMaxBuffer:!1,isForcefullyTerminated:!1,stdio:Array.from({length:n.length}),ipcOutput:[],options:i,isSync:o}),n4=({error:e,command:t,escapedCommand:r,startTime:n,timedOut:i,isCanceled:a,isGracefullyCanceled:o,isMaxBuffer:s,isForcefullyTerminated:l,exitCode:u,signal:d,stdio:c,all:f,ipcOutput:h,options:{timeoutDuration:p,timeout:b=p,forceKillAfterDelay:m,killSignal:y,cwd:g,maxBuffer:w},isSync:v})=>{let{exitCode:_,signal:S,signalDescription:E}=n7(u,d),{originalMessage:T,shortMessage:R,message:x}=nJ({stdio:c,all:f,ipcOutput:h,originalError:e,signal:S,signalDescription:E,exitCode:_,escapedCommand:r,timedOut:i,isCanceled:a,isGracefullyCanceled:o,isMaxBuffer:s,isForcefullyTerminated:l,forceKillAfterDelay:m,killSignal:y,maxBuffer:w,timeout:b,cwd:g}),k=e7(e,x,v);return Object.assign(k,n9({error:k,command:t,escapedCommand:r,startTime:n,timedOut:i,isCanceled:a,isGracefullyCanceled:o,isMaxBuffer:s,isForcefullyTerminated:l,exitCode:_,signal:S,signalDescription:E,stdio:c,all:f,ipcOutput:h,cwd:g,originalMessage:T,shortMessage:R})),k},n9=({error:e,command:t,escapedCommand:r,startTime:n,timedOut:i,isCanceled:a,isGracefullyCanceled:o,isMaxBuffer:s,isForcefullyTerminated:l,exitCode:u,signal:d,signalDescription:c,stdio:f,all:h,ipcOutput:p,cwd:b,originalMessage:m,shortMessage:y})=>n5({shortMessage:y,originalMessage:m,command:t,escapedCommand:r,cwd:b,durationMs:eQ(n),failed:!0,timedOut:i,isCanceled:a,isGracefullyCanceled:o,isTerminated:void 0!==d,isMaxBuffer:s,isForcefullyTerminated:l,exitCode:u,signal:d,signalDescription:c,code:e.cause?.code,stdout:f[1],stderr:f[2],all:h,stdio:f,ipcOutput:p,pipedFrom:[]}),n5=e=>Object.fromEntries(Object.entries(e).filter(([,e])=>void 0!==e)),n7=(e,t)=>{let r=null===t?void 0:t,n=void 0===r?void 0:tk(t);return{exitCode:null===e?void 0:e,signal:r,signalDescription:n}},ie=e=>Number.isFinite(e)?e:0,it=e=>0===e||0n===e,ir=(e,t)=>1===t||1n===t?e:`${e}s`,ii=24n*60n*60n*1000n,ia=(e,t)=>{e.failed&&eU({type:"error",verboseMessage:e.shortMessage,verboseInfo:t,result:e})},io=(e,t)=>{er(t)&&(ia(e,t),is(e,t))},is=(e,t)=>{eU({type:"duration",verboseMessage:`(done in ${function(e,t){let r="bigint"==typeof e;if(!r&&!Number.isFinite(e))throw TypeError("Expected a finite number or bigint");t={...t};let n=e<0?"-":"";e=e<0?-e:e,t.colonNotation&&(t.compact=!1,t.formatSubMilliseconds=!1,t.separateMilliseconds=!1,t.verbose=!1),t.compact&&(t.unitCount=1,t.secondsDecimalDigits=0,t.millisecondsDecimalDigits=0);let i=[],a=(e,r,n,a)=>{if(!((0===i.length||!t.colonNotation)&&it(e))||t.colonNotation&&"m"===n){if(a??=String(e),t.colonNotation){let e=a.includes(".")?a.split(".")[0].length:a.length,t=i.length>0?2:1;a="0".repeat(Math.max(0,t-e))+a}else a+=t.verbose?" "+ir(r,e):n;i.push(a)}},o=function(e){switch(typeof e){case"number":if(Number.isFinite(e))return{days:Math.trunc(e/864e5),hours:Math.trunc(e/36e5%24),minutes:Math.trunc(e/6e4%60),seconds:Math.trunc(e/1e3%60),milliseconds:Math.trunc(e%1e3),microseconds:Math.trunc(ie(1e3*e)%1e3),nanoseconds:Math.trunc(ie(1e6*e)%1e3)};break;case"bigint":return{days:e/86400000n,hours:e/3600000n%24n,minutes:e/60000n%60n,seconds:e/1000n%60n,milliseconds:e%1000n,microseconds:0n,nanoseconds:0n}}throw TypeError("Expected a finite number or bigint")}(e),s=BigInt(o.days);if(t.hideYearAndDays?a(24n*BigInt(s)+BigInt(o.hours),"hour","h"):(t.hideYear?a(s,"day","d"):(a(s/365n,"year","y"),a(s%365n,"day","d")),a(Number(o.hours),"hour","h")),a(Number(o.minutes),"minute","m"),!t.hideSeconds){if(t.separateMilliseconds||t.formatSubMilliseconds||!t.colonNotation&&e<1e3){let e=Number(o.seconds),r=Number(o.milliseconds),n=Number(o.microseconds),i=Number(o.nanoseconds);if(a(e,"second","s"),t.formatSubMilliseconds)a(r,"millisecond","ms"),a(n,"microsecond","\xb5s"),a(i,"nanosecond","ns");else{let e=r+n/1e3+i/1e6,o="number"==typeof t.millisecondsDecimalDigits?t.millisecondsDecimalDigits:0,s=o?e.toFixed(o):e>=1?Math.round(e):Math.ceil(e);a(Number.parseFloat(s),"millisecond","ms",s)}}else{var l;let n=(Math.round(Math.floor((r?Number(e%ii):e)/1e3%60*10**(l="number"==typeof t.secondsDecimalDigits?t.secondsDecimalDigits:1)+1e-7))/10**l).toFixed(l),i=t.keepDecimalsOnWholeSeconds?n:n.replace(/\.0+$/,"");a(Number.parseFloat(i),"second","s",i)}}if(0===i.length)return n+"0"+(t.verbose?" milliseconds":"ms");let u=t.colonNotation?":":" ";return"number"==typeof t.unitCount&&(i=i.slice(0,Math.max(t.unitCount,1))),n+i.join(u)}(e.durationMs)})`,verboseInfo:t,result:e})},il=(e,t,{reject:r})=>{if(io(e,t),e.failed&&r)throw e;return e},iu=(e,t)=>iw(e)?"asyncGenerator":iv(e)?"generator":iS(e)?"fileUrl":iT(e)?"filePath":iA(e)?"webStream":nv(e,{checkOpen:!1})?"native":b(e)?"uint8Array":iI(e)?"asyncIterable":ij(e)?"iterable":iO(e)?ih({transform:e},t):i_(e)?id(e,t):"native",id=(e,t)=>nE(e.transform,{checkOpen:!1})?ic(e,t):iO(e.transform)?ih(e,t):im(e,t),ic=(e,t)=>(ip(e,t,"Duplex stream"),"duplex"),ih=(e,t)=>(ip(e,t,"web TransformStream"),"webTransform"),ip=({final:e,binary:t,objectMode:r},n,i)=>{ib(e,`${n}.final`,i),ib(t,`${n}.binary`,i),iy(r,`${n}.objectMode`)},ib=(e,t,r)=>{if(void 0!==e)throw TypeError(`The \`${t}\` option can only be defined when using a generator, not a ${r}.`)},im=({transform:e,final:t,binary:r,objectMode:n},i)=>{if(void 0!==e&&!ig(e))throw TypeError(`The \`${i}.transform\` option must be a generator, a Duplex stream or a web TransformStream.`);if(nE(t,{checkOpen:!1}))throw TypeError(`The \`${i}.final\` option must not be a Duplex stream.`);if(iO(t))throw TypeError(`The \`${i}.final\` option must not be a web TransformStream.`);if(void 0!==t&&!ig(t))throw TypeError(`The \`${i}.final\` option must be a generator.`);return iy(r,`${i}.binary`),iy(n,`${i}.objectMode`),iw(e)||iw(t)?"asyncGenerator":"generator"},iy=(e,t)=>{if(void 0!==e&&"boolean"!=typeof e)throw TypeError(`The \`${t}\` option must use a boolean.`)},ig=e=>iw(e)||iv(e),iw=e=>"[object AsyncGeneratorFunction]"===Object.prototype.toString.call(e),iv=e=>"[object GeneratorFunction]"===Object.prototype.toString.call(e),i_=e=>i(e)&&(void 0!==e.transform||void 0!==e.final),iS=e=>"[object URL]"===Object.prototype.toString.call(e),iE=e=>iS(e)&&"file:"!==e.protocol,iT=e=>i(e)&&Object.keys(e).length>0&&Object.keys(e).every(e=>iR.has(e))&&ix(e.file),iR=new Set(["file","append"]),ix=e=>"string"==typeof e,ik=(e,t)=>"native"===e&&"string"==typeof t&&!iM.has(t),iM=new Set(["ipc","ignore","inherit","overlapped","pipe"]),iL=e=>"[object ReadableStream]"===Object.prototype.toString.call(e),iD=e=>"[object WritableStream]"===Object.prototype.toString.call(e),iA=e=>iL(e)||iD(e),iO=e=>iL(e?.readable)&&iD(e?.writable),iI=e=>iP(e)&&"function"==typeof e[Symbol.asyncIterator],ij=e=>iP(e)&&"function"==typeof e[Symbol.iterator],iP=e=>"object"==typeof e&&null!==e,i$=new Set(["generator","asyncGenerator","duplex","webTransform"]),iB=new Set(["fileUrl","filePath","fileNumber"]),iC=new Set(["fileUrl","filePath"]),iN=new Set([...iC,"webStream","nodeStream"]),iU=new Set(["webTransform","duplex"]),iW={generator:"a generator",asyncGenerator:"an async generator",fileUrl:"a file URL",filePath:"a file path string",fileNumber:"a file descriptor number",webStream:"a web stream",nodeStream:"a Node.js stream",webTransform:"a web TransformStream",duplex:"a Duplex stream",native:"any value",iterable:"an iterable",asyncIterable:"an async iterable",string:"a string",uint8Array:"a Uint8Array"},iq=(e,t,r,n)=>"output"===n?iF(e,t,r):iH(e,t,r),iF=(e,t,r)=>{let n=0!==t&&r[t-1].value.readableObjectMode;return{writableObjectMode:n,readableObjectMode:e??n}},iH=(e,t,r)=>{let n=0===t?!0===e:r[t-1].value.readableObjectMode,i=t!==r.length-1&&(e??n);return{writableObjectMode:n,readableObjectMode:i}},iV=(e,t)=>{let r=e.findLast(({type:e})=>i$.has(e));return void 0!==r&&("input"===t?r.value.writableObjectMode:r.value.readableObjectMode)},iG=(e,t,r,n)=>[...e.filter(({type:e})=>!i$.has(e)),...iz(e,t,r,n)],iz=(e,t,r,{encoding:n})=>{let i=e.filter(({type:e})=>i$.has(e)),a=Array.from({length:i.length});for(let[e,o]of Object.entries(i))a[e]=iY({stdioItem:o,index:Number(e),newTransforms:a,optionName:t,direction:r,encoding:n});return iQ(a,r)},iY=({stdioItem:e,stdioItem:{type:t},index:r,newTransforms:n,optionName:i,direction:a,encoding:o})=>"duplex"===t?iK({stdioItem:e,optionName:i}):"webTransform"===t?iX({stdioItem:e,index:r,newTransforms:n,direction:a}):iJ({stdioItem:e,index:r,newTransforms:n,direction:a,encoding:o}),iK=({stdioItem:e,stdioItem:{value:{transform:t,transform:{writableObjectMode:r,readableObjectMode:n},objectMode:i=n}},optionName:a})=>{if(i&&!n)throw TypeError(`The \`${a}.objectMode\` option can only be \`true\` if \`new Duplex({objectMode: true})\` is used.`);if(!i&&n)throw TypeError(`The \`${a}.objectMode\` option cannot be \`false\` if \`new Duplex({objectMode: true})\` is used.`);return{...e,value:{transform:t,writableObjectMode:r,readableObjectMode:n}}},iX=({stdioItem:e,stdioItem:{value:t},index:r,newTransforms:n,direction:a})=>{let{transform:o,objectMode:s}=i(t)?t:{transform:t},{writableObjectMode:l,readableObjectMode:u}=iq(s,r,n,a);return{...e,value:{transform:o,writableObjectMode:l,readableObjectMode:u}}},iJ=({stdioItem:e,stdioItem:{value:t},index:r,newTransforms:n,direction:a,encoding:o})=>{let{transform:s,final:l,binary:u=!1,preserveNewlines:d=!1,objectMode:c}=i(t)?t:{transform:t},f=u||ne.has(o),{writableObjectMode:h,readableObjectMode:p}=iq(c,r,n,a);return{...e,value:{transform:s,final:l,binary:f,preserveNewlines:d,writableObjectMode:h,readableObjectMode:p}}},iQ=(e,t)=>"input"===t?e.reverse():e,iZ=(e,t,r)=>{let n=e.map(e=>i0(e,t));if(n.includes("input")&&n.includes("output"))throw TypeError(`The \`${r}\` option must not be an array of both readable and writable values.`);return n.find(Boolean)??i4},i0=({type:e,value:t},r)=>i1[r]??i8[e](t),i1=["input","output","output"],i2=()=>void 0,i3=()=>"input",i8={generator:i2,asyncGenerator:i2,fileUrl:i2,filePath:i2,iterable:i3,asyncIterable:i3,uint8Array:i3,webStream:e=>iD(e)?"output":"input",nodeStream:e=>nS(e,{checkOpen:!1})?n_(e,{checkOpen:!1})?void 0:"input":"output",webTransform:i2,duplex:i2,native(e){let t=i6(e);return void 0!==t?t:nv(e,{checkOpen:!1})?i8.nodeStream(e):void 0}},i6=e=>[0,B.stdin].includes(e)?"input":[1,2,B.stdout,B.stderr].includes(e)?"output":void 0,i4="output",i9=(e,t)=>t&&!e.includes("ipc")?[...e,"ipc"]:e,i5=({stdio:e,ipc:t,buffer:r,...n},i,a)=>{let o=i7(e,n).map((e,t)=>at(e,t));return a?ar(o,r,i):i9(o,t)},i7=(e,t)=>{if(void 0===e)return U.map(e=>t[e]);if(ae(t))throw Error(`It's not possible to provide \`stdio\` in combination with one of ${U.map(e=>`\`${e}\``).join(", ")}`);if("string"==typeof e)return[e,e,e];if(!Array.isArray(e))throw TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);return Array.from({length:Math.max(e.length,U.length)},(t,r)=>e[r])},ae=e=>U.some(t=>void 0!==e[t]),at=(e,t)=>Array.isArray(e)?e.map(e=>at(e,t)):null==e?t>=U.length?"ignore":"pipe":e,ar=(e,t,r)=>e.map((e,n)=>!t[n]&&0!==n&&!en(r,n)&&an(e)?"ignore":e),an=e=>"pipe"===e||Array.isArray(e)&&e.every(e=>"pipe"===e),ai=({stdioItem:e,stdioItem:{type:t},isStdioArray:r,fdNumber:n,direction:i,isSync:a})=>r&&"native"===t?a?aa({stdioItem:e,fdNumber:n,direction:i}):al({stdioItem:e,fdNumber:n}):e,aa=({stdioItem:e,stdioItem:{value:t,optionName:r},fdNumber:n,direction:i})=>{let a=ao({value:t,optionName:r,fdNumber:n,direction:i});if(void 0!==a)return a;if(nv(t,{checkOpen:!1}))throw TypeError(`The \`${r}: Stream\` option cannot both be an array and include a stream with synchronous methods.`);return e},ao=({value:e,optionName:t,fdNumber:r,direction:n})=>{let i=as(e,r);if(void 0!==i){if("output"===n)return{type:"fileNumber",value:i,optionName:t};if(eE.isatty(i))throw TypeError(`The \`${t}: ${ro(e)}\` option is invalid: it cannot be a TTY with synchronous methods.`);return{type:"uint8Array",value:m((0,na.readFileSync)(i)),optionName:t}}},as=(e,t)=>{if("inherit"===e)return t;if("number"==typeof e)return e;let r=N.indexOf(e);if(-1!==r)return r},al=({stdioItem:e,stdioItem:{value:t,optionName:r},fdNumber:n})=>"inherit"===t?{type:"nodeStream",value:au(n,t,r),optionName:r}:"number"==typeof t?{type:"nodeStream",value:au(t,t,r),optionName:r}:nv(t,{checkOpen:!1})?{type:"nodeStream",value:t,optionName:r}:e,au=(e,t,r)=>{let n=N[e];if(void 0===n)throw TypeError(`The \`${r}: ${t}\` option is invalid: no such standard stream.`);return n},ad=({input:e,inputFile:t},r)=>0===r?[...ac(e),...ah(t)]:[],ac=e=>void 0===e?[]:[{type:af(e),value:e,optionName:"input"}],af=e=>{if(nS(e,{checkOpen:!1}))return"nodeStream";if("string"==typeof e)return"string";if(b(e))return"uint8Array";throw Error("The `input` option must be a string, a Uint8Array or a Node.js Readable stream.")},ah=e=>void 0===e?[]:[{...ap(e),optionName:"inputFile"}],ap=e=>{if(iS(e))return{type:"fileUrl",value:e};if(ix(e))return{type:"filePath",value:{file:e}};throw Error("The `inputFile` option must be a file path string or a file URL.")},ab=e=>e.filter((t,r)=>e.every((e,n)=>t.value!==e.value||r>=n||"generator"===t.type||"asyncGenerator"===t.type)),am=({stdioItem:{type:e,value:t,optionName:r},direction:n,fileDescriptors:i,isSync:a})=>{let o=ay(i,e);if(0!==o.length){if(a){ag({otherStdioItems:o,type:e,value:t,optionName:r,direction:n});return}if(iN.has(e))return aw({otherStdioItems:o,type:e,value:t,optionName:r,direction:n});iU.has(e)&&a_({otherStdioItems:o,type:e,value:t,optionName:r})}},ay=(e,t)=>e.flatMap(({direction:e,stdioItems:r})=>r.filter(e=>e.type===t).map(t=>({...t,direction:e}))),ag=({otherStdioItems:e,type:t,value:r,optionName:n,direction:i})=>{iC.has(t)&&aw({otherStdioItems:e,type:t,value:r,optionName:n,direction:i})},aw=({otherStdioItems:e,type:t,value:r,optionName:n,direction:i})=>{let a=e.filter(e=>av(e,r));if(0!==a.length)return aS(a.find(e=>e.direction!==i),n,t),"output"===i?a[0].stream:void 0},av=({type:e,value:t},r)=>"filePath"===e?t.file===r.file:"fileUrl"===e?t.href===r.href:t===r,a_=({otherStdioItems:e,type:t,value:r,optionName:n})=>{aS(e.find(({value:{transform:e}})=>e===r.transform),n,t)},aS=(e,t,r)=>{if(void 0!==e)throw TypeError(`The \`${e.optionName}\` and \`${t}\` options must not target ${iW[r]} that is the same.`)},aE=(e,t,r,n)=>{let i=aO({initialFileDescriptors:i5(t,r,n).map((e,r)=>aT({stdioOption:e,fdNumber:r,options:t,isSync:n})),addProperties:e,options:t,isSync:n});return t.stdio=i.map(({stdioItems:e})=>a$(e)),i},aT=({stdioOption:e,fdNumber:t,options:r,isSync:n})=>{let i=W(t),{stdioItems:a,isStdioArray:o}=aR({stdioOption:e,fdNumber:t,options:r,optionName:i}),s=iZ(a,t,i),l=iG(a.map(e=>ai({stdioItem:e,isStdioArray:o,fdNumber:t,direction:s,isSync:n})),i,s,r),u=iV(l,s);return aA(l,u),{direction:s,objectMode:u,stdioItems:l}},aR=({stdioOption:e,fdNumber:t,options:r,optionName:n})=>{let i=ab([...(Array.isArray(e)?e:[e]).map(e=>ax(e,n)),...ad(r,t)]),a=i.length>1;return ak(i,a,n),aL(i),{stdioItems:i,isStdioArray:a}},ax=(e,t)=>({type:iu(e,t),value:e,optionName:t}),ak=(e,t,r)=>{if(0===e.length)throw TypeError(`The \`${r}\` option must not be an empty array.`);if(t){for(let{value:t,optionName:r}of e)if(aM.has(t))throw Error(`The \`${r}\` option must not include \`${t}\`.`)}},aM=new Set(["ignore","ipc"]),aL=e=>{for(let t of e)aD(t)},aD=({type:e,value:t,optionName:r})=>{if(iE(t))throw TypeError(`The \`${r}: URL\` option must use the \`file:\` scheme.
For example, you can use the \`pathToFileURL()\` method of the \`url\` core module.`);if(ik(e,t))throw TypeError(`The \`${r}: { file: '...' }\` option must be used instead of \`${r}: '...'\`.`)},aA=(e,t)=>{if(!t)return;let r=e.find(({type:e})=>iB.has(e));if(void 0!==r)throw TypeError(`The \`${r.optionName}\` option cannot use both files and transforms in objectMode.`)},aO=({initialFileDescriptors:e,addProperties:t,options:r,isSync:n})=>{let i=[];try{for(let a of e)i.push(aI({fileDescriptor:a,fileDescriptors:i,addProperties:t,options:r,isSync:n}));return i}catch(e){throw aP(i),e}},aI=({fileDescriptor:{direction:e,objectMode:t,stdioItems:r},fileDescriptors:n,addProperties:i,options:a,isSync:o})=>{let s=r.map(t=>aj({stdioItem:t,addProperties:i,direction:e,options:a,fileDescriptors:n,isSync:o}));return{direction:e,objectMode:t,stdioItems:s}},aj=({stdioItem:e,addProperties:t,direction:r,options:n,fileDescriptors:i,isSync:a})=>{let o=am({stdioItem:e,direction:r,fileDescriptors:i,isSync:a});return void 0!==o?{...e,stream:o}:{...e,...t[r][e.type](e,n)}},aP=e=>{for(let{stdioItems:t}of e)for(let{stream:e}of t)void 0===e||C(e)||e.destroy()},a$=e=>{if(e.length>1)return e.some(({value:e})=>"overlapped"===e)?"overlapped":"pipe";let[{type:t,value:r}]=e;return"native"===t?r:"pipe"},aB=(e,t)=>aE(aW,e,t,!0),aC=({type:e,optionName:t})=>{aN(t,iW[e])},aN=(e,t)=>{throw TypeError(`The \`${e}\` option cannot be ${t} with synchronous methods.`)},aU={generator(){},asyncGenerator:aC,webStream:aC,nodeStream:aC,webTransform:aC,duplex:aC,asyncIterable:aC,native:({optionName:e,value:t})=>(("ipc"===t||"overlapped"===t)&&aN(e,`"${t}"`),{})},aW={input:{...aU,fileUrl:({value:e})=>({contents:[m((0,na.readFileSync)(e))]}),filePath:({value:{file:e}})=>({contents:[m((0,na.readFileSync)(e))]}),fileNumber:aC,iterable:({value:e})=>({contents:[...e]}),string:({value:e})=>({contents:[e]}),uint8Array:({value:e})=>({contents:[e]})},output:{...aU,fileUrl:({value:e})=>({path:e}),filePath:({value:{file:e,append:t}})=>({path:e,append:t}),fileNumber:({value:e})=>({path:e}),iterable:aC,string:aC,uint8Array:aC}},aq=(e,{stripFinalNewline:t},r)=>aF(t,r)&&void 0!==e&&!Array.isArray(e)?nh(e):e,aF=(e,t)=>"all"===t?e[1]||e[2]:e[t];var aH=r(84492);let aV=(e,t,r,n)=>e||r?void 0:aY(t,n),aG=(e,t,r)=>r?e.flatMap(e=>az(e,t)):az(e,t),az=(e,t)=>{let{transform:r,final:n}=aY(t,{});return[...r(e),...n()]},aY=(e,t)=>(t.previousChunks="",{transform:aK.bind(void 0,t,e),final:aJ.bind(void 0,t)}),aK=function*(e,t,r){if("string"!=typeof r){yield r;return}let{previousChunks:n}=e,i=-1;for(let a=0;a<r.length;a+=1)if("\n"===r[a]){let o=aX(r,a,t,e),s=r.slice(i+1,a+1-o);n.length>0&&(s=a0(n,s),n=""),yield s,i=a}i!==r.length-1&&(n=a0(n,r.slice(i+1))),e.previousChunks=n},aX=(e,t,r,n)=>r?0:(n.isWindowsNewline=0!==t&&"\r"===e[t-1],n.isWindowsNewline?2:1),aJ=function*({previousChunks:e}){e.length>0&&(yield e)},aQ=({binary:e,preserveNewlines:t,readableObjectMode:r,state:n})=>e||t||r?void 0:{transform:aZ.bind(void 0,n)},aZ=function*({isWindowsNewline:e=!1},t){let{unixNewline:r,windowsNewline:n,LF:i,concatBytes:a}="string"==typeof t?a1:a2;if(t.at(-1)===i){yield t;return}yield a(t,e?n:r)},a0=(e,t)=>`${e}${t}`,a1={windowsNewline:"\r\n",unixNewline:"\n",LF:"\n",concatBytes:a0},a2={windowsNewline:new Uint8Array([13,10]),unixNewline:new Uint8Array([10]),LF:10,concatBytes:(e,t)=>{let r=new Uint8Array(e.length+t.length);return r.set(e,0),r.set(t,e.length),r}};var a3=r(72254);let a8=(e,t)=>e?void 0:a6.bind(void 0,t),a6=function*(e,t){if("string"!=typeof t&&!b(t)&&!a3.Buffer.isBuffer(t))throw TypeError(`The \`${e}\` option's transform must use "objectMode: true" to receive as input: ${typeof t}.`);yield t},a4=(e,t)=>e?a9.bind(void 0,t):a5.bind(void 0,t),a9=function*(e,t){a7(e,t),yield t},a5=function*(e,t){if(a7(e,t),"string"!=typeof t&&!b(t))throw TypeError(`The \`${e}\` option's function must yield a string or an Uint8Array, not ${typeof t}.`);yield t},a7=(e,t)=>{if(null==t)throw TypeError(`The \`${e}\` option's function must not call \`yield ${t}\`.
Instead, \`yield\` should either be called with a value, or not be called at all. For example:
  if (condition) { yield value; }`)},oe=(e,t,r)=>{if(r)return;if(e)return{transform:ot.bind(void 0,new TextEncoder)};let n=new f.StringDecoder(t);return{transform:or.bind(void 0,n),final:on.bind(void 0,n)}},ot=function*(e,t){a3.Buffer.isBuffer(t)?yield m(t):"string"==typeof t?yield e.encode(t):yield t},or=function*(e,t){yield b(t)?e.write(t):t},on=function*(e){let t=e.end();""!==t&&(yield t)},oi=(0,$.callbackify)(async(e,t,r,n)=>{t.currentIterable=e(...r);try{for await(let e of t.currentIterable)n.push(e)}finally{delete t.currentIterable}}),oa=async function*(e,t,r){if(r===t.length){yield e;return}let{transform:n=ou}=t[r];for await(let i of n(e))yield*oa(i,t,r+1)},oo=async function*(e){for(let[t,{final:r}]of Object.entries(e))yield*os(r,Number(t),e)},os=async function*(e,t,r){if(void 0!==e)for await(let n of e())yield*oa(n,r,t+1)},ol=(0,$.callbackify)(async({currentIterable:e},t)=>{if(void 0!==e){await (t?e.throw(t):e.return());return}if(t)throw t}),ou=function*(e){yield e},od=(e,t,r,n)=>{try{for(let n of e(...t))r.push(n);n()}catch(e){n(e)}},oc=(e,t)=>[...t.flatMap(t=>[...of(t,e,0)]),...oh(e)],of=function*(e,t,r){if(r===t.length){yield e;return}let{transform:n=ob}=t[r];for(let i of n(e))yield*of(i,t,r+1)},oh=function*(e){for(let[t,{final:r}]of Object.entries(e))yield*op(r,Number(t),e)},op=function*(e,t,r){if(void 0!==e)for(let n of e())yield*of(n,r,t+1)},ob=function*(e){yield e},om=({value:e,value:{transform:t,final:r,writableObjectMode:n,readableObjectMode:i},optionName:a},{encoding:o})=>{let s={},l=og(e,o,a),u=iw(t),d=iw(r),c=u?oi.bind(void 0,oa,s):od.bind(void 0,of),f=u||d?oi.bind(void 0,oo,s):od.bind(void 0,oh),h=u||d?ol.bind(void 0,s):void 0;return{stream:new aH.Transform({writableObjectMode:n,writableHighWaterMark:(0,aH.getDefaultHighWaterMark)(n),readableObjectMode:i,readableHighWaterMark:(0,aH.getDefaultHighWaterMark)(i),transform(e,t,r){c([e,l,0],this,r)},flush(e){f([l],this,e)},destroy:h})}},oy=(e,t,r,n)=>{let i=t.filter(({type:e})=>"generator"===e);for(let{value:t,optionName:a}of n?i.reverse():i)e=oc(og(t,r,a),e);return e},og=({transform:e,final:t,binary:r,writableObjectMode:n,readableObjectMode:i,preserveNewlines:a},o,s)=>{let l={};return[{transform:a8(n,s)},oe(r,o,n),aV(r,a,n,l),{transform:e,final:t},{transform:a4(i,s)},aQ({binary:r,preserveNewlines:a,readableObjectMode:i,state:l})].filter(Boolean)},ow=(e,t)=>{for(let r of ov(e))o_(e,r,t)},ov=e=>new Set(Object.entries(e).filter(([,{direction:e}])=>"input"===e).map(([e])=>Number(e))),o_=(e,t,r)=>{let{stdioItems:n}=e[t],i=n.filter(({contents:e})=>void 0!==e);if(0===i.length)return;if(0!==t){let[{type:e,optionName:t}]=i;throw TypeError(`Only the \`stdin\` option, not \`${t}\`, can be ${iW[e]} with synchronous methods.`)}let a=i.map(({contents:e})=>e).map(e=>oS(e,n));r.input=E(a)},oS=(e,t)=>{let r=oy(e,t,"utf8",!0);return oE(r),E(r)},oE=e=>{let t=e.find(e=>"string"!=typeof e&&!b(e));if(void 0!==t)throw TypeError(`The \`stdin\` option is invalid: when passing objects as input, a transform must be used to serialize them to strings or Uint8Arrays: ${t}.`)},oT=({stdioItems:e,encoding:t,verboseInfo:r,fdNumber:n})=>"all"!==n&&en(r,n)&&!ne.has(t)&&oR(n)&&(e.some(({type:e,value:t})=>"native"===e&&ox.has(t))||e.every(({type:e})=>i$.has(e))),oR=e=>1===e||2===e,ox=new Set(["pipe","overlapped"]),ok=async(e,t,r,n)=>{for await(let i of e)oL(t)||oD(i,r,n)},oM=(e,t,r)=>{for(let n of e)oD(n,t,r)},oL=e=>e._readableState.pipes.length>0,oD=(e,t,r)=>{eU({type:"output",verboseMessage:eH(e),fdNumber:t,verboseInfo:r})},oA=({fileDescriptors:e,syncResult:{output:t},options:r,isMaxBuffer:n,verboseInfo:i})=>{if(null===t)return{output:Array.from({length:3})};let a={},o=new Set([]);return{output:t.map((t,s)=>oO({result:t,fileDescriptors:e,fdNumber:s,state:a,outputFiles:o,isMaxBuffer:n,verboseInfo:i},r)),...a}},oO=({result:e,fileDescriptors:t,fdNumber:r,state:n,outputFiles:i,isMaxBuffer:a,verboseInfo:o},{buffer:s,encoding:l,lines:u,stripFinalNewline:d,maxBuffer:c})=>{if(null===e)return;let f=m(nK(e,a,c)),{stdioItems:h,objectMode:p}=t[r],{serializedResult:b,finalResult:y=b}=oj({chunks:oI([f],h,l,n),objectMode:p,encoding:l,lines:u,stripFinalNewline:d,fdNumber:r});oP({serializedResult:b,fdNumber:r,state:n,verboseInfo:o,encoding:l,stdioItems:h,objectMode:p});let g=s[r]?y:void 0;try{return void 0===n.error&&o$(b,h,i),g}catch(e){return n.error=e,g}},oI=(e,t,r,n)=>{try{return oy(e,t,r,!1)}catch(t){return n.error=t,e}},oj=({chunks:e,objectMode:t,encoding:r,lines:n,stripFinalNewline:i,fdNumber:a})=>{if(t)return{serializedResult:e};if("buffer"===r)return{serializedResult:E(e)};let o=_(e,r);return n[a]?{serializedResult:o,finalResult:aG(o,!i[a],t)}:{serializedResult:o}},oP=({serializedResult:e,fdNumber:t,state:r,verboseInfo:n,encoding:i,stdioItems:a,objectMode:o})=>{if(!oT({stdioItems:a,encoding:i,verboseInfo:n,fdNumber:t}))return;let s=aG(e,!1,o);try{oM(s,t,n)}catch(e){r.error??=e}},o$=(e,t,r)=>{for(let{path:n,append:i}of t.filter(({type:e})=>iB.has(e))){let t="string"==typeof n?n:n.toString();i||r.has(t)?(0,na.appendFileSync)(n,e):(r.add(t),(0,na.writeFileSync)(n,e))}},oB=([,e,t],r)=>r.all?void 0===e?t:void 0===t?e:Array.isArray(e)?Array.isArray(t)?[...e,...t]:[...e,aq(t,r,"all")]:Array.isArray(t)?[aq(e,r,"all"),...t]:b(e)&&b(t)?R([e,t]):`${e}${t}`:void 0,oC=async(e,t)=>{let[r,n]=await oN(e);return t.isForcefullyTerminated??=!1,[r,n]},oN=async e=>{let[t,r]=await Promise.allSettled([(0,tP.once)(e,"spawn"),(0,tP.once)(e,"exit")]);return"rejected"===t.status?[]:"rejected"===r.status?oU(e):r.value},oU=async e=>{try{return await (0,tP.once)(e,"exit")}catch{return oU(e)}},oW=async e=>{let[t,r]=await e;if(!oq(t,r)&&oF(t,r))throw new te;return[t,r]},oq=(e,t)=>void 0===e&&void 0===t,oF=(e,t)=>0!==e||null!==t,oH=({error:e,status:t,signal:r,output:n},{maxBuffer:i})=>{let a=oV(e,t,r),o=a?.code==="ETIMEDOUT",s=nY(a,n,i);return{resultError:a,exitCode:t,signal:r,timedOut:o,isMaxBuffer:s}},oV=(e,t,r)=>void 0!==e?e:oF(t,r)?new te:void 0,oG=(e,t,r)=>{let{file:n,commandArguments:i,command:a,escapedCommand:o,startTime:s,verboseInfo:l,options:u,fileDescriptors:d}=oz(e,t,r);return il(oJ({file:n,commandArguments:i,options:u,command:a,escapedCommand:o,verboseInfo:l,fileDescriptors:d,startTime:s}),l,u)},oz=(e,t,r)=>{let{command:n,escapedCommand:i,startTime:a,verboseInfo:o}=eZ(e,t,r),{file:s,commandArguments:l,options:u}=nu(e,t,oY(r));oK(u);let d=aB(u,o);return{file:s,commandArguments:l,command:n,escapedCommand:i,startTime:a,verboseInfo:o,options:u,fileDescriptors:d}},oY=e=>e.node&&!e.ipc?{...e,ipc:!1}:e,oK=({ipc:e,ipcInput:t,detached:r,cancelSignal:n})=>{t&&oX("ipcInput"),e&&oX("ipc: true"),r&&oX("detached: true"),n&&oX("cancelSignal")},oX=e=>{throw TypeError(`The "${e}" option cannot be used with synchronous methods.`)},oJ=({file:e,commandArguments:t,options:r,command:n,escapedCommand:i,verboseInfo:a,fileDescriptors:o,startTime:s})=>{let l=oQ({file:e,commandArguments:t,options:r,command:n,escapedCommand:i,fileDescriptors:o,startTime:s});if(l.failed)return l;let{resultError:u,exitCode:d,signal:c,timedOut:f,isMaxBuffer:h}=oH(l,r),{output:p,error:b=u}=oA({fileDescriptors:o,syncResult:l,options:r,isMaxBuffer:h,verboseInfo:a});return o0({error:b,exitCode:d,signal:c,timedOut:f,isMaxBuffer:h,stdio:p.map((e,t)=>aq(e,r,t)),all:aq(oB(p,r),r,"all"),options:r,command:n,escapedCommand:i,startTime:s})},oQ=({file:e,commandArguments:t,options:r,command:n,escapedCommand:i,fileDescriptors:a,startTime:o})=>{try{ow(a,r);let n=oZ(r);return(0,c.spawnSync)(...nf(e,t,n))}catch(e){return n6({error:e,command:n,escapedCommand:i,fileDescriptors:a,options:r,startTime:o,isSync:!0})}},oZ=({encoding:e,maxBuffer:t,...r})=>({...r,encoding:"buffer",maxBuffer:nX(t)}),o0=({error:e,exitCode:t,signal:r,timedOut:n,isMaxBuffer:i,stdio:a,all:o,options:s,command:l,escapedCommand:u,startTime:d})=>void 0===e?n8({command:l,escapedCommand:u,stdio:a,all:o,ipcOutput:[],options:s,startTime:d}):n4({error:e,command:l,escapedCommand:u,timedOut:n,isCanceled:!1,isGracefullyCanceled:!1,isMaxBuffer:i,isForcefullyTerminated:!1,exitCode:t,signal:r,stdio:a,all:o,ipcOutput:[],options:s,startTime:d,isSync:!0}),o1=({anyProcess:e,channel:t,isSubprocess:r,ipc:n},{reference:i=!0,filter:a}={})=>(tU({methodName:"getOneMessage",isSubprocess:r,ipc:n,isConnected:rv(e)}),o2({anyProcess:e,channel:t,isSubprocess:r,filter:a,reference:i})),o2=async({anyProcess:e,channel:t,isSubprocess:r,filter:n,reference:i})=>{rl(t,i);let a=ry(e,t,r),o=new AbortController;try{return await Promise.race([o3(a,n,o),o8(a,r,o),o6(a,r,o)])}catch(t){throw t8(e),t}finally{o.abort(),rd(t,i)}},o3=async(e,t,{signal:r})=>{if(void 0===t){let[t]=await (0,tP.once)(e,"message",{signal:r});return t}for await(let[n]of(0,tP.on)(e,"message",{signal:r}))if(t(n))return n},o8=async(e,t,{signal:r})=>{await (0,tP.once)(e,"disconnect",{signal:r}),tF(t)},o6=async(e,t,{signal:r})=>{let[n]=await (0,tP.once)(e,"strict:error",{signal:r});throw tV(n,t)},o4=({anyProcess:e,channel:t,isSubprocess:r,ipc:n},{reference:i=!0}={})=>o9({anyProcess:e,channel:t,isSubprocess:r,ipc:n,shouldAwait:!r,reference:i}),o9=({anyProcess:e,channel:t,isSubprocess:r,ipc:n,shouldAwait:i,reference:a})=>{tU({methodName:"getEachMessage",isSubprocess:r,ipc:n,isConnected:rv(e)}),rl(t,a);let o=ry(e,t,r),s=new AbortController,l={};return o5(e,o,s),o7({ipcEmitter:o,isSubprocess:r,controller:s,state:l}),se({anyProcess:e,channel:t,ipcEmitter:o,isSubprocess:r,shouldAwait:i,controller:s,state:l,reference:a})},o5=async(e,t,r)=>{try{await (0,tP.once)(t,"disconnect",{signal:r.signal}),r.abort()}catch{}},o7=async({ipcEmitter:e,isSubprocess:t,controller:r,state:n})=>{try{let[i]=await (0,tP.once)(e,"strict:error",{signal:r.signal});n.error=tV(i,t),r.abort()}catch{}},se=async function*({anyProcess:e,channel:t,ipcEmitter:r,isSubprocess:n,shouldAwait:i,controller:a,state:o,reference:s}){try{for await(let[e]of(0,tP.on)(r,"message",{signal:a.signal}))st(o),yield e}catch{st(o)}finally{a.abort(),rd(t,s),n||t8(e),i&&await e}},st=({error:e})=>{if(e)throw e},sr=(e,{ipc:t})=>{Object.assign(e,sn(e,!1,t))},sn=(e,t,r)=>({sendMessage:rB.bind(void 0,{anyProcess:e,channel:e.channel,isSubprocess:t,ipc:r}),getOneMessage:o1.bind(void 0,{anyProcess:e,channel:e.channel,isSubprocess:t,ipc:r}),getEachMessage:o4.bind(void 0,{anyProcess:e,channel:e.channel,isSubprocess:t,ipc:r})}),si=({error:e,command:t,escapedCommand:r,fileDescriptors:n,options:i,startTime:a,verboseInfo:o})=>{aP(n);let s=new c.ChildProcess;return sa(s,n),Object.assign(s,{readable:ss,writable:sl,duplex:su}),{subprocess:s,promise:sd(n6({error:e,command:t,escapedCommand:r,fileDescriptors:n,options:i,startTime:a,isSync:!1}),o,i)}},sa=(e,t)=>{let r=so(),n=so(),i=so(),a=Array.from({length:t.length-3},so),o=so(),s=[r,n,i,...a];Object.assign(e,{stdin:r,stdout:n,stderr:i,all:o,stdio:s})},so=()=>{let e=new aH.PassThrough;return e.end(),e},ss=()=>new aH.Readable({read(){}}),sl=()=>new aH.Writable({write(){}}),su=()=>new aH.Duplex({read(){},write(){}}),sd=async(e,t,r)=>il(e,t,r),sc=(e,t)=>aE(sp,e,t,!1),sf=({type:e,optionName:t})=>{throw TypeError(`The \`${t}\` option cannot be ${iW[e]}.`)},sh={fileNumber:sf,generator:om,asyncGenerator:om,nodeStream:({value:e})=>({stream:e}),webTransform:({value:{transform:e,writableObjectMode:t,readableObjectMode:r}})=>({stream:aH.Duplex.fromWeb(e,{objectMode:t||r})}),duplex:({value:{transform:e}})=>({stream:e}),native(){}},sp={input:{...sh,fileUrl:({value:e})=>({stream:(0,na.createReadStream)(e)}),filePath:({value:{file:e}})=>({stream:(0,na.createReadStream)(e)}),webStream:({value:e})=>({stream:aH.Readable.fromWeb(e)}),iterable:({value:e})=>({stream:aH.Readable.from(e)}),asyncIterable:({value:e})=>({stream:aH.Readable.from(e)}),string:({value:e})=>({stream:aH.Readable.from(e)}),uint8Array:({value:e})=>({stream:aH.Readable.from(a3.Buffer.from(e))})},output:{...sh,fileUrl:({value:e})=>({stream:(0,na.createWriteStream)(e)}),filePath:({value:{file:e,append:t}})=>({stream:(0,na.createWriteStream)(e,t?{flags:"a"}:{})}),webStream:({value:e})=>({stream:aH.Writable.fromWeb(e)}),iterable:sf,asyncIterable:sf,string:sf,uint8Array:sf}};var sb=r(76402);function sm(e){if(!Array.isArray(e))throw TypeError(`Expected an array, got \`${typeof e}\`.`);for(let t of e)sS(t);let t=e.some(({readableObjectMode:e})=>e),r=sy(e,t),n=new sg({objectMode:t,writableHighWaterMark:r,readableHighWaterMark:r});for(let t of e)n.add(t);return n}let sy=(e,t)=>0===e.length?(0,aH.getDefaultHighWaterMark)(t):Math.max(...e.filter(({readableObjectMode:e})=>e===t).map(({readableHighWaterMark:e})=>e));class sg extends aH.PassThrough{#o=new Set([]);#s=new Set([]);#l=new Set([]);#u;#d=Symbol("unpipe");#c=new WeakMap;add(e){if(sS(e),this.#o.has(e))return;this.#o.add(e),this.#u??=sw(this,this.#o,this.#d);let t=sE({passThroughStream:this,stream:e,streams:this.#o,ended:this.#s,aborted:this.#l,onFinished:this.#u,unpipeEvent:this.#d});this.#c.set(e,t),e.pipe(this,{end:!1})}async remove(e){if(sS(e),!this.#o.has(e))return!1;let t=this.#c.get(e);return void 0!==t&&(this.#c.delete(e),e.unpipe(this),await t,!0)}}let sw=async(e,t,r)=>{sI(e,sj);let n=new AbortController;try{await Promise.race([sv(e,n),s_(e,t,r,n)])}finally{n.abort(),sI(e,-sj)}},sv=async(e,{signal:t})=>{try{await (0,sb.finished)(e,{signal:t,cleanup:!0})}catch(t){throw sM(e,t),t}},s_=async(e,t,r,{signal:n})=>{for await(let[i]of(0,tP.on)(e,"unpipe",{signal:n}))t.has(i)&&i.emit(r)},sS=e=>{if("function"!=typeof e?.pipe)throw TypeError(`Expected a readable stream, got: \`${typeof e}\`.`)},sE=async({passThroughStream:e,stream:t,streams:r,ended:n,aborted:i,onFinished:a,unpipeEvent:o})=>{sI(e,sP);let s=new AbortController;try{await Promise.race([sT(a,t,s),sR({passThroughStream:e,stream:t,streams:r,ended:n,aborted:i,controller:s}),sx({stream:t,streams:r,ended:n,aborted:i,unpipeEvent:o,controller:s})])}finally{s.abort(),sI(e,-sP)}r.size>0&&r.size===n.size+i.size&&(0===n.size&&i.size>0?sD(e):sk(e))},sT=async(e,t,{signal:r})=>{try{await e,r.aborted||sD(t)}catch(e){r.aborted||sM(t,e)}},sR=async({passThroughStream:e,stream:t,streams:r,ended:n,aborted:i,controller:{signal:a}})=>{try{await (0,sb.finished)(t,{signal:a,cleanup:!0,readable:!0,writable:!1}),r.has(t)&&n.add(t)}catch(n){if(a.aborted||!r.has(t))return;sL(n)?i.add(t):sA(e,n)}},sx=async({stream:e,streams:t,ended:r,aborted:n,unpipeEvent:i,controller:{signal:a}})=>{if(await (0,tP.once)(e,i,{signal:a}),!e.readable)return(0,tP.once)(a,"abort",{signal:a});t.delete(e),r.delete(e),n.delete(e)},sk=e=>{e.writable&&e.end()},sM=(e,t)=>{sL(t)?sD(e):sA(e,t)},sL=e=>e?.code==="ERR_STREAM_PREMATURE_CLOSE",sD=e=>{(e.readable||e.writable)&&e.destroy()},sA=(e,t)=>{e.destroyed||(e.once("error",sO),e.destroy(t))},sO=()=>{},sI=(e,t)=>{let r=e.getMaxListeners();0!==r&&r!==Number.POSITIVE_INFINITY&&e.setMaxListeners(r+t)},sj=2,sP=1,s$=(e,t)=>{e.pipe(t),sB(e,t),sN(e,t)},sB=async(e,t)=>{if(!(C(e)||C(t))){try{await (0,sb.finished)(e,{cleanup:!0,readable:!0,writable:!1})}catch{}sC(t)}},sC=e=>{e.writable&&e.end()},sN=async(e,t)=>{if(!(C(e)||C(t))){try{await (0,sb.finished)(t,{cleanup:!0,readable:!1,writable:!0})}catch{}sU(e)}},sU=e=>{e.readable&&e.destroy()},sW=(e,t,r)=>{let n=new Map;for(let[i,{stdioItems:a,direction:o}]of Object.entries(t)){for(let{stream:t}of a.filter(({type:e})=>i$.has(e)))sq(e,t,o,i);for(let{stream:t}of a.filter(({type:e})=>!i$.has(e)))sH({subprocess:e,stream:t,direction:o,fdNumber:i,pipeGroups:n,controller:r})}for(let[e,t]of n.entries())s$(1===t.length?t[0]:sm(t),e)},sq=(e,t,r,n)=>{"output"===r?s$(e.stdio[n],t):s$(t,e.stdio[n]);let i=sF[n];void 0!==i&&(e[i]=t),e.stdio[n]=t},sF=["stdin","stdout","stderr"],sH=({subprocess:e,stream:t,direction:r,fdNumber:n,pipeGroups:i,controller:a})=>{if(void 0===t)return;sV(t,a);let[o,s]="output"===r?[t,e.stdio[n]]:[e.stdio[n],t],l=i.get(o)??[];i.set(o,[...l,s])},sV=(e,{signal:t})=>{C(e)&&rs(e,sG,t)},sG=2,sz=[];sz.push("SIGHUP","SIGINT","SIGTERM"),"win32"!==process.platform&&sz.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&sz.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT");let sY=e=>!!e&&"object"==typeof e&&"function"==typeof e.removeListener&&"function"==typeof e.emit&&"function"==typeof e.reallyExit&&"function"==typeof e.listeners&&"function"==typeof e.kill&&"number"==typeof e.pid&&"function"==typeof e.on,sK=Symbol.for("signal-exit emitter"),sX=globalThis,sJ=Object.defineProperty.bind(Object);class sQ{emitted={afterExit:!1,exit:!1};listeners={afterExit:[],exit:[]};count=0;id=Math.random();constructor(){if(sX[sK])return sX[sK];sJ(sX,sK,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(e,t){this.listeners[e].push(t)}removeListener(e,t){let r=this.listeners[e],n=r.indexOf(t);-1!==n&&(0===n&&1===r.length?r.length=0:r.splice(n,1))}emit(e,t,r){if(this.emitted[e])return!1;this.emitted[e]=!0;let n=!1;for(let i of this.listeners[e])n=!0===i(t,r)||n;return"exit"===e&&(n=this.emit("afterExit",t,r)||n),n}}class sZ{}class s0 extends sZ{onExit(){return()=>{}}load(){}unload(){}}class s1 extends sZ{#f="win32"===s2.platform?"SIGINT":"SIGHUP";#h=new sQ;#p;#b;#m;#y={};#g=!1;constructor(e){for(let t of(super(),this.#p=e,this.#y={},sz))this.#y[t]=()=>{let r=this.#p.listeners(t),{count:n}=this.#h;if("object"==typeof e.__signal_exit_emitter__&&"number"==typeof e.__signal_exit_emitter__.count&&(n+=e.__signal_exit_emitter__.count),r.length===n){this.unload();let r=this.#h.emit("exit",null,t),n="SIGHUP"===t?this.#f:t;r||e.kill(e.pid,n)}};this.#m=e.reallyExit,this.#b=e.emit}onExit(e,t){if(!sY(this.#p))return()=>{};!1===this.#g&&this.load();let r=t?.alwaysLast?"afterExit":"exit";return this.#h.on(r,e),()=>{this.#h.removeListener(r,e),0===this.#h.listeners.exit.length&&0===this.#h.listeners.afterExit.length&&this.unload()}}load(){if(!this.#g){for(let e of(this.#g=!0,this.#h.count+=1,sz))try{let t=this.#y[e];t&&this.#p.on(e,t)}catch(e){}this.#p.emit=(e,...t)=>this.#w(e,...t),this.#p.reallyExit=e=>this.#v(e)}}unload(){this.#g&&(this.#g=!1,sz.forEach(e=>{let t=this.#y[e];if(!t)throw Error("Listener not defined for signal: "+e);try{this.#p.removeListener(e,t)}catch(e){}}),this.#p.emit=this.#b,this.#p.reallyExit=this.#m,this.#h.count-=1)}#v(e){return sY(this.#p)?(this.#p.exitCode=e||0,this.#h.emit("exit",this.#p.exitCode,null),this.#m.call(this.#p,this.#p.exitCode)):0}#w(e,...t){let r=this.#b;if(!("exit"===e&&sY(this.#p)))return r.call(this.#p,e,...t);{"number"==typeof t[0]&&(this.#p.exitCode=t[0]);let n=r.call(this.#p,e,...t);return this.#h.emit("exit",this.#p.exitCode,null),n}}}let s2=globalThis.process,{onExit:s3,load:s8,unload:s6}=(n=sY(s2)?new s1(s2):new s0,{onExit:(e,t)=>n.onExit(e,t),load:()=>n.load(),unload:()=>n.unload()}),s4=(e,{cleanup:t,detached:r},{signal:n})=>{if(!t||r)return;let i=s3(()=>{e.kill()});(0,tP.addAbortListener)(n,()=>{i()})},s9=({source:e,sourcePromise:t,boundOptions:r,createNested:n},...i)=>{let a=eJ(),{destination:o,destinationStream:s,destinationError:l,from:u,unpipeSignal:d}=s5(r,n,i),{sourceStream:c,sourceError:f}=lt(e,u),{options:h,fileDescriptors:p}=t5.get(e);return{sourcePromise:t,sourceStream:c,sourceOptions:h,sourceError:f,destination:o,destinationStream:s,destinationError:l,unpipeSignal:d,fileDescriptors:p,startTime:a}},s5=(e,t,r)=>{try{let{destination:n,pipeOptions:{from:i,to:a,unpipeSignal:o}={}}=s7(e,t,...r),s=t4(n,a);return{destination:n,destinationStream:s,from:i,unpipeSignal:o}}catch(e){return{destinationError:e}}},s7=(e,t,r,...n)=>{if(Array.isArray(r))return{destination:t(le,e)(r,...n),pipeOptions:e};if("string"==typeof r||r instanceof URL||l(r)){if(Object.keys(e).length>0)throw TypeError('Please use .pipe("file", ..., options) or .pipe(execa("file", ..., options)) instead of .pipe(options)("file", ...).');let[i,a,o]=d(r,...n);return{destination:t(le)(i,a,o),pipeOptions:o}}if(t5.has(r)){if(Object.keys(e).length>0)throw TypeError("Please use .pipe(options)`command` or .pipe($(options)`command`) instead of .pipe(options)($`command`).");return{destination:r,pipeOptions:n[0]}}throw TypeError(`The first argument must be a template string, an options object, or an Execa subprocess: ${r}`)},le=({options:e})=>({options:{...e,stdin:"pipe",piped:!0}}),lt=(e,t)=>{try{return{sourceStream:t9(e,t)}}catch(e){return{sourceError:e}}},lr=({sourceStream:e,sourceError:t,destinationStream:r,destinationError:n,fileDescriptors:i,sourceOptions:a,startTime:o})=>{let s=ln({sourceStream:e,sourceError:t,destinationStream:r,destinationError:n});if(void 0!==s)throw li({error:s,fileDescriptors:i,sourceOptions:a,startTime:o})},ln=({sourceStream:e,sourceError:t,destinationStream:r,destinationError:n})=>void 0!==t&&void 0!==n?n:void 0!==n?(sU(e),n):void 0!==t?(sC(r),t):void 0,li=({error:e,fileDescriptors:t,sourceOptions:r,startTime:n})=>n6({error:e,command:la,escapedCommand:la,fileDescriptors:t,options:r,startTime:n,isSync:!1}),la="source.pipe(destination)",lo=async e=>{let[{status:t,reason:r,value:n=r},{status:i,reason:a,value:o=a}]=await e;if(o.pipedFrom.includes(n)||o.pipedFrom.push(n),"rejected"===i)throw o;if("rejected"===t)throw n;return o},ls=(e,t,r)=>{let n=lc.has(t)?lu(e,t):ll(e,t);return rs(e,lf,r.signal),rs(t,lh,r.signal),ld(t),n},ll=(e,t)=>{let r=sm([e]);return s$(r,t),lc.set(t,r),r},lu=(e,t)=>{let r=lc.get(t);return r.add(e),r},ld=async e=>{try{await (0,sb.finished)(e,{cleanup:!0,readable:!1,writable:!0})}catch{}lc.delete(e)},lc=new WeakMap,lf=2,lh=1,lp=(e,t)=>void 0===e?[]:[lb(e,t)],lb=async(e,{sourceStream:t,mergedStream:r,fileDescriptors:n,sourceOptions:i,startTime:a})=>{throw await (0,$.aborted)(e,t),await r.remove(t),li({error:Error("Pipe canceled by `unpipeSignal` option."),fileDescriptors:n,sourceOptions:i,startTime:a})},lm=(e,...t)=>{if(i(t[0]))return lm.bind(void 0,{...e,boundOptions:{...e.boundOptions,...t[0]}});let{destination:r,...n}=s9(e,...t),a=ly({...n,destination:r});return a.pipe=lm.bind(void 0,{...e,source:r,sourcePromise:a,boundOptions:{}}),a},ly=async({sourcePromise:e,sourceStream:t,sourceOptions:r,sourceError:n,destination:i,destinationStream:a,destinationError:o,unpipeSignal:s,fileDescriptors:l,startTime:u})=>{let d=lg(e,i);lr({sourceStream:t,sourceError:n,destinationStream:a,destinationError:o,fileDescriptors:l,sourceOptions:r,startTime:u});let c=new AbortController;try{let e=ls(t,a,c);return await Promise.race([lo(d),...lp(s,{sourceStream:t,mergedStream:e,sourceOptions:r,fileDescriptors:l,startTime:u})])}finally{c.abort()}},lg=(e,t)=>Promise.allSettled([e,t]),lw=e=>e,lv=()=>void 0,l_=({contents:e})=>e,lS=e=>{throw Error(`Streams in object mode are not supported: ${String(e)}`)},lE=e=>e.length;async function lT(e,t){return n$(e,lR,t)}let lR={init:()=>({contents:[]}),convertChunk:{string:lw,buffer:lw,arrayBuffer:lw,dataView:lw,typedArray:lw,others:lw},getSize:()=>1,truncateChunk:lv,addChunk:(e,{contents:t})=>(t.push(e),t),getFinalChunk:lv,finalize:l_};async function lx(e,t){return n$(e,lP,t)}let lk=new TextEncoder,lM=e=>new Uint8Array(e),lL=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),lD=(e,t)=>{if(t<=e.byteLength)return e;let r=new ArrayBuffer(lO(t));return new Uint8Array(r).set(new Uint8Array(e),0),r},lA=(e,t)=>{if(t<=e.maxByteLength)return e.resize(t),e;let r=new ArrayBuffer(t,{maxByteLength:lO(t)});return new Uint8Array(r).set(new Uint8Array(e),0),r},lO=e=>lI**Math.ceil(Math.log(e)/Math.log(lI)),lI=2,lj=()=>"resize"in ArrayBuffer.prototype,lP={init:()=>({contents:new ArrayBuffer(0)}),convertChunk:{string:e=>lk.encode(e),buffer:lM,arrayBuffer:lM,dataView:lL,typedArray:lL,others:lS},getSize:lE,truncateChunk:(e,t)=>e.slice(0,t),addChunk:(e,{contents:t,length:r},n)=>{let i=lj()?lA(t,n):lD(t,n);return new Uint8Array(i).set(e,r),i},getFinalChunk:lv,finalize:({contents:e,length:t})=>lj()?e:e.slice(0,t)};async function l$(e,t){return n$(e,lC,t)}let lB=(e,{textDecoder:t})=>t.decode(e,{stream:!0}),lC={init:()=>({contents:"",textDecoder:new TextDecoder}),convertChunk:{string:lw,buffer:lB,arrayBuffer:lB,dataView:lB,typedArray:lB,others:lS},getSize:lE,truncateChunk:(e,t)=>e.slice(0,t),addChunk:(e,{contents:t})=>t+e,getFinalChunk:({textDecoder:e})=>{let t=e.decode();return""===t?void 0:t},finalize:l_},lN=({subprocessStdout:e,subprocess:t,binary:r,shouldEncode:n,encoding:i,preserveNewlines:a})=>{let o=new AbortController;return lU(t,o),lF({stream:e,controller:o,binary:r,shouldEncode:!e.readableObjectMode&&n,encoding:i,shouldSplit:!e.readableObjectMode,preserveNewlines:a})},lU=async(e,t)=>{try{await e}catch{}finally{t.abort()}},lW=({stream:e,onStreamEnd:t,lines:r,encoding:n,stripFinalNewline:i,allMixed:a})=>{let o=new AbortController;lq(t,o,e);let s=e.readableObjectMode&&!a;return lF({stream:e,controller:o,binary:"buffer"===n,shouldEncode:!s,encoding:n,shouldSplit:!s&&r,preserveNewlines:!i})},lq=async(e,t,r)=>{try{await e}catch{r.destroy()}finally{t.abort()}},lF=({stream:e,controller:t,binary:r,shouldEncode:n,encoding:i,shouldSplit:a,preserveNewlines:o})=>lG({onStdoutChunk:(0,tP.on)(e,"data",{signal:t.signal,highWaterMark:lV,highWatermark:lV}),controller:t,binary:r,shouldEncode:n,encoding:i,shouldSplit:a,preserveNewlines:o}),lH=(0,aH.getDefaultHighWaterMark)(!0),lV=lH,lG=async function*({onStdoutChunk:e,controller:t,binary:r,shouldEncode:n,encoding:i,shouldSplit:a,preserveNewlines:o}){let s=lz({binary:r,shouldEncode:n,encoding:i,shouldSplit:a,preserveNewlines:o});try{for await(let[t]of e)yield*of(t,s,0)}catch(e){if(!t.signal.aborted)throw e}finally{yield*oh(s)}},lz=({binary:e,shouldEncode:t,encoding:r,shouldSplit:n,preserveNewlines:i})=>[oe(e,r,!t),aV(e,i,!n,{})].filter(Boolean),lY=async({stream:e,onStreamEnd:t,fdNumber:r,encoding:n,buffer:i,maxBuffer:a,lines:o,allMixed:s,stripFinalNewline:l,verboseInfo:u,streamInfo:d})=>{let c=lK({stream:e,onStreamEnd:t,fdNumber:r,encoding:n,allMixed:s,verboseInfo:u,streamInfo:d});if(!i){await Promise.all([lX(e),c]);return}let f=lW({stream:e,onStreamEnd:t,lines:o,encoding:n,stripFinalNewline:aF(l,r),allMixed:s}),[h]=await Promise.all([lJ({stream:e,iterable:f,fdNumber:r,encoding:n,maxBuffer:a,lines:o}),c]);return h},lK=async({stream:e,onStreamEnd:t,fdNumber:r,encoding:n,allMixed:i,verboseInfo:a,streamInfo:{fileDescriptors:o}})=>{if(!oT({stdioItems:o[r]?.stdioItems,encoding:n,verboseInfo:a,fdNumber:r}))return;let s=lW({stream:e,onStreamEnd:t,lines:!0,encoding:n,stripFinalNewline:!0,allMixed:i});await ok(s,e,r,a)},lX=async e=>{await (0,e5.setImmediate)(),null===e.readableFlowing&&e.resume()},lJ=async({stream:e,stream:{readableObjectMode:t},iterable:r,fdNumber:n,encoding:i,maxBuffer:a,lines:o})=>{try{if(t||o)return await lT(r,{maxBuffer:a});if("buffer"===i)return new Uint8Array(await lx(r,{maxBuffer:a}));return await l$(r,{maxBuffer:a})}catch(r){return lZ(nF({error:r,stream:e,readableObjectMode:t,lines:o,encoding:i,fdNumber:n}))}},lQ=async e=>{try{return await e}catch(e){return lZ(e)}},lZ=({bufferedData:e})=>p(e)?new Uint8Array(e):e,l0=async(e,t,r,{isSameDirection:n,stopOnExit:i=!1}={})=>{let a=l1(e,r),o=new AbortController;try{await Promise.race([...i?[r.exitPromise]:[],(0,sb.finished)(e,{cleanup:!0,signal:o.signal})])}catch(e){a.stdinCleanedUp||l8(e,t,r,n)}finally{o.abort()}},l1=(e,{originalStreams:[t],subprocess:r})=>{let n={stdinCleanedUp:!1};return e===t&&l2(e,r,n),n},l2=(e,t,r)=>{let{_destroy:n}=e;e._destroy=(...i)=>{l3(t,r),n.call(e,...i)}},l3=({exitCode:e,signalCode:t},r)=>{(null!==e||null!==t)&&(r.stdinCleanedUp=!0)},l8=(e,t,r,n)=>{if(!l6(e,t,r,n))throw e},l6=(e,t,r,n=!0)=>r.propagating?l5(e)||l9(e):(r.propagating=!0,l4(r,t)===n?l5(e):l9(e)),l4=({fileDescriptors:e},t)=>"all"!==t&&"input"===e[t].direction,l9=e=>e?.code==="ERR_STREAM_PREMATURE_CLOSE",l5=e=>e?.code==="EPIPE",l7=({subprocess:e,encoding:t,buffer:r,maxBuffer:n,lines:i,stripFinalNewline:a,verboseInfo:o,streamInfo:s})=>e.stdio.map((e,l)=>ue({stream:e,fdNumber:l,encoding:t,buffer:r[l],maxBuffer:n[l],lines:i[l],allMixed:!1,stripFinalNewline:a,verboseInfo:o,streamInfo:s})),ue=async({stream:e,fdNumber:t,encoding:r,buffer:n,maxBuffer:i,lines:a,allMixed:o,stripFinalNewline:s,verboseInfo:l,streamInfo:u})=>{if(!e)return;let d=l0(e,t,u);if(l4(u,t)){await d;return}let[c]=await Promise.all([lY({stream:e,onStreamEnd:d,fdNumber:t,encoding:r,buffer:n,maxBuffer:i,lines:a,allMixed:o,stripFinalNewline:s,verboseInfo:l,streamInfo:u}),d]);return c},ut=({stdout:e,stderr:t},{all:r})=>r&&(e||t)?sm([e,t].filter(Boolean)):void 0,ur=({subprocess:e,encoding:t,buffer:r,maxBuffer:n,lines:i,stripFinalNewline:a,verboseInfo:o,streamInfo:s})=>ue({...un(e,r),fdNumber:"all",encoding:t,maxBuffer:n[1]+n[2],lines:i[1]||i[2],allMixed:ui(e),stripFinalNewline:a,verboseInfo:o,streamInfo:s}),un=({stdout:e,stderr:t,all:r},[,n,i])=>{let a=n||i;return a?n?i?{stream:r,buffer:a}:{stream:e,buffer:a}:{stream:t,buffer:a}:{stream:r,buffer:a}},ui=({all:e,stdout:t,stderr:r})=>e&&t&&r&&t.readableObjectMode!==r.readableObjectMode,ua=e=>en(e,"ipc"),uo=(e,t)=>{eU({type:"ipc",verboseMessage:eH(e),fdNumber:"ipc",verboseInfo:t})},us=async({subprocess:e,buffer:t,maxBuffer:r,ipc:n,ipcOutput:i,verboseInfo:a})=>{if(!n)return i;let o=ua(a),s=et(t,"ipc"),l=et(r,"ipc");for await(let t of o9({anyProcess:e,channel:e.channel,isSubprocess:!1,ipc:n,shouldAwait:!1,reference:!0}))s&&(nV(e,i,l),i.push(t)),o&&uo(t,a);return i},ul=async(e,t)=>(await Promise.allSettled([e]),t),uu=async({subprocess:e,options:{encoding:t,buffer:r,maxBuffer:n,lines:i,timeoutDuration:a,cancelSignal:o,gracefulCancel:s,forceKillAfterDelay:l,stripFinalNewline:u,ipc:d,ipcInput:c},context:f,verboseInfo:h,fileDescriptors:p,originalStreams:b,onInternalError:m,controller:y})=>{let g=oC(e,f),w={originalStreams:b,fileDescriptors:p,subprocess:e,exitPromise:g,propagating:!1},v=l7({subprocess:e,encoding:t,buffer:r,maxBuffer:n,lines:i,stripFinalNewline:u,verboseInfo:h,streamInfo:w}),_=ur({subprocess:e,encoding:t,buffer:r,maxBuffer:n,lines:i,stripFinalNewline:u,verboseInfo:h,streamInfo:w}),S=[],E=us({subprocess:e,buffer:r,maxBuffer:n,ipc:d,ipcOutput:S,verboseInfo:h}),T=ud(b,e,w),R=uc(p,w);try{return await Promise.race([Promise.all([{},oW(g),Promise.all(v),_,E,r9(e,c),...T,...R]),m,uf(e,y),...r1(e,a,f,y),...tC({subprocess:e,cancelSignal:o,gracefulCancel:s,context:f,controller:y}),...rJ({subprocess:e,cancelSignal:o,gracefulCancel:s,forceKillAfterDelay:l,context:f,controller:y})])}catch(e){return f.terminationReason??="other",Promise.all([{error:e},g,Promise.all(v.map(e=>lQ(e))),lQ(_),ul(E,S),Promise.allSettled(T),Promise.allSettled(R)])}},ud=(e,t,r)=>e.map((e,n)=>e===t.stdio[n]?void 0:l0(e,n,r)),uc=(e,t)=>e.flatMap(({stdioItems:e},r)=>e.filter(({value:e,stream:t=e})=>nv(t,{checkOpen:!1})&&!C(t)).map(({type:e,value:n,stream:i=n})=>l0(i,r,t,{isSameDirection:i$.has(e),stopOnExit:"native"===e}))),uf=async(e,{signal:t})=>{let[r]=await (0,tP.once)(e,"error",{signal:t});throw r},uh=()=>({readableDestroy:new WeakMap,writableFinal:new WeakMap,writableDestroy:new WeakMap}),up=(e,t,r)=>{let n=e[r];n.has(t)||n.set(t,[]);let i=n.get(t),a=t6();return i.push(a),{resolve:a.resolve.bind(a),promises:i}},ub=async({resolve:e,promises:t},r)=>{e();let[n]=await Promise.race([Promise.allSettled([!0,r]),Promise.all([!1,...t])]);return!n},um=async e=>{if(void 0!==e)try{await ug(e)}catch{}},uy=async e=>{if(void 0!==e)try{await uw(e)}catch{}},ug=async e=>{await (0,sb.finished)(e,{cleanup:!0,readable:!1,writable:!0})},uw=async e=>{await (0,sb.finished)(e,{cleanup:!0,readable:!0,writable:!1})},uv=async(e,t)=>{if(await e,t)throw t},u_=(e,t,r)=>{r&&!l9(r)?e.destroy(r):t&&e.destroy()},uS=({subprocess:e,concurrentStreams:t,encoding:r},{from:n,binary:i=!0,preserveNewlines:a=!0}={})=>{let o=i||ne.has(r),{subprocessStdout:s,waitReadableDestroy:l}=uE(e,n,t),{readableEncoding:u,readableObjectMode:d,readableHighWaterMark:c}=uT(s,o),{read:f,onStdoutDataDone:h}=uR({subprocessStdout:s,subprocess:e,binary:o,encoding:r,preserveNewlines:a}),p=new aH.Readable({read:f,destroy:(0,$.callbackify)(uM.bind(void 0,{subprocessStdout:s,subprocess:e,waitReadableDestroy:l})),highWaterMark:c,objectMode:d,encoding:u});return uk({subprocessStdout:s,onStdoutDataDone:h,readable:p,subprocess:e}),p},uE=(e,t,r)=>{let n=t9(e,t),i=up(r,n,"readableDestroy");return{subprocessStdout:n,waitReadableDestroy:i}},uT=({readableEncoding:e,readableObjectMode:t,readableHighWaterMark:r},n)=>n?{readableEncoding:e,readableObjectMode:t,readableHighWaterMark:r}:{readableEncoding:e,readableObjectMode:!0,readableHighWaterMark:lH},uR=({subprocessStdout:e,subprocess:t,binary:r,encoding:n,preserveNewlines:i})=>{let a=t6(),o=lN({subprocessStdout:e,subprocess:t,binary:r,shouldEncode:!r,encoding:n,preserveNewlines:i});return{read(){ux(this,o,a)},onStdoutDataDone:a}},ux=async(e,t,r)=>{try{let{value:n,done:i}=await t.next();i?r.resolve():e.push(n)}catch{}},uk=async({subprocessStdout:e,onStdoutDataDone:t,readable:r,subprocess:n,subprocessStdin:i})=>{try{await uw(e),await n,await um(i),await t,r.readable&&r.push(null)}catch(e){await um(i),uL(r,e)}},uM=async({subprocessStdout:e,subprocess:t,waitReadableDestroy:r},n)=>{await ub(r,t)&&(uL(e,n),await uv(t,n))},uL=(e,t)=>{u_(e,e.readable,t)},uD=({subprocess:e,concurrentStreams:t},{to:r}={})=>{let{subprocessStdin:n,waitWritableFinal:i,waitWritableDestroy:a}=uA(e,r,t),o=new aH.Writable({...uO(n,e,i),destroy:(0,$.callbackify)(u$.bind(void 0,{subprocessStdin:n,subprocess:e,waitWritableFinal:i,waitWritableDestroy:a})),highWaterMark:n.writableHighWaterMark,objectMode:n.writableObjectMode});return uP(n,o),o},uA=(e,t,r)=>{let n=t4(e,t),i=up(r,n,"writableFinal"),a=up(r,n,"writableDestroy");return{subprocessStdin:n,waitWritableFinal:i,waitWritableDestroy:a}},uO=(e,t,r)=>({write:uI.bind(void 0,e),final:(0,$.callbackify)(uj.bind(void 0,e,t,r))}),uI=(e,t,r,n)=>{e.write(t,r)?n():e.once("drain",n)},uj=async(e,t,r)=>{await ub(r,t)&&(e.writable&&e.end(),await t)},uP=async(e,t,r)=>{try{await ug(e),t.writable&&t.end()}catch(e){await uy(r),uB(t,e)}},u$=async({subprocessStdin:e,subprocess:t,waitWritableFinal:r,waitWritableDestroy:n},i)=>{await ub(r,t),await ub(n,t)&&(uB(e,i),await uv(t,i))},uB=(e,t)=>{u_(e,e.writable,t)},uC=({subprocess:e,concurrentStreams:t,encoding:r},{from:n,to:i,binary:a=!0,preserveNewlines:o=!0}={})=>{let s=a||ne.has(r),{subprocessStdout:l,waitReadableDestroy:u}=uE(e,n,t),{subprocessStdin:d,waitWritableFinal:c,waitWritableDestroy:f}=uA(e,i,t),{readableEncoding:h,readableObjectMode:p,readableHighWaterMark:b}=uT(l,s),{read:m,onStdoutDataDone:y}=uR({subprocessStdout:l,subprocess:e,binary:s,encoding:r,preserveNewlines:o}),g=new aH.Duplex({read:m,...uO(d,e,c),destroy:(0,$.callbackify)(uN.bind(void 0,{subprocessStdout:l,subprocessStdin:d,subprocess:e,waitReadableDestroy:u,waitWritableFinal:c,waitWritableDestroy:f})),readableHighWaterMark:b,writableHighWaterMark:d.writableHighWaterMark,readableObjectMode:p,writableObjectMode:d.writableObjectMode,encoding:h});return uk({subprocessStdout:l,onStdoutDataDone:y,readable:g,subprocess:e,subprocessStdin:d}),uP(d,g,l),g},uN=async({subprocessStdout:e,subprocessStdin:t,subprocess:r,waitReadableDestroy:n,waitWritableFinal:i,waitWritableDestroy:a},o)=>{await Promise.all([uM({subprocessStdout:e,subprocess:r,waitReadableDestroy:n},o),u$({subprocessStdin:t,subprocess:r,waitWritableFinal:i,waitWritableDestroy:a},o)])},uU=(e,t,{from:r,binary:n=!1,preserveNewlines:i=!1}={})=>{let a=n||ne.has(t),o=t9(e,r);return uW(lN({subprocessStdout:o,subprocess:e,binary:a,shouldEncode:!0,encoding:t,preserveNewlines:i}),o,e)},uW=async function*(e,t,r){try{yield*e}finally{t.readable&&t.destroy(),await r}},uq=(e,{encoding:t})=>{let r=uh();e.readable=uS.bind(void 0,{subprocess:e,concurrentStreams:r,encoding:t}),e.writable=uD.bind(void 0,{subprocess:e,concurrentStreams:r}),e.duplex=uC.bind(void 0,{subprocess:e,concurrentStreams:r,encoding:t}),e.iterable=uU.bind(void 0,e,t),e[Symbol.asyncIterator]=uU.bind(void 0,e,t,{})},uF=(e,t)=>{for(let[r,n]of uV){let i=n.value.bind(t);Reflect.defineProperty(e,r,{...n,value:i})}},uH=(async()=>{})().constructor.prototype,uV=["then","catch","finally"].map(e=>[e,Reflect.getOwnPropertyDescriptor(uH,e)]),uG=(e,t,r,n)=>{let{file:i,commandArguments:a,command:o,escapedCommand:s,startTime:l,verboseInfo:u,options:d,fileDescriptors:c}=uz(e,t,r),{subprocess:f,promise:h}=uK({file:i,commandArguments:a,options:d,startTime:l,verboseInfo:u,command:o,escapedCommand:s,fileDescriptors:c});return f.pipe=lm.bind(void 0,{source:f,sourcePromise:h,boundOptions:{},createNested:n}),uF(f,h),t5.set(f,{options:d,fileDescriptors:c}),f},uz=(e,t,r)=>{let{command:n,escapedCommand:i,startTime:a,verboseInfo:o}=eZ(e,t,r),{file:s,commandArguments:l,options:u}=nu(e,t,r),d=uY(u),c=sc(d,o);return{file:s,commandArguments:l,command:n,escapedCommand:i,startTime:a,verboseInfo:o,options:d,fileDescriptors:c}},uY=({timeout:e,signal:t,...r})=>{if(void 0!==t)throw TypeError('The "signal" option has been renamed to "cancelSignal" instead.');return{...r,timeoutDuration:e}},uK=({file:e,commandArguments:t,options:r,startTime:n,verboseInfo:i,command:a,escapedCommand:o,fileDescriptors:s})=>{let l;try{l=(0,c.spawn)(...nf(e,t,r))}catch(e){return si({error:e,command:a,escapedCommand:o,fileDescriptors:s,options:r,startTime:n,verboseInfo:i})}let u=new AbortController;(0,tP.setMaxListeners)(Number.POSITIVE_INFINITY,u.signal);let d=[...l.stdio];sW(l,s,u),s4(l,r,u);let f={},h=t6();l.kill=tD.bind(void 0,{kill:l.kill.bind(l),options:r,onInternalError:h,context:f,controller:u}),l.all=ut(l,r),uq(l,r),sr(l,r);let p=uX({subprocess:l,options:r,startTime:n,verboseInfo:i,fileDescriptors:s,originalStreams:d,command:a,escapedCommand:o,context:f,onInternalError:h,controller:u});return{subprocess:l,promise:p}},uX=async({subprocess:e,options:t,startTime:r,verboseInfo:n,fileDescriptors:i,originalStreams:a,command:o,escapedCommand:s,context:l,onInternalError:u,controller:d})=>{let[c,[f,h],p,b,m]=await uu({subprocess:e,options:t,context:l,verboseInfo:n,fileDescriptors:i,originalStreams:a,onInternalError:u,controller:d});return d.abort(),u.resolve(),il(uJ({errorInfo:c,exitCode:f,signal:h,stdio:p.map((e,r)=>aq(e,t,r)),all:aq(b,t,"all"),ipcOutput:m,context:l,options:t,command:o,escapedCommand:s,startTime:r}),n,t)},uJ=({errorInfo:e,exitCode:t,signal:r,stdio:n,all:i,ipcOutput:a,context:o,options:s,command:l,escapedCommand:u,startTime:d})=>"error"in e?n4({error:e.error,command:l,escapedCommand:u,timedOut:"timeout"===o.terminationReason,isCanceled:"cancel"===o.terminationReason||"gracefulCancel"===o.terminationReason,isGracefullyCanceled:"gracefulCancel"===o.terminationReason,isMaxBuffer:e.error instanceof nq,isForcefullyTerminated:o.isForcefullyTerminated,exitCode:t,signal:r,stdio:n,all:i,ipcOutput:a,options:s,startTime:d,isSync:!1}):n8({command:l,escapedCommand:u,stdio:n,all:i,ipcOutput:a,options:s,startTime:d}),uQ=(e,t)=>{let r=Object.fromEntries(Object.entries(t).map(([t,r])=>[t,uZ(t,e[t],r)]));return{...e,...r}},uZ=(e,t,r)=>u0.has(e)&&i(t)&&i(r)?{...t,...r}:r,u0=new Set(["env",...ee]),u1=(e,t,r,n)=>{let i=(e,t,n)=>u1(e,t,r,n),a=(...a)=>u2({mapArguments:e,deepOptions:r,boundOptions:t,setBoundExeca:n,createNested:i},...a);return void 0!==n&&n(a,i,t),a},u2=({mapArguments:e,deepOptions:t={},boundOptions:r={},setBoundExeca:n,createNested:a},o,...s)=>{if(i(o))return a(e,uQ(r,o),n);let{file:l,commandArguments:u,options:d,isSync:c}=u3({mapArguments:e,firstArgument:o,nextArguments:s,deepOptions:t,boundOptions:r});return c?oG(l,u,d):uG(l,u,d,a)},u3=({mapArguments:e,firstArgument:t,nextArguments:r,deepOptions:n,boundOptions:i})=>{let[a,o,s]=d(...k(t)?M(t,r):[t,...r]),l=uQ(uQ(n,i),s),{file:u=a,commandArguments:c=o,options:f=l,isSync:h=!1}=e({file:a,commandArguments:o,options:l});return{file:u,commandArguments:c,options:f,isSync:h}},u8=(e,t)=>{if(t.length>0)throw TypeError(`The command and its arguments must be passed as a single string: ${e} ${t}.`);let[r,...n]=u6(e);return{file:r,commandArguments:n}},u6=e=>{if("string"!=typeof e)throw TypeError(`The command must be a string: ${String(e)}.`);let t=e.trim();if(""===t)return[];let r=[];for(let e of t.split(u4)){let t=r.at(-1);t&&t.endsWith("\\")?r[r.length-1]=`${t.slice(0,-1)} ${e}`:r.push(e)}return r},u4=/ +/g,u9=({options:e})=>({...u5(e),isSync:!0}),u5=e=>({options:{...u7(e),...e}}),u7=({input:e,inputFile:t,stdio:r})=>void 0===e&&void 0===t&&void 0===r?{stdin:"inherit"}:{};u1(()=>({})),u1(()=>({isSync:!0}));let de=u1(({file:e,commandArguments:t})=>u8(e,t));u1(({file:e,commandArguments:t})=>({...u8(e,t),isSync:!0})),u1(({options:e})=>{if(!1===e.node)throw TypeError('The "node" option cannot be false with `execaNode()`.');return{options:{...e,node:!0}}}),u1(({options:e})=>u5(e),{},{preferLocal:!0},(e,t,r)=>{e.sync=t(u9,r),e.s=e.sync});let{sendMessage:dt,getOneMessage:dr,getEachMessage:dn,getCancelSignal:di}=(()=>{let e=void 0!==B.channel;return{...sn(B,!0,e),getCancelSignal:rF.bind(void 0,{anyProcess:B,channel:B.channel,isSubprocess:!0,ipc:e})}})()},3892:e=>{"use strict";e.exports=JSON.parse('{"name":"ytdl-core","description":"YouTube video downloader in pure javascript.","keywords":["youtube","video","download"],"version":"4.11.5","repository":{"type":"git","url":"git://github.com/fent/node-ytdl-core.git"},"author":"fent <fentbox@gmail.com> (https://github.com/fent)","contributors":["Tobias Kutscha (https://github.com/TimeForANinja)","Andrew Kelley (https://github.com/andrewrk)","Mauricio Allende (https://github.com/mallendeo)","Rodrigo Altamirano (https://github.com/raltamirano)","Jim Buck (https://github.com/JimmyBoh)","Paweł Ruciński (https://github.com/Roki100)","Alexander Paolini (https://github.com/Million900o)"],"main":"./lib/index.js","types":"./typings/index.d.ts","files":["lib","typings"],"scripts":{"test":"nyc --reporter=lcov --reporter=text-summary npm run test:unit","test:unit":"mocha --ignore test/irl-test.js test/*-test.js --timeout 4000","test:irl":"mocha --timeout 16000 test/irl-test.js","lint":"eslint ./","lint:fix":"eslint --fix ./","lint:typings":"tslint typings/index.d.ts","lint:typings:fix":"tslint --fix typings/index.d.ts"},"dependencies":{"m3u8stream":"^0.8.6","miniget":"^4.2.2","sax":"^1.1.3"},"devDependencies":{"@types/node":"^13.1.0","assert-diff":"^3.0.1","dtslint":"^3.6.14","eslint":"^6.8.0","mocha":"^7.0.0","muk-require":"^1.2.0","nock":"^13.0.4","nyc":"^15.0.0","sinon":"^9.0.0","stream-equal":"~1.1.0","typescript":"^3.9.7"},"engines":{"node":">=12"},"license":"MIT"}')}};