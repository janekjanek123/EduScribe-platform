(()=>{var e={};e.id=8919,e.ids=[8919],e.modules={42916:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=42916,e.exports=t},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},61282:e=>{"use strict";e.exports=require("child_process")},9714:e=>{"use strict";e.exports=require("constants")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},21764:e=>{"use strict";e.exports=require("util")},12837:(e,t,r)=>{"use strict";r.r(t),r.d(t,{originalPathname:()=>d,patchFetch:()=>F,requestAsyncStorage:()=>m,routeModule:()=>l,serverHooks:()=>c,staticGenerationAsyncStorage:()=>g});var s={};r.r(s),r.d(s,{GET:()=>u});var o=r(49303),i=r(88716),a=r(60670),n=r(87070),p=r(60211),f=r.n(p);async function u(e){console.log("[Test FFmpeg API] Testing FFmpeg & FFprobe configuration...");let t={ffmpeg:{installerFound:!1,installerPath:"",pathExists:!1,working:!1,workingPath:""},ffprobe:{installerFound:!1,installerPath:"",pathExists:!1,working:!1,workingPath:""},systemPathsFfmpeg:[],systemPathsFfprobe:[],manualPathsFfmpeg:[],manualPathsFfprobe:[],error:""};try{{let e={ffmpeg:"/usr/bin/ffmpeg",ffprobe:"/usr/bin/ffprobe"};t.ffmpeg.installerFound=!0,t.ffmpeg.installerPath=e.ffmpeg,t.ffmpeg.pathExists=!0,t.ffmpeg.workingPath=e.ffmpeg,t.ffprobe.installerFound=!0,t.ffprobe.installerPath=e.ffprobe,t.ffprobe.pathExists=!0,t.ffprobe.workingPath=e.ffprobe,f().setFfmpegPath(e.ffmpeg),f().setFfprobePath(e.ffprobe),console.log("[Test FFmpeg API] Production mode: Using system FFmpeg/FFprobe")}let e="",r="";if(t.ffmpeg.workingPath)try{await new Promise((e,r)=>{let s=setTimeout(()=>r(Error("FFmpeg test timeout (formats)")),5e3);f().getAvailableFormats(o=>{clearTimeout(s),o?r(o):(t.ffmpeg.working=!0,e(null))})})}catch(t){e=t.message}else e="No FFmpeg binary found to test";if(t.ffprobe.workingPath)try{await new Promise((e,r)=>{let s=setTimeout(()=>r(Error("FFprobe test timeout")),5e3);f().ffprobe("dummy_test_file_for_api.mp4",(o,i)=>{clearTimeout(s),o&&o.message.toLowerCase().includes("cannot find ffprobe")?r(o):o&&o.message.toLowerCase().includes("no such file")?(t.ffprobe.working=!0,e(null)):o?r(o):(t.ffprobe.working=!0,e(null))})})}catch(e){r=e.message}else r="No FFprobe binary found to test";return t.error=[e,r].filter(Boolean).join("; ")||"All tests passed (or no binary to test)",(e||r)&&console.warn("[Test FFmpeg API] Test errors:",{ffmpegError:e,ffprobeError:r}),console.log("[Test FFmpeg API] Test results:",JSON.stringify(t,null,2)),n.NextResponse.json({success:t.ffmpeg.working&&t.ffprobe.working,ffmpegStatus:t})}catch(e){return console.error("[Test FFmpeg API] Global test failed:",e),t.error=e.message,n.NextResponse.json({success:!1,error:e.message,ffmpegStatus:t},{status:500})}}r(40788);let l=new o.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/test-ffmpeg/route",pathname:"/api/test-ffmpeg",filename:"route",bundlePath:"app/api/test-ffmpeg/route"},resolvedPagePath:"/Users/janjedrach/Cursor/eduscribe/src/app/api/test-ffmpeg/route.ts",nextConfigOutput:"standalone",userland:s}),{requestAsyncStorage:m,staticGenerationAsyncStorage:g,serverHooks:c}=l,d="/api/test-ffmpeg/route";function F(){return(0,a.patchFetch)({serverHooks:c,staticGenerationAsyncStorage:g})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[9276,5972,5398],()=>r(12837));module.exports=s})();