(()=>{var e={};e.id=6063,e.ids=[6063],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},44626:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c}),r(41754),r(55801),r(35866);var s=r(23191),a=r(88716),n=r(37922),l=r.n(n),i=r(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let c=["",{children:["generate",{children:["text",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,41754)),"/Users/janjedrach/Cursor/eduscribe/src/app/generate/text/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,55801)),"/Users/janjedrach/Cursor/eduscribe/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/janjedrach/Cursor/eduscribe/src/app/generate/text/page.tsx"],u="/generate/text/page",x={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/generate/text/page",pathname:"/generate/text",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},28231:(e,t,r)=>{Promise.resolve().then(r.bind(r,4047))},4047:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(10326),a=r(17577),n=r(35047),l=r(73189),i=r(83640),o=r(71511),c=r(71814),d=r(45478);function u(){let e=(0,n.useRouter)(),{user:t,supabase:r}=(0,l.$)(),{canGenerateNotes:u,canSaveNotes:x,limits:p,refreshUsage:m}=(0,i.m)(),[g,h]=(0,a.useState)(""),[b,f]=(0,a.useState)(""),[j,y]=(0,a.useState)(!1),[v,N]=(0,a.useState)(""),[_,w]=(0,a.useState)(!1),[P,q]=(0,a.useState)(!1),[S,C]=(0,a.useState)({title:"",message:"",feature:""}),k=async s=>{if(s.preventDefault(),!g.trim()){N("Please enter some text to generate notes from");return}if(!t){w(!0);return}if(g.length>p.max_text_length){C({title:"Text Length Limit Exceeded",message:`Your text is ${g.length} characters, but your plan allows up to ${p.max_text_length} characters. Upgrade your plan for longer text support.`,feature:"extended text length"}),q(!0);return}if(!u){C({title:"Monthly Limit Reached",message:"You've reached your plan limit. Upgrade your plan to generate more notes.",feature:"additional note generation"}),q(!0);return}if(!x){C({title:"Storage Limit Reached",message:"You've reached your plan limit. Upgrade your plan to store more notes.",feature:"additional note storage"}),q(!0);return}y(!0),N("");try{let{data:{session:t}}=await r.auth.getSession();if(!t?.access_token){N("Authentication required. Please log in again.");return}let s=await fetch("/api/text-notes",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.access_token}`},body:JSON.stringify({text:g.trim(),title:b.trim()||"Text Notes"})});if(s.ok){let t=await s.json();if(console.log("[Text Generate] Note generation successful:",t),t.success&&t.data)await m(),e.push("/dashboard");else throw Error(t.message||"Failed to generate notes")}else{let e=await s.json();throw Error(e.message||"Failed to generate notes")}}catch(e){N(e.message||"Failed to generate notes. Please try again."),console.error("Error:",e)}finally{y(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[j&&s.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg p-8 max-w-md mx-4",children:s.jsx(d.Z,{message:"Generating Notes...",subMessage:"This could take a moment – please wait while we process your text content."})})}),s.jsx("main",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"w-20 h-20 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-4xl",children:"✏️"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Text Input Notes"}),s.jsx("p",{className:"text-lg text-gray-600",children:"Paste any text content and transform it into well-structured, comprehensive notes."})]}),(0,s.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-6 mb-8",children:[s.jsx("h3",{className:"font-semibold text-purple-900 mb-3",children:"How to use:"}),(0,s.jsxs)("ul",{className:"list-disc list-inside space-y-2 text-purple-800",children:[s.jsx("li",{children:"Copy text from articles, books, research papers, or any source"}),s.jsx("li",{children:"Paste it in the text area below"}),s.jsx("li",{children:"Add an optional title to organize your notes"}),s.jsx("li",{children:'Click "Generate Notes" to create structured summaries'})]}),s.jsx("div",{className:"mt-4 p-3 bg-purple-100 rounded",children:(0,s.jsxs)("p",{className:"text-sm text-purple-700",children:[s.jsx("strong",{children:"Tip:"})," The more detailed your input text, the more comprehensive and useful your generated notes will be."]})}),s.jsx("div",{className:"mt-4 p-3 bg-blue-100 rounded border border-blue-200",children:(0,s.jsxs)("p",{className:"text-sm text-blue-700",children:[(0,s.jsxs)("strong",{children:["Your plan allows up to ",p.max_text_length.toString()," characters."]}),p.max_text_length<5e4&&(0,s.jsxs)(s.Fragment,{children:[" ","Need more?",s.jsx("button",{onClick:()=>e.push("/pricing"),className:"ml-1 text-blue-600 hover:text-blue-800 underline",children:"Upgrade your plan"})]})]})})]}),v&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:s.jsx("p",{className:"text-red-800",children:v})}),s.jsx("div",{className:"bg-white rounded-lg shadow-lg p-8",children:(0,s.jsxs)("form",{onSubmit:k,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Title (Optional)"}),s.jsx("input",{type:"text",id:"title",value:b,onChange:e=>f(e.target.value),placeholder:"Enter a title for your notes...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:j})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"text",className:"block text-sm font-medium text-gray-700 mb-2",children:"Text Content"}),s.jsx("textarea",{id:"text",value:g,onChange:e=>{let t=e.target.value;if(t.length>p.max_text_length){N(`Text length exceeds your plan limit of ${p.max_text_length} characters.`);return}h(t),N("")},placeholder:"Paste your text content here...",rows:12,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-vertical",disabled:j}),(0,s.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,s.jsxs)("p",{className:`text-sm ${(()=>{let e=g.length/p.max_text_length*100;return e>=90?"text-red-600":e>=70?"text-yellow-600":"text-gray-500"})()}`,children:[g.length.toString()," / ",p.max_text_length.toString()," characters"]}),g.length>.9*p.max_text_length&&s.jsx("span",{className:"text-xs text-yellow-600",children:"Approaching limit"})]})]}),s.jsx("button",{type:"submit",disabled:j||!g.trim()||g.length>p.max_text_length,className:"w-full bg-purple-600 text-white py-3 px-6 rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:j?"Processing...":"Generate Notes"})]})}),s.jsx("div",{className:"text-center mt-8",children:s.jsx("button",{onClick:()=>e.push("/"),className:"text-purple-600 hover:text-purple-800 hover:underline",children:"← Back to Home"})})]})}),s.jsx(o.Z,{isOpen:_,onClose:()=>w(!1),title:"Sign In to Generate Notes",message:"Please sign in to start generating educational notes from your text content."}),s.jsx(c.Z,{isOpen:P,onClose:()=>q(!1),title:S.title,message:S.message,feature:S.feature})]})}},41754:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`/Users/janjedrach/Cursor/eduscribe/src/app/generate/text/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[9276,8486,8796,9876],()=>r(44626));module.exports=s})();