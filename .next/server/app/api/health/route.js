(()=>{var e={};e.id=8829,e.ids=[8829],e.modules={20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},58359:()=>{},93739:()=>{},47429:(e,s,t)=>{"use strict";t.r(s),t.d(s,{originalPathname:()=>m,patchFetch:()=>h,requestAsyncStorage:()=>g,routeModule:()=>l,serverHooks:()=>v,staticGenerationAsyncStorage:()=>d});var r={};t.r(r),t.d(r,{GET:()=>u,dynamic:()=>p});var a=t(49303),i=t(88716),o=t(60670),n=t(87070),c=t(23517);async function u(){let e={status:"ok",timestamp:new Date().toISOString(),environment:"production",version:process.env.npm_package_version||"0.1.0",services:{database:{status:"unknown"},video_notes:{status:"unknown"},file_notes:{status:"unknown"},text_notes:{status:"unknown"},openai:{status:"unknown"},youtube:{status:"unknown"},ytdlp:{status:"unknown"}},warnings:[]};try{let s="https://xhljckmlzdshxibnqsbj.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhobGpja21semRzaHhpYm5xc2JqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4NDIwNzIsImV4cCI6MjA2MzQxODA3Mn0.UuU3QBxwY3-DsSpXB-UiKarjgZWiFAFIzFbgUqacmIA";if(console.log("Supabase URL:",s),console.log("Supabase Anon Key exists:",!!t),s&&t){let r=(0,c.eI)(s,t),{error:a}=await r.from("_health").select("count").limit(1).maybeSingle();a&&"42P01"!==a.code?(e.services.database.status="error",e.services.database.message=`Database connection error: ${a.message}`,e.warnings.push("Database connection failed")):e.services.database.status="ok";let{error:i}=await r.from("video_notes").select("count").limit(1);i?"42P01"===i.code?(e.services.video_notes.status="error",e.services.video_notes.message="Table does not exist",e.warnings.push("video_notes table not initialized")):(e.services.video_notes.status="error",e.services.video_notes.message=i.message,e.warnings.push("video_notes table error: "+i.message)):e.services.video_notes.status="ok";let{error:o}=await r.from("file_notes").select("count").limit(1);o?"42P01"===o.code?(e.services.file_notes.status="error",e.services.file_notes.message="Table does not exist",e.warnings.push("file_notes table not initialized")):(e.services.file_notes.status="error",e.services.file_notes.message=o.message,e.warnings.push("file_notes table error: "+o.message)):e.services.file_notes.status="ok";let{error:n}=await r.from("text_notes").select("count").limit(1);n?"42P01"===n.code?(e.services.text_notes.status="error",e.services.text_notes.message="Table does not exist",e.warnings.push("text_notes table not initialized")):(e.services.text_notes.status="error",e.services.text_notes.message=n.message,e.warnings.push("text_notes table error: "+n.message)):e.services.text_notes.status="ok";try{let{error:s}=await r.storage.getBucket("file_notes");s&&(e.services.file_notes.status="warning",e.services.file_notes.message="Storage bucket not available: "+s.message,e.warnings.push("file_notes storage bucket not configured"))}catch(s){e.services.file_notes.status="warning",e.services.file_notes.message="Storage check error: "+s.message,e.warnings.push("File storage check failed")}}else e.services.database.status="error",e.services.database.message="Missing Supabase configuration",e.warnings.push("Supabase URL or key not configured")}catch(s){e.services.database.status="error",e.services.database.message=s.message,e.warnings.push("Database check exception")}try{process.env.OPENAI_API_KEY?e.services.openai.status="ok":(e.services.openai.status="error",e.services.openai.message="Missing OpenAI API key",e.warnings.push("OpenAI API key not configured"))}catch(s){e.services.openai.status="error",e.services.openai.message=s.message,e.warnings.push("OpenAI check exception")}try{e.services.youtube.status="ok"}catch(s){e.services.youtube.status="error",e.services.youtube.message=s.message,e.warnings.push("YouTube check exception")}try{e.services.ytdlp.status="skipped",e.services.ytdlp.message="yt-dlp check skipped in production"}catch(s){e.services.ytdlp.status="error",e.services.ytdlp.message=s.message,e.warnings.push("yt-dlp check exception")}for(let s of(e.warnings.length>0&&(e.status="degraded"),["database","video_notes","file_notes","text_notes","openai"]))if("error"===e.services[s].status){e.status="error";break}return n.NextResponse.json(e)}let p="force-dynamic",l=new a.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/health/route",pathname:"/api/health",filename:"route",bundlePath:"app/api/health/route"},resolvedPagePath:"/Users/janjedrach/Cursor/eduscribe/src/app/api/health/route.ts",nextConfigOutput:"standalone",userland:r}),{requestAsyncStorage:g,staticGenerationAsyncStorage:d,serverHooks:v}=l,m="/api/health/route";function h(){return(0,o.patchFetch)({serverHooks:v,staticGenerationAsyncStorage:d})}}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[9276,5972,3517],()=>t(47429));module.exports=r})();