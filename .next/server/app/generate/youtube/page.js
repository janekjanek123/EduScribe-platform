(()=>{var e={};e.id=9538,e.ids=[9538],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},51823:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>c,pages:()=>u,routeModule:()=>p,tree:()=>d}),t(93475),t(55801),t(35866);var a=t(23191),s=t(88716),o=t(37922),i=t.n(o),n=t(95231),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);t.d(r,l);let d=["",{children:["generate",{children:["youtube",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,93475)),"/Users/janjedrach/Cursor/eduscribe/src/app/generate/youtube/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,55801)),"/Users/janjedrach/Cursor/eduscribe/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],u=["/Users/janjedrach/Cursor/eduscribe/src/app/generate/youtube/page.tsx"],c="/generate/youtube/page",x={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/generate/youtube/page",pathname:"/generate/youtube",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},18711:(e,r,t)=>{Promise.resolve().then(t.bind(t,10946))},10946:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var a=t(10326),s=t(17577),o=t(35047),i=t(73189),n=t(83640),l=t(71511),d=t(71814),u=t(45478);function c(){let e=(0,o.useRouter)(),{user:r,supabase:t}=(0,i.$)(),{canUseYouTube:c,canGenerateNotes:x,canSaveNotes:p,refreshUsage:b}=(0,n.m)(),[m,g]=(0,s.useState)(""),[h,y]=(0,s.useState)(""),[v,f]=(0,s.useState)(!1),[j,w]=(0,s.useState)(""),[N,k]=(0,s.useState)(!1),[S,P]=(0,s.useState)(!1),[q,C]=(0,s.useState)({title:"",message:"",feature:""}),_=async a=>{if(a.preventDefault(),!m.trim()){w("Please enter a YouTube URL");return}if(!r){k(!0);return}if(!c){C({title:"YouTube Feature Restricted",message:"Upgrade to Student or Pro plan to generate notes from YouTube videos.",feature:"YouTube video processing"}),P(!0);return}if(!x){C({title:"Monthly Limit Reached",message:"You've reached your plan limit. Upgrade your plan to generate more notes.",feature:"additional note generation"}),P(!0);return}if(!p){C({title:"Storage Limit Reached",message:"You've reached your plan limit. Upgrade your plan to store more notes.",feature:"additional note storage"}),P(!0);return}f(!0),w("");try{let{data:{session:r}}=await t.auth.getSession();if(!r?.access_token){w("Authentication required. Please log in again.");return}let a=await fetch("/api/video-notes",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.access_token}`},body:JSON.stringify({url:m,title:h.trim()||void 0})});if(a.ok){let r=await a.json();if(console.log("[YouTube Generate] Note generation successful:",r),r.success&&r.data)await b(),e.push("/dashboard");else throw Error(r.message||"Failed to generate notes")}else{let e=await a.json();throw Error(e.message||"Failed to generate notes")}}catch(e){w(e.message||"Failed to generate notes. Please try again."),console.error("Error:",e)}finally{f(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen",style:{background:"var(--bg-primary)"},children:[v&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(31, 34, 53, 0.9)",backdropFilter:"blur(5px)"},children:a.jsx("div",{className:"p-8 max-w-md mx-4 rounded-2xl",style:{background:"linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%)",border:"1px solid var(--bg-tertiary)",boxShadow:"var(--shadow-xl)"},children:a.jsx(u.Z,{message:"Generating Notes...",subMessage:"This could take a moment – please wait while we process your YouTube video."})})}),a.jsx("main",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4",style:{background:"linear-gradient(135deg, var(--color-youtube) 0%, var(--color-cta) 100%)",boxShadow:"var(--glow-youtube)"},children:a.jsx("svg",{className:"w-10 h-10",fill:"white",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M23.498 6.186c-.277-1.04-1.096-1.86-2.133-2.136C19.502 3.545 12 3.545 12 3.545s-7.502 0-9.365.505c-1.037.276-1.856 1.097-2.133 2.136C0 8.055 0 12 0 12s0 3.945.502 5.814c.277 1.039 1.096 1.86 2.133 2.136 1.863.505 9.365.505 9.365.505s7.502 0 9.365-.505c1.037-.276 1.856-1.097 2.133-2.136C24 15.945 24 12 24 12s0-3.945-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})}),a.jsx("h1",{className:"text-4xl font-bold mb-4",style:{color:"var(--text-primary)"},children:"YouTube Video Notes"}),a.jsx("p",{className:"text-lg leading-relaxed",style:{color:"var(--text-secondary)"},children:"Generate comprehensive notes from any YouTube video by pasting the URL below."})]}),(0,a.jsxs)("div",{className:"rounded-2xl p-6 mb-8",style:{background:"linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%)",border:"1px solid var(--bg-tertiary)",boxShadow:"var(--shadow-lg)"},children:[a.jsx("h3",{className:"font-semibold mb-3",style:{color:"var(--color-youtube)"},children:"How to use:"}),(0,a.jsxs)("ol",{className:"list-decimal list-inside space-y-2",style:{color:"var(--text-secondary)"},children:[a.jsx("li",{children:"Copy the YouTube video URL from your browser"}),a.jsx("li",{children:"Paste it in the input field below"}),a.jsx("li",{children:'Click "Generate Notes" and wait for processing'}),a.jsx("li",{children:"Your notes will be ready in a few minutes"})]})]}),j&&a.jsx("div",{className:"rounded-2xl p-4 mb-6",style:{background:"linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(220, 38, 38, 0.1))",border:"1px solid rgba(239, 68, 68, 0.3)",boxShadow:"0 0 20px rgba(239, 68, 68, 0.1)"},children:a.jsx("p",{style:{color:"#ef4444"},children:j})}),a.jsx("div",{className:"rounded-2xl p-8 mb-8",style:{background:"linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%)",border:"1px solid var(--bg-tertiary)",boxShadow:"var(--shadow-lg)"},children:(0,a.jsxs)("form",{onSubmit:_,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"title",className:"block text-sm font-semibold mb-3",style:{color:"var(--text-primary)"},children:"Title (Optional)"}),a.jsx("input",{type:"text",id:"title",value:h,onChange:e=>y(e.target.value),placeholder:"Enter a custom title for your notes...",className:"w-full px-4 py-3 rounded-xl transition-all duration-300 focus:ring-2 focus:ring-[var(--color-youtube)] focus:outline-none",style:{background:"var(--bg-primary)",border:"1px solid var(--bg-tertiary)",color:"var(--text-primary)",boxShadow:"var(--shadow-sm)"},disabled:v}),a.jsx("p",{className:"mt-2 text-sm",style:{color:"var(--text-muted)"},children:"Give your notes a descriptive title to help you find them later"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"url",className:"block text-sm font-semibold mb-3",style:{color:"var(--text-primary)"},children:"YouTube Video URL"}),a.jsx("input",{type:"url",id:"url",value:m,onChange:e=>g(e.target.value),placeholder:"https://www.youtube.com/watch?v=...",className:"w-full px-4 py-3 rounded-xl transition-all duration-300 focus:ring-2 focus:ring-[var(--color-youtube)] focus:outline-none",style:{background:"var(--bg-primary)",border:"1px solid var(--bg-tertiary)",color:"var(--text-primary)",boxShadow:"var(--shadow-sm)"},disabled:v})]}),a.jsx("button",{type:"submit",disabled:v,className:"w-full py-4 px-6 rounded-xl font-semibold text-lg transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",style:{background:v?"var(--bg-tertiary)":"linear-gradient(135deg, var(--color-youtube) 0%, var(--color-cta) 100%)",color:v?"var(--text-muted)":"var(--bg-primary)",boxShadow:v?"var(--shadow-sm)":"var(--glow-youtube)"},children:v?"Processing...":"Generate Notes"})]})}),a.jsx("div",{className:"text-center",children:a.jsx("button",{onClick:()=>e.push("/"),className:"px-6 py-3 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105",style:{background:"var(--bg-secondary)",color:"var(--text-secondary)",border:"1px solid var(--bg-tertiary)",boxShadow:"var(--shadow-sm)"},children:"← Back to Home"})})]})}),a.jsx(l.Z,{isOpen:N,onClose:()=>k(!1),title:"Sign In to Generate Video Notes",message:"Please sign in to start generating educational notes from YouTube videos."}),a.jsx(d.Z,{isOpen:S,onClose:()=>P(!1),title:q.title,message:q.message,feature:q.feature})]})}},93475:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`/Users/janjedrach/Cursor/eduscribe/src/app/generate/youtube/page.tsx#default`)}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[9276,4262,5773,9876],()=>t(51823));module.exports=a})();