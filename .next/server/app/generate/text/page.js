(()=>{var e={};e.id=6063,e.ids=[6063],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},44626:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>c,routeModule:()=>g,tree:()=>d}),r(41754),r(55801),r(35866);var a=r(23191),s=r(88716),o=r(37922),n=r.n(o),l=r(95231),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);r.d(t,i);let d=["",{children:["generate",{children:["text",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,41754)),"/Users/janjedrach/Cursor/eduscribe/src/app/generate/text/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,55801)),"/Users/janjedrach/Cursor/eduscribe/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/janjedrach/Cursor/eduscribe/src/app/generate/text/page.tsx"],x="/generate/text/page",u={require:r,loadChunk:()=>Promise.resolve()},g=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/generate/text/page",pathname:"/generate/text",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},28231:(e,t,r)=>{Promise.resolve().then(r.bind(r,4047))},4047:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var a=r(10326),s=r(17577),o=r(35047),n=r(73189),l=r(83640),i=r(71511),d=r(71814),c=r(45478);function x(){let e=(0,o.useRouter)(),{user:t,supabase:r}=(0,n.$)(),{canGenerateNotes:x,canSaveNotes:u,limits:g,refreshUsage:m}=(0,l.m)(),[p,h]=(0,s.useState)(""),[b,y]=(0,s.useState)(""),[v,f]=(0,s.useState)(!1),[j,w]=(0,s.useState)(""),[_,N]=(0,s.useState)(!1),[k,S]=(0,s.useState)(!1),[P,q]=(0,s.useState)({title:"",message:"",feature:""}),C=async a=>{if(a.preventDefault(),!p.trim()){w("Please enter some text to generate notes from");return}if(!t){N(!0);return}if(p.length>g.max_text_length){q({title:"Text Length Limit Exceeded",message:`Your text is ${p.length} characters, but your plan allows up to ${g.max_text_length} characters. Upgrade your plan for longer text support.`,feature:"extended text length"}),S(!0);return}if(!x){q({title:"Monthly Limit Reached",message:"You've reached your plan limit. Upgrade your plan to generate more notes.",feature:"additional note generation"}),S(!0);return}if(!u){q({title:"Storage Limit Reached",message:"You've reached your plan limit. Upgrade your plan to store more notes.",feature:"additional note storage"}),S(!0);return}f(!0),w("");try{let{data:{session:t}}=await r.auth.getSession();if(!t?.access_token){w("Authentication required. Please log in again.");return}let a=await fetch("/api/text-notes",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.access_token}`},body:JSON.stringify({text:p.trim(),title:b.trim()||void 0})});if(a.ok){let t=await a.json();if(console.log("[Text Generate] Note generation successful:",t),t.success&&t.data)await m(),e.push("/dashboard");else throw Error(t.message||"Failed to generate notes")}else{let e=await a.json();throw Error(e.message||"Failed to generate notes")}}catch(e){w(e.message||"Failed to generate notes. Please try again."),console.error("Error:",e)}finally{f(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen",style:{background:"var(--bg-primary)"},children:[v&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{background:"rgba(31, 34, 53, 0.9)",backdropFilter:"blur(5px)"},children:a.jsx("div",{className:"p-8 max-w-md mx-4 rounded-2xl",style:{background:"linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%)",border:"1px solid var(--bg-tertiary)",boxShadow:"var(--shadow-xl)"},children:a.jsx(c.Z,{message:"Generating Notes...",subMessage:"This could take a moment – please wait while we process your text content."})})}),a.jsx("main",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4",style:{background:"linear-gradient(135deg, var(--color-text) 0%, var(--color-cta) 100%)",boxShadow:"var(--glow-text)"},children:a.jsx("svg",{className:"w-10 h-10",fill:"white",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M1,11H3V21H21V13H23V21A2,2 0 0,1 21,23H3A2,2 0 0,1 1,21V11Z"})})}),a.jsx("h1",{className:"text-4xl font-bold mb-4",style:{color:"var(--text-primary)"},children:"Text Input Notes"}),a.jsx("p",{className:"text-lg leading-relaxed",style:{color:"var(--text-secondary)"},children:"Paste any text content and transform it into well-structured, comprehensive notes."})]}),(0,a.jsxs)("div",{className:"rounded-2xl p-6 mb-8",style:{background:"linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%)",border:"1px solid var(--bg-tertiary)",boxShadow:"var(--shadow-lg)"},children:[a.jsx("h3",{className:"font-semibold mb-3",style:{color:"var(--color-text)"},children:"How to use:"}),(0,a.jsxs)("ul",{className:"list-disc list-inside space-y-2",style:{color:"var(--text-secondary)"},children:[a.jsx("li",{children:"Copy text from articles, books, research papers, or any source"}),a.jsx("li",{children:"Paste it in the text area below"}),a.jsx("li",{children:"Add an optional title to organize your notes"}),a.jsx("li",{children:'Click "Generate Notes" to create structured summaries'})]}),a.jsx("div",{className:"mt-4 p-3 rounded-xl",style:{background:"linear-gradient(135deg, rgba(160, 32, 240, 0.1), rgba(147, 51, 234, 0.1))",border:"1px solid rgba(160, 32, 240, 0.3)"},children:(0,a.jsxs)("p",{className:"text-sm",style:{color:"var(--color-text)"},children:[a.jsx("strong",{children:"Tip:"})," The more detailed your input text, the more comprehensive and useful your generated notes will be."]})}),a.jsx("div",{className:"mt-4 p-3 rounded-xl",style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(37, 99, 235, 0.1))",border:"1px solid rgba(59, 130, 246, 0.3)"},children:(0,a.jsxs)("p",{className:"text-sm",style:{color:"var(--color-cta)"},children:[(0,a.jsxs)("strong",{children:["Your plan allows up to ",g.max_text_length.toString()," characters."]}),g.max_text_length<5e4&&(0,a.jsxs)(a.Fragment,{children:[" ","Need more?",a.jsx("button",{onClick:()=>e.push("/pricing"),className:"ml-1 underline hover:opacity-80 transition-opacity",children:"Upgrade your plan"})]})]})})]}),j&&a.jsx("div",{className:"rounded-2xl p-4 mb-6",style:{background:"linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(220, 38, 38, 0.1))",border:"1px solid rgba(239, 68, 68, 0.3)",boxShadow:"0 0 20px rgba(239, 68, 68, 0.1)"},children:a.jsx("p",{style:{color:"#ef4444"},children:j})}),a.jsx("div",{className:"rounded-2xl p-8 mb-8",style:{background:"linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%)",border:"1px solid var(--bg-tertiary)",boxShadow:"var(--shadow-lg)"},children:(0,a.jsxs)("form",{onSubmit:C,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"title",className:"block text-sm font-semibold mb-3",style:{color:"var(--text-primary)"},children:"Title (Optional)"}),a.jsx("input",{type:"text",id:"title",value:b,onChange:e=>y(e.target.value),placeholder:"Enter a title for your notes...",className:"w-full px-4 py-3 rounded-xl transition-all duration-300 focus:ring-2 focus:ring-[var(--color-text)] focus:outline-none",style:{background:"var(--bg-primary)",border:"1px solid var(--bg-tertiary)",color:"var(--text-primary)",boxShadow:"var(--shadow-sm)"},disabled:v})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"text",className:"block text-sm font-semibold mb-3",style:{color:"var(--text-primary)"},children:"Text Content"}),a.jsx("textarea",{id:"text",value:p,onChange:e=>{let t=e.target.value;if(t.length>g.max_text_length){w(`Text length exceeds your plan limit of ${g.max_text_length} characters.`);return}h(t),w("")},placeholder:"Paste your text content here...",rows:12,className:"w-full px-4 py-3 rounded-xl transition-all duration-300 focus:ring-2 focus:ring-[var(--color-text)] focus:outline-none resize-vertical",style:{background:"var(--bg-primary)",border:"1px solid var(--bg-tertiary)",color:"var(--text-primary)",boxShadow:"var(--shadow-sm)"},disabled:v}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,a.jsxs)("p",{className:"text-sm",style:(()=>{let e=p.length/g.max_text_length;return e>=1?{color:"#ef4444"}:e>=.9?{color:"#f59e0b"}:{color:"var(--text-muted)"}})(),children:[p.length.toString()," / ",g.max_text_length.toString()," characters"]}),p.length>.9*g.max_text_length&&a.jsx("span",{className:"text-xs",style:{color:"#f59e0b"},children:"Approaching limit"})]})]}),a.jsx("button",{type:"submit",disabled:v||!p.trim()||p.length>g.max_text_length,className:"w-full py-4 px-6 rounded-xl font-semibold text-lg transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",style:{background:v||!p.trim()||p.length>g.max_text_length?"var(--bg-tertiary)":"linear-gradient(135deg, var(--color-text) 0%, var(--color-cta) 100%)",color:v||!p.trim()||p.length>g.max_text_length?"var(--text-muted)":"var(--bg-primary)",boxShadow:v||!p.trim()||p.length>g.max_text_length?"var(--shadow-sm)":"var(--glow-text)"},children:v?"Processing...":"Generate Notes"})]})}),a.jsx("div",{className:"text-center",children:a.jsx("button",{onClick:()=>e.push("/"),className:"px-6 py-3 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105",style:{background:"var(--bg-secondary)",color:"var(--text-secondary)",border:"1px solid var(--bg-tertiary)",boxShadow:"var(--shadow-sm)"},children:"← Back to Home"})})]})}),a.jsx(i.Z,{isOpen:_,onClose:()=>N(!1),title:"Sign In to Generate Notes",message:"Please sign in to start generating educational notes from your text content."}),a.jsx(d.Z,{isOpen:k,onClose:()=>S(!1),title:P.title,message:P.message,feature:P.feature})]})}},41754:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(68570).createProxy)(String.raw`/Users/janjedrach/Cursor/eduscribe/src/app/generate/text/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[9276,4262,5773,9876],()=>r(44626));module.exports=a})();