(()=>{var e={};e.id=8621,e.ids=[8621],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},49411:e=>{"use strict";e.exports=require("node:path")},97742:e=>{"use strict";e.exports=require("node:process")},41041:e=>{"use strict";e.exports=require("node:url")},82962:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>d}),t(72298),t(55801),t(35866);var a=t(23191),s=t(88716),o=t(37922),l=t.n(o),n=t(95231),i={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);t.d(r,i);let d=["",{children:["text-notes",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,72298)),"/Users/janjedrach/Cursor/eduscribe/src/app/text-notes/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,55801)),"/Users/janjedrach/Cursor/eduscribe/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/janjedrach/Cursor/eduscribe/src/app/text-notes/page.tsx"],x="/text-notes/page",u={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/text-notes/page",pathname:"/text-notes",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},52650:(e,r,t)=>{Promise.resolve().then(t.bind(t,50277))},50277:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>m});var a=t(10326),s=t(17577),o=t(35047),l=t(48193),n=t(73189),i=t(83640),d=t(33947),c=t(21027),x=t(75991);function u(){let e=(0,o.useRouter)(),r=(0,o.useSearchParams)(),t=r?.get("id"),{user:u,supabase:m}=(0,n.$)(),[p,h]=(0,s.useState)(null),[b,g]=(0,s.useState)(!0),[v,y]=(0,s.useState)(""),[j,f]=(0,s.useState)(!1),{canUseQuizzes:N}=(0,i.m)(),[w,k]=(0,s.useState)(!0),D=async()=>{if(t&&u)try{let{data:{session:r}}=await m.auth.getSession(),a=r?.access_token;if(!a)throw Error("No authentication token available");console.log(`[TextNotesPage] Deleting note with ID: ${t}`);let s=await fetch(`/api/text-notes?id=${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(!s.ok){let e=await s.json();throw Error(e.message||"Failed to delete note")}console.log(`[TextNotesPage] Successfully deleted note: ${t}`),e.push("/dashboard")}catch(e){console.error("[TextNotesPage] Error deleting note:",e),y(e.message||"Failed to delete note"),f(!1)}};return u?b?a.jsx("div",{className:"min-h-screen",style:{background:"var(--bg-primary)"},children:a.jsx("main",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-16 h-16 rounded-full animate-spin mx-auto mb-6",style:{border:"4px solid var(--bg-tertiary)",borderTop:"4px solid var(--color-text)"}}),a.jsx("h2",{className:"text-2xl font-semibold",style:{color:"var(--text-primary)"},children:"Loading your text notes..."})]})})})}):v?a.jsx("div",{className:"min-h-screen",style:{background:"var(--bg-primary)"},children:a.jsx("main",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:(0,a.jsxs)("div",{className:"p-6 text-center rounded-2xl",style:{background:"linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%)",border:"2px solid #ef4444",boxShadow:"0 0 20px rgba(239, 68, 68, 0.3)"},children:[a.jsx("h2",{className:"text-2xl font-semibold mb-2",style:{color:"#ef4444"},children:"Error"}),a.jsx("p",{className:"mb-6",style:{color:"var(--text-secondary)"},children:v}),(0,a.jsxs)("div",{className:"flex justify-center gap-4",children:[a.jsx("button",{onClick:()=>e.push("/dashboard"),className:"px-6 py-3 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105",style:{background:"var(--color-cta)",color:"var(--bg-primary)",boxShadow:"var(--glow-cta)"},children:"Back to Dashboard"}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105",style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--bg-tertiary)"},children:"Try Again"})]})]})})})}):p?(0,a.jsxs)("div",{className:"min-h-screen",style:{background:"var(--bg-primary)"},children:[a.jsx("main",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[a.jsx("div",{className:"rounded-2xl p-6 mb-6",style:{background:"linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%)",border:"1px solid var(--bg-tertiary)",boxShadow:"var(--shadow-lg)"},children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-16 h-16 rounded-xl flex items-center justify-center",style:{background:"linear-gradient(135deg, var(--color-text) 0%, var(--color-file) 100%)",boxShadow:"var(--glow-text)"},children:a.jsx("span",{className:"text-2xl",children:"\uD83D\uDCDD"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold mb-2",style:{color:"var(--text-primary)"},children:[p.title||"Text Notes"," – ",new Date(p.created_at).toLocaleDateString()]}),(0,a.jsxs)("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:["Created: ",new Date(p.created_at).toLocaleString()]})]}),a.jsx("div",{className:"flex flex-col justify-end",children:a.jsx(x.Z,{noteId:p.id,noteType:"text",noteTitle:p.title||"Text Notes",noteContent:w?p.content:p.summary||p.content,className:"text-sm"})})]})}),(0,a.jsxs)("div",{className:"rounded-2xl p-6 mb-6",style:{background:"linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%)",border:"1px solid var(--bg-tertiary)",boxShadow:"var(--shadow-lg)"},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Generated Notes"}),a.jsx("div",{className:"flex items-center gap-3",children:p.summary&&(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>k(!0),className:`px-4 py-2 rounded-xl font-medium transition-all duration-300 ${w?"transform scale-105":""}`,style:{background:w?"var(--color-cta)":"var(--bg-tertiary)",color:w?"var(--bg-primary)":"var(--text-secondary)",boxShadow:w?"var(--glow-cta)":"none"},children:"\uD83D\uDCD6 View Full Notes"}),a.jsx("button",{onClick:()=>k(!1),className:`px-4 py-2 rounded-xl font-medium transition-all duration-300 ${w?"":"transform scale-105"}`,style:{background:w?"var(--bg-tertiary)":"var(--color-cta)",color:w?"var(--text-secondary)":"var(--bg-primary)",boxShadow:w?"none":"var(--glow-cta)"},children:"\uD83D\uDCDD View Summary"})]})})]}),a.jsx("div",{className:"prose max-w-none prose-invert",style:{color:"var(--text-secondary)"},children:w?a.jsx(l.UG,{children:p.content}):(0,a.jsxs)("div",{className:"summary-section",children:[a.jsx("h3",{style:{color:"var(--text-primary)"},children:"\uD83D\uDCDD Summary Version"}),a.jsx(l.UG,{children:p.summary||"Summary not available."})]})})]}),p.quiz&&p.quiz.length>0&&(0,a.jsxs)("div",{className:"rounded-2xl p-6 mb-6",style:{background:"linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%)",border:"1px solid var(--bg-tertiary)",boxShadow:"var(--shadow-lg)"},children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",style:{color:"var(--text-primary)"},children:"\uD83D\uDCDD Test Your Knowledge"}),N?a.jsx(d.Z,{questions:p.quiz,noteId:p.id,noteType:"text",onComplete:(e,r)=>{console.log(`Quiz completed: ${e}% (${e*r/100}/${r})`)}}):a.jsx(c.Z,{questionCount:p.quiz.length})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("button",{onClick:()=>e.push("/dashboard"),className:"px-6 py-3 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105",style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--bg-tertiary)",boxShadow:"var(--shadow-sm)"},children:"← Back to Dashboard"}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("button",{onClick:()=>f(!0),className:"px-6 py-3 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 flex items-center gap-2",style:{background:"linear-gradient(135deg, #ef4444, #dc2626)",color:"white",boxShadow:"0 0 20px rgba(239, 68, 68, 0.3)"},children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Note"]}),a.jsx("button",{onClick:()=>e.push("/generate/text"),className:"px-6 py-3 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105",style:{background:"var(--color-cta)",color:"var(--bg-primary)",boxShadow:"var(--glow-cta)"},children:"Generate More Notes →"})]})]})]})}),j&&a.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.7)"},children:(0,a.jsxs)("div",{className:"rounded-2xl p-6 max-w-md w-full mx-4",style:{background:"linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%)",border:"1px solid var(--bg-tertiary)",boxShadow:"var(--shadow-xl)"},children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{background:"linear-gradient(135deg, #ef4444, #dc2626)",boxShadow:"0 0 20px rgba(239, 68, 68, 0.3)"},children:a.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),a.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Delete Note"})]}),(0,a.jsxs)("p",{className:"mb-6",style:{color:"var(--text-secondary)"},children:['Are you sure you want to delete "',a.jsx("strong",{style:{color:"var(--text-primary)"},children:p?.title}),'"? This action cannot be undone.']}),(0,a.jsxs)("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>f(!1),className:"px-6 py-3 rounded-xl font-medium transition-all duration-300 transform hover:scale-105",style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--bg-tertiary)"},children:"Cancel"}),a.jsx("button",{onClick:D,className:"px-6 py-3 rounded-xl font-medium transition-all duration-300 transform hover:scale-105",style:{background:"linear-gradient(135deg, #ef4444, #dc2626)",color:"white",boxShadow:"0 0 20px rgba(239, 68, 68, 0.3)"},children:"Delete Note"})]})]})})]}):a.jsx("div",{className:"min-h-screen",style:{background:"var(--bg-primary)"},children:a.jsx("main",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-6",style:{color:"var(--text-primary)"},children:"Note not found"}),a.jsx("button",{onClick:()=>e.push("/dashboard"),className:"px-8 py-3 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105",style:{background:"var(--color-cta)",color:"var(--bg-primary)",boxShadow:"var(--glow-cta)"},children:"Back to Dashboard"})]})})})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:"var(--bg-primary)"},children:(0,a.jsxs)("div",{className:"text-center p-8 rounded-2xl",style:{background:"linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%)",border:"1px solid var(--bg-tertiary)",boxShadow:"var(--shadow-lg)"},children:[a.jsx("h2",{className:"text-2xl font-semibold mb-6",style:{color:"var(--text-primary)"},children:"Please log in to view notes"}),a.jsx("button",{onClick:()=>e.push("/"),className:"px-8 py-3 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105",style:{background:"var(--color-cta)",color:"var(--bg-primary)",boxShadow:"var(--glow-cta)"},children:"Go to Login"})]})})}function m(){return a.jsx(s.Suspense,{fallback:a.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:"var(--bg-primary)"},children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"w-20 h-20 rounded-full animate-spin mx-auto mb-6",style:{border:"4px solid var(--bg-tertiary)",borderTop:"4px solid var(--color-text)"}}),a.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading text notes..."})]})}),children:a.jsx(u,{})})}},75991:(e,r,t)=>{"use strict";t.d(r,{Z:()=>o});var a=t(10326),s=t(17577);function o({noteId:e,noteType:r,noteTitle:t,noteContent:o,className:l=""}){let[n,i]=(0,s.useState)(!1),[d,c]=(0,s.useState)(!1),x=async()=>{if(!n){i(!0);try{let e=`EDUSCRIBE: ${t}

${"=".repeat(50)}

${o}

${"=".repeat(50)}
Generated by EduScribe - AI-powered note generation
`.replace(/#{1,6}\s+/g,"").replace(/\*\*(.*?)\*\*/g,"$1").replace(/\*(.*?)\*/g,"$1").replace(/`(.*?)`/g,"$1").replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/---+/g,"─".repeat(50)).replace(/•/g,"- ").replace(/📝|📖|🎥|📹|📄|📁|🧠|⭐|🔥/g,"").trim(),r=new Blob([e],{type:"text/plain;charset=utf-8"}),a=URL.createObjectURL(r),s=document.createElement("a");s.href=a,s.download="eduscribe_note.txt",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a),c(!0),setTimeout(()=>c(!1),3e3)}catch(e){console.error("Failed to export note:",e)}finally{i(!1)}}};return d?a.jsx("div",{className:"relative group",children:(0,a.jsxs)("button",{disabled:!0,className:`bg-green-600 text-white px-3 py-1.5 rounded-md flex items-center gap-2 ${l}`,children:[a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Downloaded!"]})}):n?a.jsx("div",{className:"relative group",children:(0,a.jsxs)("button",{disabled:!0,className:`bg-purple-600 text-white px-3 py-1.5 rounded-md flex items-center gap-2 ${l}`,children:[a.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Exporting..."]})}):(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsxs)("button",{onClick:x,className:`bg-purple-600 text-white px-3 py-1.5 rounded-md hover:bg-purple-700 transition-colors flex items-center gap-2 ${l}`,children:[a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export to Notatnik"]}),a.jsx("div",{className:"absolute bottom-full right-0 mb-2 hidden group-hover:block z-10",children:(0,a.jsxs)("div",{className:"bg-gray-900 text-white text-xs rounded-lg px-3 py-2 whitespace-nowrap",children:["Downloads as .txt file - open with Notepad or any text editor",a.jsx("div",{className:"absolute top-full right-6 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})})]})}},72298:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`/Users/janjedrach/Cursor/eduscribe/src/app/text-notes/page.tsx#default`)}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[9276,4262,8193,5773,4896],()=>t(82962));module.exports=a})();